"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[74298],{55642:function(e,t,i){i.d(t,{h:function(){return l}});var n=i(68990),o=i(71650),a=i(33368),r=i(69205),s=i(70906),u=i(68144),c=i(57835),l=(0,c.XM)(function(e){(0,r.Z)(i,e);var t=(0,s.Z)(i);function i(e){var n;if((0,o.Z)(this,i),(n=t.call(this,e))._element=void 0,e.type!==c.pX.CHILD)throw new Error("dynamicElementDirective can only be used in content bindings");return n}return(0,a.Z)(i,[{key:"update",value:function(e,t){var i=this,o=(0,n.Z)(t,2),a=o[0],r=o[1];return this._element&&this._element.localName===a?(r&&Object.entries(r).forEach((function(e){var t=(0,n.Z)(e,2),o=t[0],a=t[1];i._element[o]=a})),u.Jb):this.render(a,r)}},{key:"render",value:function(e,t){var i=this;return this._element=document.createElement(e),t&&Object.entries(t).forEach((function(e){var t=(0,n.Z)(e,2),o=t[0],a=t[1];i._element[o]=a})),this._element}}]),i}(c.Xe))},22311:function(e,t,i){i.d(t,{N:function(){return o}});var n=i(58831),o=function(e){return(0,n.M)(e.entity_id)}},40095:function(e,t,i){i.d(t,{e:function(){return n},f:function(){return o}});var n=function(e,t){return o(e.attributes,t)},o=function(e,t){return 0!=(e.supported_features&t)}},77794:function(e,t,i){i.r(t);var n,o,a,r,s=i(88962),u=i(99312),c=i(81043),l=i(33368),d=i(71650),h=i(82390),_=i(69205),v=i(70906),m=i(91808),f=i(53709),p=i(68144),g=i(79932),k=i(14516),w=i(47181),y=(i(68331),i(10983),i(41682)),b=i(29748),Z=i(11654),x=i(27322),C=i(87744),M=(0,k.Z)((function(e,t,i,n){return[{name:"name",required:!0,disabled:t,selector:{text:{}}},{name:"usage",required:!0,type:"select",options:[[b.eX.BACKUP,e("ui.panel.config.storage.network_mounts.mount_usage.backup")],[b.eX.MEDIA,e("ui.panel.config.storage.network_mounts.mount_usage.media")],[b.eX.SHARE,e("ui.panel.config.storage.network_mounts.mount_usage.share")]]},{name:"server",required:!0,selector:{text:{}}},{name:"type",required:!0,type:"select",options:[[b.mw.CIFS,e("ui.panel.config.storage.network_mounts.mount_type.cifs")],[b.mw.NFS,e("ui.panel.config.storage.network_mounts.mount_type.nfs")]]}].concat((0,f.Z)("nfs"===i?[{name:"path",required:!0,selector:{text:{}}}]:"cifs"===i?[].concat((0,f.Z)(n?[{name:"version",required:!0,selector:{select:{options:[{label:e("ui.panel.config.storage.network_mounts.cifs_versions.auto"),value:"auto"},{label:e("ui.panel.config.storage.network_mounts.cifs_versions.legacy",{version:"2.0"}),value:"2.0"},{label:e("ui.panel.config.storage.network_mounts.cifs_versions.legacy",{version:"1.0"}),value:"1.0"}],mode:"dropdown"}}}]:[]),[{name:"share",required:!0,selector:{text:{}}},{name:"username",required:!1,selector:{text:{}}},{name:"password",required:!1,selector:{text:{type:"password"}}}]):[]))}));(0,m.Z)([(0,g.Mo)("dialog-mount-view")],(function(e,t){var i,m,f,k=function(t){(0,_.Z)(n,t);var i=(0,v.Z)(n);function n(){var t;(0,d.Z)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return t=i.call.apply(i,[this].concat(a)),e((0,h.Z)(t)),t}return(0,l.Z)(n)}(t);return{F:k,d:[{kind:"field",decorators:[(0,g.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,g.SB)()],key:"_data",value:void 0},{kind:"field",decorators:[(0,g.SB)()],key:"_waiting",value:void 0},{kind:"field",decorators:[(0,g.SB)()],key:"_error",value:void 0},{kind:"field",decorators:[(0,g.SB)()],key:"_validationError",value:void 0},{kind:"field",decorators:[(0,g.SB)()],key:"_validationWarning",value:void 0},{kind:"field",decorators:[(0,g.SB)()],key:"_existing",value:void 0},{kind:"field",decorators:[(0,g.SB)()],key:"_showCIFSVersion",value:void 0},{kind:"field",decorators:[(0,g.SB)()],key:"_reloadMounts",value:void 0},{kind:"method",key:"showDialog",value:(f=(0,c.Z)((0,u.Z)().mark((function e(t){var i;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._data=t.mount,this._existing=void 0!==t.mount,this._reloadMounts=t.reloadMounts,"cifs"===(null===(i=t.mount)||void 0===i?void 0:i.type)&&t.mount.version&&"auto"!==t.mount.version&&(this._showCIFSVersion=!0);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{kind:"method",key:"closeDialog",value:function(){this._data=void 0,this._waiting=void 0,this._error=void 0,this._validationError=void 0,this._validationWarning=void 0,this._existing=void 0,this._showCIFSVersion=void 0,this._reloadMounts=void 0,(0,w.B)(this,"dialog-closed",{dialog:this.localName})}},{kind:"method",key:"render",value:function(){var e;return void 0===this._existing?p.Ld:(0,p.dy)(n||(n=(0,s.Z)([' <ha-dialog open scrimClickAction escapeKeyAction .heading="','" @closed="','"> <ha-dialog-header slot="heading"> <span slot="title">',' </span> <a slot="actionItems" class="header_button" href="','" title="','" target="_blank" rel="noreferrer" dir="','"> <ha-icon-button .path="','"></ha-icon-button> </a> </ha-dialog-header> ',' <ha-form .data="','" .schema="','" .error="','" .warning="','" .computeLabel="','" .computeHelper="','" .computeError="','" .computeWarning="','" @value-changed="','" dialogInitialFocus></ha-form> <div slot="secondaryAction"> <mwc-button @click="','" dialogInitialFocus> '," </mwc-button> ",' </div> <mwc-button .disabled="','" slot="primaryAction" @click="','"> '," </mwc-button> </ha-dialog> "])),this._existing?this.hass.localize("ui.panel.config.storage.network_mounts.update_title"):this.hass.localize("ui.panel.config.storage.network_mounts.add_title"),this.closeDialog,this._existing?this.hass.localize("ui.panel.config.storage.network_mounts.update_title"):this.hass.localize("ui.panel.config.storage.network_mounts.add_title"),(0,x.R)(this.hass,"/common-tasks/os#network-storage"),this.hass.localize("ui.panel.config.storage.network_mounts.documentation"),(0,C.Zu)(this.hass),"M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z",this._error?(0,p.dy)(o||(o=(0,s.Z)(['<ha-alert alert-type="error">',"</ha-alert>"])),this._error):p.Ld,this._data,M(this.hass.localize,this._existing,null===(e=this._data)||void 0===e?void 0:e.type,this._showCIFSVersion),this._validationError,this._validationWarning,this._computeLabelCallback,this._computeHelperCallback,this._computeErrorCallback,this._computeWarningCallback,this._valueChanged,this.closeDialog,this.hass.localize("ui.common.cancel"),this._existing?(0,p.dy)(a||(a=(0,s.Z)(['<mwc-button @click="','" class="delete-btn"> '," </mwc-button>"])),this._deleteMount,this.hass.localize("ui.common.delete")):p.Ld,this._waiting,this._connectMount,this._existing?this.hass.localize("ui.panel.config.storage.network_mounts.update"):this.hass.localize("ui.panel.config.storage.network_mounts.connect"))}},{kind:"field",key:"_computeLabelCallback",value:function(){var e=this;return function(t){return e.hass.localize("ui.panel.config.storage.network_mounts.options.".concat(t.name,".title"))}}},{kind:"field",key:"_computeHelperCallback",value:function(){var e=this;return function(t){return e.hass.localize("ui.panel.config.storage.network_mounts.options.".concat(t.name,".description"))}}},{kind:"field",key:"_computeErrorCallback",value:function(){var e=this;return function(t){return e.hass.localize("ui.panel.config.storage.network_mounts.errors.".concat(t))||t}}},{kind:"field",key:"_computeWarningCallback",value:function(){var e=this;return function(t){return e.hass.localize("ui.panel.config.storage.network_mounts.warnings.".concat(t))||t}}},{kind:"method",key:"_valueChanged",value:function(e){var t,i,n;this._validationError={},this._validationWarning={},this._data=e.detail.value,null!==(t=this._data)&&void 0!==t&&t.name&&!/^\w+$/.test(this._data.name)&&(this._validationError.name="invalid_name"),"cifs"!==(null===(i=this._data)||void 0===i?void 0:i.type)||this._data.version||(this._data.version="auto"),"cifs"===(null===(n=this._data)||void 0===n?void 0:n.type)&&this._data.version&&["1.0","2.0"].includes(this._data.version)&&(this._validationWarning.version="not_recomeded_cifs_version")}},{kind:"method",key:"_connectMount",value:(m=(0,c.Z)((0,u.Z)().mark((function e(){var t;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._error=void 0,this._waiting=!0,"cifs"===(t=Object.assign({},this._data)).type&&"auto"===t.version&&(t.version=void 0),e.prev=4,!this._existing){e.next=10;break}return e.next=8,(0,b.TF)(this.hass,t);case 8:e.next=12;break;case 10:return e.next=12,(0,b.xM)(this.hass,t);case 12:e.next=20;break;case 14:return e.prev=14,e.t0=e.catch(4),this._error=(0,y.js)(e.t0),this._waiting=!1,"cifs"!==this._data.type||this._showCIFSVersion||(this._showCIFSVersion=!0),e.abrupt("return");case 20:this._reloadMounts&&this._reloadMounts(),this.closeDialog();case 22:case"end":return e.stop()}}),e,this,[[4,14]])}))),function(){return m.apply(this,arguments)})},{kind:"method",key:"_deleteMount",value:(i=(0,c.Z)((0,u.Z)().mark((function e(){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._error=void 0,this._waiting=!0,e.prev=2,e.next=5,(0,b.ap)(this.hass,this._data.name);case 5:e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(2),this._error=(0,y.js)(e.t0),this._waiting=!1,e.abrupt("return");case 12:this._reloadMounts&&this._reloadMounts(),this.closeDialog();case 14:case"end":return e.stop()}}),e,this,[[2,7]])}))),function(){return i.apply(this,arguments)})},{kind:"get",static:!0,key:"styles",value:function(){return[Z.Qx,Z.yu,(0,p.iv)(r||(r=(0,s.Z)(["ha-icon-button{color:var(--primary-text-color)}.delete-btn{--mdc-theme-primary:var(--error-color)}"])))]}}]}}),p.oi)},57835:function(e,t,i){i.d(t,{XM:function(){return n.XM},Xe:function(){return n.Xe},pX:function(){return n.pX}});var n=i(38941)}}]);
//# sourceMappingURL=74298-lEukvMqmyxU.js.map