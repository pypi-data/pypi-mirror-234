export const id=38290;export const ids=[38290,4631,31203];export const modules={57966:(t,e,i)=>{i.d(e,{z:()=>n});const n=t=>(e,i)=>t.includes(e,i)},26410:(t,e,i)=>{i.a(t,(async(t,n)=>{try{i.d(e,{Bt:()=>d,T8:()=>l});var a=i(22075),o=i(66477),s=i(4631),r=t([s]);s=(r.then?(await r)():r)[0];const c=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],d=t=>t.first_weekday===o.FS.language?"weekInfo"in Intl.Locale.prototype?new Intl.Locale(t.language).weekInfo.firstDay%7:(0,a.L)(t.language)%7:c.includes(t.first_weekday)?c.indexOf(t.first_weekday):1,l=t=>{const e=d(t);return c[e]};n()}catch(t){n(t)}}))},5435:(t,e,i)=>{i.a(t,(async(t,n)=>{try{i.d(e,{G:()=>d});var a=i(14516),o=i(4631),s=i(96191),r=t([o,s]);[o,s]=r.then?(await r)():r;const c=(0,a.Z)((t=>new Intl.RelativeTimeFormat(t.language,{numeric:"auto"}))),d=(t,e,i,n=!0)=>{const a=(0,s.W)(t,i,e);return n?c(e).format(a.value,a.unit):Intl.NumberFormat(e.language,{style:"unit",unit:a.unit,unitDisplay:"long"}).format(Math.abs(a.value))};n()}catch(t){n(t)}}))},91168:(t,e,i)=>{i.d(e,{Z:()=>a});const n=t=>t<10?`0${t}`:t;function a(t){const e=Math.floor(t/3600),i=Math.floor(t%3600/60),a=Math.floor(t%3600%60);return e>0?`${e}:${n(i)}:${n(a)}`:i>0?`${i}:${n(a)}`:a>0?""+a:null}},39197:(t,e,i)=>{i.d(e,{v:()=>o});var n=i(56007),a=i(58831);function o(t,e){const i=(0,a.M)(t.entity_id),o=void 0!==e?e:null==t?void 0:t.state;if(["button","event","input_button","scene"].includes(i))return o!==n.nZ;if((0,n.rk)(o))return!1;if(o===n.PX&&"alert"!==i)return!1;switch(i){case"alarm_control_panel":return"disarmed"!==o;case"alert":return"idle"!==o;case"cover":return"closed"!==o;case"device_tracker":case"person":return"not_home"!==o;case"lawn_mower":return["mowing","error"].includes(o);case"lock":return"locked"!==o;case"media_player":return"standby"!==o;case"vacuum":return!["idle","docked","paused"].includes(o);case"plant":return"problem"===o;case"group":return["on","home","open","locked","problem"].includes(o);case"timer":return"active"===o;case"camera":return"streaming"===o}return!0}},50768:(t,e,i)=>{i.d(e,{G:()=>s});var n=i(49706),a=i(58831),o=i(47772);const s=t=>t?(0,o.K)((0,a.M)(t.entity_id),t):n.Rb},40095:(t,e,i)=>{i.d(e,{e:()=>n,f:()=>a});const n=(t,e)=>a(t.attributes,e),a=(t,e)=>0!=(t.supported_features&e)},84627:(t,e,i)=>{i.d(e,{T:()=>a});const n=/^(\w+)\.(\w+)$/,a=t=>n.test(t)},21780:(t,e,i)=>{i.d(e,{f:()=>n});const n=t=>t.charAt(0).toUpperCase()+t.slice(1)},96191:(t,e,i)=>{i.a(t,(async(t,n)=>{try{i.d(e,{W:()=>d});var a=i(24112),o=i(59401),s=i(35040),r=i(26410),c=t([r]);r=(c.then?(await c)():c)[0];const l=1e3,h=60,u=60*h;function d(t,e=Date.now(),i,n={}){const c={...m,...n||{}},d=(+t-+e)/l;if(Math.abs(d)<c.second)return{value:Math.round(d),unit:"second"};const v=d/h;if(Math.abs(v)<c.minute)return{value:Math.round(v),unit:"minute"};const y=d/u;if(Math.abs(y)<c.hour)return{value:Math.round(y),unit:"hour"};const p=new Date(t),f=new Date(e);p.setHours(0,0,0,0),f.setHours(0,0,0,0);const k=(0,a.Z)(p,f);if(0===k)return{value:Math.round(y),unit:"hour"};if(Math.abs(k)<c.day)return{value:k,unit:"day"};const g=(0,r.Bt)(i),w=(0,o.Z)(p,{weekStartsOn:g}),b=(0,o.Z)(f,{weekStartsOn:g}),_=(0,s.Z)(w,b);if(0===_)return{value:k,unit:"day"};if(Math.abs(_)<c.week)return{value:_,unit:"week"};const x=p.getFullYear()-f.getFullYear(),$=12*x+p.getMonth()-f.getMonth();return 0===$?{value:_,unit:"week"}:Math.abs($)<c.month||0===x?{value:$,unit:"month"}:{value:Math.round(x),unit:"year"}}const m={second:45,minute:45,hour:22,day:5,week:4,month:11};n()}catch(v){n(v)}}))},9381:(t,e,i)=>{var n=i(17463),a=i(68144),o=i(79932),s=i(83448),r=i(47181);i(10983),i(52039);const c={info:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z",warning:"M12,2L1,21H23M12,6L19.53,19H4.47M11,10V14H13V10M11,16V18H13V16",error:"M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z",success:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2,4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"};(0,n.Z)([(0,o.Mo)("ha-alert")],(function(t,e){return{F:class extends e{constructor(...e){super(...e),t(this)}},d:[{kind:"field",decorators:[(0,o.Cb)()],key:"title",value:()=>""},{kind:"field",decorators:[(0,o.Cb)({attribute:"alert-type"})],key:"alertType",value:()=>"info"},{kind:"field",decorators:[(0,o.Cb)({type:Boolean})],key:"dismissable",value:()=>!1},{kind:"method",key:"render",value:function(){return a.dy` <div class="issue-type ${(0,s.$)({[this.alertType]:!0})}" role="alert"> <div class="icon ${this.title?"":"no-title"}"> <slot name="icon"> <ha-svg-icon .path="${c[this.alertType]}"></ha-svg-icon> </slot> </div> <div class="content"> <div class="main-content"> ${this.title?a.dy`<div class="title">${this.title}</div>`:""} <slot></slot> </div> <div class="action"> <slot name="action"> ${this.dismissable?a.dy`<ha-icon-button @click="${this._dismiss_clicked}" label="Dismiss alert" .path="${"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}"></ha-icon-button>`:""} </slot> </div> </div> </div> `}},{kind:"method",key:"_dismiss_clicked",value:function(){(0,r.B)(this,"alert-dismissed-clicked")}},{kind:"field",static:!0,key:"styles",value:()=>a.iv`.issue-type{position:relative;padding:8px;display:flex}.issue-type::after{position:absolute;top:0;right:0;bottom:0;left:0;opacity:.12;pointer-events:none;content:"";border-radius:4px}.icon{z-index:1}.icon.no-title{align-self:center}.content{display:flex;justify-content:space-between;align-items:center;width:100%;text-align:var(--float-start)}.action{z-index:1;width:min-content;--mdc-theme-primary:var(--primary-text-color)}.main-content{overflow-wrap:anywhere;word-break:break-word;margin-left:8px;margin-right:0;margin-inline-start:8px;margin-inline-end:0;direction:var(--direction)}.title{margin-top:2px;font-weight:700}.action ha-icon-button,.action mwc-button{--mdc-theme-primary:var(--primary-text-color);--mdc-icon-button-size:36px}.issue-type.info>.icon{color:var(--info-color)}.issue-type.info::after{background-color:var(--info-color)}.issue-type.warning>.icon{color:var(--warning-color)}.issue-type.warning::after{background-color:var(--warning-color)}.issue-type.error>.icon{color:var(--error-color)}.issue-type.error::after{background-color:var(--error-color)}.issue-type.success>.icon{color:var(--success-color)}.issue-type.success::after{background-color:var(--success-color)}`}]}}),a.oi)},81545:(t,e,i)=>{var n=i(17463),a=i(34541),o=i(47838),s=(i(65666),i(68144)),r=i(79932),c=i(74265);(0,n.Z)([(0,r.Mo)("ha-button-menu")],(function(t,e){class i extends e{constructor(...e){super(...e),t(this)}}return{F:i,d:[{kind:"field",key:c.gA,value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"corner",value:()=>"BOTTOM_START"},{kind:"field",decorators:[(0,r.Cb)()],key:"menuCorner",value:()=>"START"},{kind:"field",decorators:[(0,r.Cb)({type:Number})],key:"x",value:()=>null},{kind:"field",decorators:[(0,r.Cb)({type:Number})],key:"y",value:()=>null},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"multi",value:()=>!1},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"activatable",value:()=>!1},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"fixed",value:()=>!1},{kind:"field",decorators:[(0,r.IO)("mwc-menu",!0)],key:"_menu",value:void 0},{kind:"get",key:"items",value:function(){var t;return null===(t=this._menu)||void 0===t?void 0:t.items}},{kind:"get",key:"selected",value:function(){var t;return null===(t=this._menu)||void 0===t?void 0:t.selected}},{kind:"method",key:"focus",value:function(){var t,e;null!==(t=this._menu)&&void 0!==t&&t.open?this._menu.focusItemAtIndex(0):null===(e=this._triggerButton)||void 0===e||e.focus()}},{kind:"method",key:"render",value:function(){return s.dy` <div @click="${this._handleClick}"> <slot name="trigger" @slotchange="${this._setTriggerAria}"></slot> </div> <mwc-menu .corner="${this.corner}" .menuCorner="${this.menuCorner}" .fixed="${this.fixed}" .multi="${this.multi}" .activatable="${this.activatable}" .y="${this.y}" .x="${this.x}"> <slot></slot> </mwc-menu> `}},{kind:"method",key:"firstUpdated",value:function(t){(0,a.Z)((0,o.Z)(i.prototype),"firstUpdated",this).call(this,t),"rtl"===document.dir&&this.updateComplete.then((()=>{this.querySelectorAll("mwc-list-item").forEach((t=>{const e=document.createElement("style");e.innerHTML="span.material-icons:first-of-type { margin-left: var(--mdc-list-item-graphic-margin, 32px) !important; margin-right: 0px !important;}",t.shadowRoot.appendChild(e)}))}))}},{kind:"method",key:"_handleClick",value:function(){this.disabled||(this._menu.anchor=this,this._menu.show())}},{kind:"get",key:"_triggerButton",value:function(){return this.querySelector('ha-icon-button[slot="trigger"], mwc-button[slot="trigger"]')}},{kind:"method",key:"_setTriggerAria",value:function(){this._triggerButton&&(this._triggerButton.ariaHasPopup="menu")}},{kind:"get",static:!0,key:"styles",value:function(){return s.iv`:host{display:inline-block;position:relative}::slotted([disabled]){color:var(--disabled-text-color)}`}}]}}),s.oi)},42952:(t,e,i)=>{i.a(t,(async(t,e)=>{try{var n=i(17463),a=i(34541),o=i(47838),s=i(68144),r=i(79932),c=i(5435),d=i(21780),l=t([c]);c=(l.then?(await l)():l)[0];(0,n.Z)([(0,r.Mo)("ha-relative-time")],(function(t,e){class i extends e{constructor(...e){super(...e),t(this)}}return{F:i,d:[{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"datetime",value:void 0},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"capitalize",value:()=>!1},{kind:"field",key:"_interval",value:void 0},{kind:"method",key:"disconnectedCallback",value:function(){(0,a.Z)((0,o.Z)(i.prototype),"disconnectedCallback",this).call(this),this._clearInterval()}},{kind:"method",key:"connectedCallback",value:function(){(0,a.Z)((0,o.Z)(i.prototype),"connectedCallback",this).call(this),this.datetime&&this._startInterval()}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"firstUpdated",value:function(t){(0,a.Z)((0,o.Z)(i.prototype),"firstUpdated",this).call(this,t),this._updateRelative()}},{kind:"method",key:"update",value:function(t){(0,a.Z)((0,o.Z)(i.prototype),"update",this).call(this,t),this._updateRelative()}},{kind:"method",key:"_clearInterval",value:function(){this._interval&&(window.clearInterval(this._interval),this._interval=void 0)}},{kind:"method",key:"_startInterval",value:function(){this._clearInterval(),this._interval=window.setInterval((()=>this._updateRelative()),6e4)}},{kind:"method",key:"_updateRelative",value:function(){if(this.datetime){const t=(0,c.G)(new Date(this.datetime),this.hass.locale);this.innerHTML=this.capitalize?(0,d.f)(t):t}else this.innerHTML=this.hass.localize("ui.components.relative_time.never")}}]}}),s.fl);e()}catch(t){e(t)}}))},87037:(t,e,i)=>{var n=i(17463),a=i(68144),o=i(79932),s=i(50768);i(81312),i(52039);(0,n.Z)([(0,o.Mo)("ha-state-icon")],(function(t,e){return{F:class extends e{constructor(...e){super(...e),t(this)}},d:[{kind:"field",decorators:[(0,o.Cb)({attribute:!1})],key:"state",value:void 0},{kind:"field",decorators:[(0,o.Cb)()],key:"icon",value:void 0},{kind:"method",key:"render",value:function(){var t,e;return this.icon||null!==(t=this.state)&&void 0!==t&&t.attributes.icon?a.dy`<ha-icon .icon="${this.icon||(null===(e=this.state)||void 0===e?void 0:e.attributes.icon)}"></ha-icon>`:a.dy`<ha-svg-icon .path="${(0,s.G)(this.state)}"></ha-svg-icon>`}}]}}),a.oi)},43709:(t,e,i)=>{var n=i(17463),a=i(34541),o=i(47838),s=i(53464),r=i(4301),c=i(68144),d=i(79932),l=i(62359);(0,n.Z)([(0,d.Mo)("ha-switch")],(function(t,e){class i extends e{constructor(...e){super(...e),t(this)}}return{F:i,d:[{kind:"field",decorators:[(0,d.Cb)({type:Boolean})],key:"haptic",value:()=>!1},{kind:"method",key:"firstUpdated",value:function(){(0,a.Z)((0,o.Z)(i.prototype),"firstUpdated",this).call(this),this.addEventListener("change",(()=>{this.haptic&&(0,l.j)("light")}))}},{kind:"field",static:!0,key:"styles",value:()=>[r.W,c.iv`:host{--mdc-theme-secondary:var(--switch-checked-color)}.mdc-switch.mdc-switch--checked .mdc-switch__thumb{background-color:var(--switch-checked-button-color);border-color:var(--switch-checked-button-color)}.mdc-switch.mdc-switch--checked .mdc-switch__track{background-color:var(--switch-checked-track-color);border-color:var(--switch-checked-track-color)}.mdc-switch:not(.mdc-switch--checked) .mdc-switch__thumb{background-color:var(--switch-unchecked-button-color);border-color:var(--switch-unchecked-button-color)}.mdc-switch:not(.mdc-switch--checked) .mdc-switch__track{background-color:var(--switch-unchecked-track-color);border-color:var(--switch-unchecked-track-color)}`]}]}}),s.H)},22814:(t,e,i)=>{i.d(e,{Cp:()=>s,TZ:()=>r,W2:()=>o,YY:()=>c,iI:()=>a,oT:()=>n});const n=t=>t.map((t=>{if("string"!==t.type)return t;switch(t.name){case"username":return{...t,autocomplete:"username"};case"password":return{...t,autocomplete:"current-password"};case"code":return{...t,autocomplete:"one-time-code"};default:return t}})),a=(t,e)=>t.callWS({type:"auth/sign_path",path:e}),o=async(t,e,i,n)=>t.callWS({type:"config/auth_provider/homeassistant/create",user_id:e,username:i,password:n}),s=(t,e,i)=>t.callWS({type:"config/auth_provider/homeassistant/change_password",current_password:e,new_password:i}),r=(t,e,i)=>t.callWS({type:"config/auth_provider/homeassistant/admin_change_password",user_id:e,password:i}),c=t=>t.callWS({type:"auth/delete_all_refresh_tokens"})},56007:(t,e,i)=>{i.d(e,{PX:()=>s,V_:()=>r,lz:()=>o,nZ:()=>a,rk:()=>d});var n=i(57966);const a="unavailable",o="unknown",s="off",r=[a,o],c=[a,o,s],d=(0,n.z)(r);(0,n.z)(c)},40958:(t,e,i)=>{i.d(e,{rv:()=>d,eF:()=>o,WH:()=>r,aT:()=>a,mK:()=>c,mZ:()=>s});var n=i(91168);const a=t=>t.callWS({type:"timer/list"}),o=(t,e)=>t.callWS({type:"timer/create",...e}),s=(t,e,i)=>t.callWS({type:"timer/update",timer_id:e,...i}),r=(t,e)=>t.callWS({type:"timer/delete",timer_id:e}),c=t=>{if(!t.attributes.remaining)return;let e=function(t){const e=t.split(":").map(Number);return 3600*e[0]+60*e[1]+e[2]}(t.attributes.remaining);if("active"===t.state){const i=(new Date).getTime(),n=new Date(t.last_changed).getTime();e=Math.max(e-(i-n)/1e3,0)}return e},d=(t,e,i)=>{if(!e)return null;if("idle"===e.state||0===i)return t.formatEntityState(e);let a=(0,n.Z)(i||0);return"paused"===e.state&&(a=`${a} (${t.formatEntityState(e)})`),a}},43408:(t,e,i)=>{i.d(e,{H:()=>n});const n=t=>t.callWS({type:"webhook/list"})},94469:(t,e,i)=>{i.d(e,{j:()=>o});var n=i(47181);const a=()=>Promise.all([i.e(28426),i.e(28597),i.e(56299),i.e(97215),i.e(68200),i.e(88700),i.e(38538)]).then(i.bind(i,38538)),o=(t,e)=>{(0,n.B)(t,"show-dialog",{dialogTag:"dialog-ais-file",dialogImport:a,dialogParams:e})}},96321:(t,e,i)=>{var n=i(17463),a=i(34541),o=i(47838),s=i(68144),r=i(79932),c=(i(53973),i(89194),i(22098),i(43408)),d=i(47181);var l=i(11654),h=i(7323);let u=(0,n.Z)(null,(function(t,e){class n extends e{constructor(...e){super(...e),t(this)}}return{F:n,d:[{kind:"field",decorators:[(0,r.Cb)()],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"_localHooks",value:void 0},{kind:"get",static:!0,key:"properties",value:function(){return{hass:{},_localHooks:{}}}},{kind:"method",key:"connectedCallback",value:function(){(0,a.Z)((0,o.Z)(n.prototype),"connectedCallback",this).call(this),this._fetchData()}},{kind:"method",key:"render",value:function(){return s.dy` <ha-card header="Wywołania zwrotne HTTP"> <div class="card-content"> Wywołania zwrotne HTTP (Webhook) używane są do udostępniania powiadomień o zdarzeniach. Wszystko, co jest skonfigurowane do uruchamiania przez wywołanie zwrotne, ma publicznie dostępny unikalny adres URL, aby umożliwić wysyłanie danych do Asystenta domowego z dowolnego miejsca. ${this._renderBody()} <div class="footer"> <a href="https://www.home-assistant.io/docs/automation/trigger/#webhook-trigger" target="_blank"> Dowiedz się więcej o zwrotnym wywołaniu HTTP. </a> </div> </div> </ha-card> `}},{kind:"method",key:"_renderBody",value:function(){return this._localHooks?1===this._localHooks.length?s.dy` <div class="body-text"> Wygląda na to, że nie masz jeszcze zdefiniowanych żadnych wywołań zwrotnych. Rozpocznij od skonfigurowania <a href="/config/integrations"> integracji opartej na wywołaniu zwrotnym </a> lub przez tworzenie <a href="/config/automation/new"> automatyzacji opartej na wyzwalaczu webhook </a>. </div> `:this._localHooks.map((t=>s.dy` ${"aisdomprocesscommandfromframe"===t.webhook_id?s.dy` <div></div> `:s.dy` <div class="webhook" .entry="${t}"> <paper-item-body two-line> <div> ${t.name} ${t.domain===t.name.toLowerCase()?"":` (${t.domain})`} </div> <div secondary>${t.webhook_id}</div> </paper-item-body> <mwc-button @click="${this._handleManageButton}"> Pokaż </mwc-button> </div> `} `)):s.dy` <div class="body-text">Pobieranie…</div> `}},{kind:"method",key:"_showDialog",value:function(t){const e=this._localHooks.find((e=>e.webhook_id===t));var n,a;n=this,a={webhook:e},(0,d.B)(n,"show-dialog",{dialogTag:"dialog-manage-ais-cloudhook",dialogImport:()=>Promise.all([i.e(42850),i.e(46992),i.e(28597),i.e(86215)]).then(i.bind(i,96519)),dialogParams:a})}},{kind:"method",key:"_handleManageButton",value:function(t){const e=t.currentTarget.parentElement.entry;this._showDialog(e.webhook_id)}},{kind:"method",key:"_fetchData",value:async function(){if(!(0,h.p)(this.hass,"webhook"))return void(this._localHooks=[]);const t=await(0,c.H)(this.hass);this._localHooks=t.filter((t=>!t.local_only&&("mobile_app"!==t.domain||"Deleted Webhook"!==t.name)))}},{kind:"get",static:!0,key:"styles",value:function(){return[l.Qx,s.iv`.body-text{padding:8px 0}.webhook{display:flex;padding:4px 0}.progress{margin-right:16px;display:flex;flex-direction:column;justify-content:center}.footer{padding-top:16px}.body-text a,.footer a{color:var(--primary-color)}`]}}]}}),s.oi);customElements.define("ais-webhooks",u)},73142:(t,e,i)=>{i.a(t,(async(t,n)=>{try{i.r(e);var a=i(17463),o=(i(44577),i(81545),i(31203)),s=(i(27289),i(12730),i(68144)),r=i(79932),c=(i(60010),i(38353),i(27213),i(96321),i(43709),i(94469)),d=t([o]);o=(d.then?(await d)():d)[0];const l="M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z";(0,a.Z)([(0,r.Mo)("ha-config-ais-dom-config-remote")],(function(t,e){return{F:class extends e{constructor(...e){super(...e),t(this)}},d:[{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"_qrCode",value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"narrow",value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"remoteDomain",value:void 0},{kind:"method",key:"_generateQR",value:async function(){const t=await i.e(51970).then(i.t.bind(i,51970,19)),e=await t.toCanvas(`${this.remoteDomain}`,{width:280,errorCorrectionLevel:"Q"}),n=e.getContext("2d"),a=new Image;a.src="/static/icons/favicon-192x192.png",await new Promise((t=>{a.onload=t})),n.drawImage(a,e.width/3,e.height/3,e.width/3,e.height/3),this._qrCode=s.dy`<img src="${e.toDataURL()}">`}},{kind:"method",key:"changeRemote",value:function(){this.hass.callService("input_boolean","toggle",{entity_id:"input_boolean.ais_remote_access"})}},{kind:"method",key:"enableGatePariringByPin",value:function(){this.hass.callService("ais_cloud","enable_gate_pairing_by_pin")}},{kind:"method",key:"firstUpdated",value:function(){this._generateQR()}},{kind:"method",key:"render",value:function(){return this.remoteDomain="https://"+this.hass.states["sensor.ais_secure_android_id_dom"].state+".paczka.pro",s.dy` <hass-subpage header="Konfiguracja bramki AIS dom"> ${"on"===this.hass.states["input_boolean.ais_remote_access"].state?s.dy` <ha-button-menu corner="BOTTOM_START" slot="toolbar-icon"> <mwc-icon-button slot="trigger" alt="menu"> <ha-svg-icon .path="${l}"></ha-svg-icon> </mwc-icon-button> <mwc-list-item @click="${this._openCloudflareFileConfig}"> Cloudflare config.yaml </mwc-list-item> <mwc-list-item @click="${this._restartTunnelService}"> Restart tunnel sevice </mwc-list-item> </ha-button-menu> `:" "} <div> <ha-config-section> <span slot="header">Zdalny dostęp</span> <span slot="introduction">W tej sekcji możesz skonfigurować zdalny dostęp do bramki</span> <ha-card header="Szyfrowany tunel"> <div id="ha-switch-id"> <ha-switch .checked="${"on"===this.hass.states["input_boolean.ais_remote_access"].state}" @change="${this.changeRemote}"></ha-switch> </div> <div class="card-content"> Tunel zapewnia bezpieczne zdalne połączenie z Twoim urządzeniem kiedy jesteś z dala od domu. Twoja bramka dostępna ${"on"===this.hass.states["input_boolean.ais_remote_access"].state?s.dy` jest `:" będzie "} z Internetu pod adresem <a href="${this.remoteDomain}" target="_blank">${this.remoteDomain}</a>. <div class="center-container border" style="height:320px;text-align:center"> <div id="qr" style="text-align:center;margin-top:10px"> ${this._qrCode?this._qrCode:s.dy` <mwc-button @click="${this._generateQR}">Pokaż kod QR </mwc-button> `} </div> Zeskanuj kod QR za pomocą aplikacji na telefonie. </div> </div> <div class="card-content" style="text-align:center"> <svg style="width:48px;height:48px" viewBox="0 0 24 24"> <path fill="#929395" d="M1,11H6L3.5,8.5L4.92,7.08L9.84,12L4.92,16.92L3.5,15.5L6,13H1V11M8,0H16L16.83,5H17A2,2 0 0,1 19,7V17C19,18.11 18.1,19 17,19H16.83L16,24H8L7.17,19H7C6.46,19 6,18.79 5.62,18.44L7.06,17H17V7H7.06L5.62,5.56C6,5.21 6.46,5 7,5H7.17L8,0Z"/> </svg> <br> ${"active"===this.hass.states["timer.ais_dom_pin_join"].state?s.dy`PIN aktywny przez dwie munuty: <br> <span class="pin">${this.hass.states["sensor.gate_pairing_pin"].state}</span><br> `:s.dy`<br> <mwc-button @click="${this.enableGatePariringByPin}">Generuj kod PIN</mwc-button>`} </div> <div class="card-actions"> <a href="https://www.ai-speaker.com/docs/ais_bramka_remote_www_index" target="_blank"> <mwc-button>Dowiedz się jak to działa</mwc-button> </a> </div> </ha-card> <ais-webhooks .hass="${this.hass}"></ais-webhooks> </ha-config-section> </div> </hass-subpage> `}},{kind:"method",key:"_openCloudflareFileConfig",value:async function(){const t="/data/data/com.termux/files/home/.cloudflared/config.yaml",e={dialogTitle:"Cloudflare config.yaml",filePath:t,fileBody:await this.hass.callApi("POST","ais_file/read",{filePath:t}),readonly:!0};(0,c.j)(this,e)}},{kind:"method",key:"_restartTunnelService",value:async function(){this.hass.callService("ais_shell_command","restart_pm2_service",{service:"tunnel"})}},{kind:"get",static:!0,key:"styles",value:function(){return[s.iv`.content{padding-bottom:32px}a{color:var(--primary-color)}span.pin{color:var(--primary-color);font-size:2em}.border{margin-bottom:12px;border-bottom:2px solid rgba(0,0,0,.11);max-width:1040px}.narrow .border{max-width:640px}.center-container{@apply --layout-vertical;@apply --layout-center-center;height:70px}ha-card>div#ha-switch-id{margin:-4px 0;position:absolute;right:8px;top:32px}.card-actions a{text-decoration:none}`]}}]}}),s.oi);n()}catch(t){n(t)}}))},93491:(t,e,i)=>{i.d(e,{K:()=>l});i(27763);var n=i(68144),a=i(57835),o=i(47181),s=i(36639);const r="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;class c extends HTMLElement{constructor(){super(),this.holdTime=500,this.ripple=void 0,this.timer=void 0,this.held=!1,this.cancelled=!1,this.dblClickTimeout=void 0,this.ripple=document.createElement("mwc-ripple")}connectedCallback(){Object.assign(this.style,{position:"fixed",width:r?"100px":"50px",height:r?"100px":"50px",transform:"translate(-50%, -50%)",pointerEvents:"none",zIndex:"999"}),this.appendChild(this.ripple),this.ripple.primary=!0,["touchcancel","mouseout","mouseup","touchmove","mousewheel","wheel","scroll"].forEach((t=>{document.addEventListener(t,(()=>{this.cancelled=!0,this.timer&&(this.stopAnimation(),clearTimeout(this.timer),this.timer=void 0)}),{passive:!0})}))}bind(t,e={}){t.actionHandler&&(0,s.v)(e,t.actionHandler.options)||(t.actionHandler?(t.removeEventListener("touchstart",t.actionHandler.start),t.removeEventListener("touchend",t.actionHandler.end),t.removeEventListener("touchcancel",t.actionHandler.end),t.removeEventListener("mousedown",t.actionHandler.start),t.removeEventListener("click",t.actionHandler.end),t.removeEventListener("keydown",t.actionHandler.handleKeyDown)):t.addEventListener("contextmenu",(t=>{const e=t||window.event;return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,e.returnValue=!1,!1})),t.actionHandler={options:e},e.disabled||(t.actionHandler.start=t=>{let i,n;this.cancelled=!1,t.touches?(i=t.touches[0].clientX,n=t.touches[0].clientY):(i=t.clientX,n=t.clientY),e.hasHold&&(this.held=!1,this.timer=window.setTimeout((()=>{this.startAnimation(i,n),this.held=!0}),this.holdTime))},t.actionHandler.end=t=>{if(["touchend","touchcancel"].includes(t.type)&&this.cancelled)return;const i=t.target;t.cancelable&&t.preventDefault(),e.hasHold&&(clearTimeout(this.timer),this.stopAnimation(),this.timer=void 0),e.hasHold&&this.held?(0,o.B)(i,"action",{action:"hold"}):e.hasDoubleClick?"click"===t.type&&t.detail<2||!this.dblClickTimeout?this.dblClickTimeout=window.setTimeout((()=>{this.dblClickTimeout=void 0,(0,o.B)(i,"action",{action:"tap"})}),250):(clearTimeout(this.dblClickTimeout),this.dblClickTimeout=void 0,(0,o.B)(i,"action",{action:"double_tap"})):(0,o.B)(i,"action",{action:"tap"})},t.actionHandler.handleKeyDown=t=>{["Enter"," "].includes(t.key)&&t.currentTarget.actionHandler.end(t)},t.addEventListener("touchstart",t.actionHandler.start,{passive:!0}),t.addEventListener("touchend",t.actionHandler.end),t.addEventListener("touchcancel",t.actionHandler.end),t.addEventListener("mousedown",t.actionHandler.start,{passive:!0}),t.addEventListener("click",t.actionHandler.end),t.addEventListener("keydown",t.actionHandler.handleKeyDown)))}startAnimation(t,e){Object.assign(this.style,{left:`${t}px`,top:`${e}px`,display:null}),this.ripple.disabled=!1,this.ripple.startPress(),this.ripple.unbounded=!0}stopAnimation(){this.ripple.endPress(),this.ripple.disabled=!0,this.style.display="none"}}customElements.define("action-handler",c);const d=(t,e)=>{const i=(()=>{const t=document.body;if(t.querySelector("action-handler"))return t.querySelector("action-handler");const e=document.createElement("action-handler");return t.appendChild(e),e})();i&&i.bind(t,e)},l=(0,a.XM)(class extends a.Xe{update(t,[e]){return d(t.element,e),n.Jb}render(t){}})},22193:(t,e,i)=>{function n(t){return void 0!==t&&"none"!==t.action}i.d(e,{_:()=>n})},53658:(t,e,i)=>{i.d(e,{G2:()=>r,SN:()=>a,Wh:()=>c});var n=i(90271);function a(t,e){if(e.has("_config"))return!0;const i=e.get("hass");return!i||(i.connected!==t.hass.connected||i.themes!==t.hass.themes||i.locale!==t.hass.locale||i.localize!==t.hass.localize||i.formatEntityState!==t.hass.formatEntityState||i.formatEntityAttributeName!==t.hass.formatEntityAttributeName||i.formatEntityAttributeValue!==t.hass.formatEntityAttributeValue||i.config.state!==t.hass.config.state)}function o(t,e,i){return t.states[i]!==e.states[i]}function s(t,e,i){const n=t.entities[i],a=e.entities[i];return(null==n?void 0:n.display_precision)!==(null==a?void 0:a.display_precision)}function r(t,e){if(a(t,e))return!0;const i=e.get("hass"),n=t.hass;return o(i,n,t._config.entity)||s(i,n,t._config.entity)}function c(t,e){if(a(t,e))return!0;const i=e.get("hass"),r=t.hass;return(0,n.A)(t._config.entities,!1).some((t=>"entity"in t&&(o(i,r,t.entity)||s(i,r,t.entity))))}},90271:(t,e,i)=>{i.d(e,{A:()=>a});var n=i(84627);const a=(t,e=!0)=>{if(!t||!Array.isArray(t))throw new Error("Entities need to be an array");return t.map(((t,i)=>{if("object"==typeof t&&!Array.isArray(t)&&t.type)return t;let a;if("string"==typeof t)a={entity:t};else{if("object"!=typeof t||Array.isArray(t))throw new Error(`Invalid entity ID at position ${i}`);if(!("entity"in t))throw new Error(`Object at position ${i} is missing entity field`);a=t}if(e&&!(0,n.T)(a.entity))throw new Error(`Invalid entity ID at position ${i}: ${a.entity}`);return a}))}},91476:(t,e,i)=>{i.a(t,(async(t,e)=>{try{var n=i(17463),a=i(34541),o=i(47838),s=i(68144),r=i(79932),c=i(83448),d=i(30153),l=i(49706),h=i(70518),u=i(58831),m=i(91741),v=i(87744),y=(i(3143),i(42952)),p=i(93491),f=i(17616),k=i(22193),g=i(75502),w=t([y]);y=(w.then?(await w)():w)[0];let b=(0,n.Z)(null,(function(t,e){class i extends e{constructor(...e){super(...e),t(this)}}return{F:i,d:[{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"config",value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"secondaryText",value:void 0},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"hideName",value:()=>!1},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"catchInteraction",value:void 0},{kind:"method",key:"render",value:function(){var t,e;if(!this.hass||!this.config)return s.Ld;const i=this.config.entity?this.hass.states[this.config.entity]:void 0;if(!i)return s.dy` <hui-warning> ${(0,g.i)(this.hass,this.config.entity)} </hui-warning> `;const n=(0,u.M)(this.config.entity),a=!(this.config.tap_action&&"none"===this.config.tap_action.action),o=this.secondaryText||this.config.secondary_info,r=null!==(t=this.config.name)&&void 0!==t?t:(0,m.C)(i);return s.dy` <state-badge class="${(0,c.$)({pointer:a})}" .hass="${this.hass}" .stateObj="${i}" .overrideIcon="${this.config.icon}" .overrideImage="${this.config.image}" .stateColor="${this.config.state_color}" @action="${this._handleAction}" .actionHandler="${(0,p.K)({hasHold:(0,k._)(this.config.hold_action),hasDoubleClick:(0,k._)(this.config.double_tap_action)})}" tabindex="${(0,d.o)(a?"0":void 0)}"></state-badge> ${this.hideName?s.Ld:s.dy`<div class="info ${(0,c.$)({pointer:a,"text-content":!o})}" @action="${this._handleAction}" .actionHandler="${(0,p.K)({hasHold:(0,k._)(this.config.hold_action),hasDoubleClick:(0,k._)(this.config.double_tap_action)})}" .title="${r}"> ${this.config.name||(0,m.C)(i)} ${o?s.dy` <div class="secondary"> ${this.secondaryText||("entity-id"===this.config.secondary_info?i.entity_id:"last-changed"===this.config.secondary_info?s.dy` <ha-relative-time .hass="${this.hass}" .datetime="${i.last_changed}" capitalize></ha-relative-time> `:"last-updated"===this.config.secondary_info?s.dy` <ha-relative-time .hass="${this.hass}" .datetime="${i.last_updated}" capitalize></ha-relative-time> `:"last-triggered"===this.config.secondary_info?i.attributes.last_triggered?s.dy` <ha-relative-time .hass="${this.hass}" .datetime="${i.attributes.last_triggered}" capitalize></ha-relative-time> `:this.hass.localize("ui.panel.lovelace.cards.entities.never_triggered"):"position"===this.config.secondary_info&&void 0!==i.attributes.current_position?`${this.hass.localize("ui.card.cover.position")}: ${i.attributes.current_position}`:"tilt-position"===this.config.secondary_info&&void 0!==i.attributes.current_tilt_position?`${this.hass.localize("ui.card.cover.tilt_position")}: ${i.attributes.current_tilt_position}`:"brightness"===this.config.secondary_info&&i.attributes.brightness?s.dy`${Math.round(i.attributes.brightness/255*100)} %`:"")} </div> `:""} </div>`} ${(null!==(e=this.catchInteraction)&&void 0!==e?e:!l.AF.includes(n))?s.dy`<div class="text-content value ${(0,c.$)({pointer:a})}" @action="${this._handleAction}" .actionHandler="${(0,p.K)({hasHold:(0,k._)(this.config.hold_action),hasDoubleClick:(0,k._)(this.config.double_tap_action)})}"> <div class="state"><slot></slot></div> </div>`:s.dy`<slot></slot>`} `}},{kind:"method",key:"updated",value:function(t){var e;(0,a.Z)((0,o.Z)(i.prototype),"updated",this).call(this,t),(0,h.X)(this,"no-secondary",!(this.secondaryText||null!==(e=this.config)&&void 0!==e&&e.secondary_info)),t.has("hass")&&(0,h.X)(this,"rtl",(0,v.HE)(this.hass))}},{kind:"method",key:"_handleAction",value:function(t){(0,f.G)(this,this.hass,this.config,t.detail.action)}},{kind:"get",static:!0,key:"styles",value:function(){return s.iv`:host{display:flex;align-items:center;flex-direction:row}.info{margin-left:16px;margin-right:8px;flex:1 1 30%}.info,.info>*{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.flex ::slotted(*){margin-left:8px;min-width:0}.flex ::slotted([slot=secondary]){margin-left:0}.secondary,ha-relative-time{color:var(--secondary-text-color)}state-badge{flex:0 0 40px}:host([rtl]) .flex{margin-left:0;margin-right:16px}:host([rtl]) .flex ::slotted(*){margin-left:0;margin-right:8px}.pointer{cursor:pointer}.state{text-align:right}.state.rtl{text-align:left}.value{direction:ltr}`}}]}}),s.oi);customElements.define("hui-generic-entity-row",b),e()}catch(t){e(t)}}))},75502:(t,e,i)=>{i.d(e,{i:()=>r});var n=i(17463),a=i(28101),o=i(68144),s=i(79932);i(9381);const r=(t,e)=>t.config.state!==a.UE?t.localize("ui.panel.lovelace.warning.entity_not_found","entity",e||"[empty]"):t.localize("ui.panel.lovelace.warning.starting");(0,n.Z)([(0,s.Mo)("hui-warning")],(function(t,e){return{F:class extends e{constructor(...e){super(...e),t(this)}},d:[{kind:"method",key:"render",value:function(){return o.dy`<ha-alert alert-type="warning"><slot></slot></ha-alert> `}}]}}),o.oi)},31203:(t,e,i)=>{i.a(t,(async(t,n)=>{try{i.r(e);var a=i(17463),o=i(34541),s=i(47838),r=i(68144),c=i(79932),d=i(40958),l=i(53658),h=i(91476),u=i(75502),m=t([h]);h=(m.then?(await m)():m)[0];(0,a.Z)([(0,c.Mo)("hui-timer-entity-row")],(function(t,e){class i extends e{constructor(...e){super(...e),t(this)}}return{F:i,d:[{kind:"field",decorators:[(0,c.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,c.SB)()],key:"_config",value:void 0},{kind:"field",decorators:[(0,c.SB)()],key:"_timeRemaining",value:void 0},{kind:"field",key:"_interval",value:void 0},{kind:"method",key:"setConfig",value:function(t){if(!t)throw new Error("Invalid configuration");if(this._config=t,!this.hass)return;const e=this.hass.states[this._config.entity];e?this._startInterval(e):this._clearInterval()}},{kind:"method",key:"disconnectedCallback",value:function(){(0,o.Z)((0,s.Z)(i.prototype),"disconnectedCallback",this).call(this),this._clearInterval()}},{kind:"method",key:"connectedCallback",value:function(){if((0,o.Z)((0,s.Z)(i.prototype),"connectedCallback",this).call(this),this._config&&this._config.entity){var t;const e=null===(t=this.hass)||void 0===t?void 0:t.states[this._config.entity];e&&this._startInterval(e)}}},{kind:"method",key:"render",value:function(){if(!this._config||!this.hass)return r.Ld;const t=this.hass.states[this._config.entity];return t?r.dy` <hui-generic-entity-row .hass="${this.hass}" .config="${this._config}"> <div class="text-content"> ${(0,d.rv)(this.hass,t,this._timeRemaining)} </div> </hui-generic-entity-row> `:r.dy` <hui-warning> ${(0,u.i)(this.hass,this._config.entity)} </hui-warning> `}},{kind:"method",key:"shouldUpdate",value:function(t){return!!t.has("_timeRemaining")||(0,l.G2)(this,t)}},{kind:"method",key:"updated",value:function(t){if((0,o.Z)((0,s.Z)(i.prototype),"updated",this).call(this,t),!this._config||!t.has("hass"))return;const e=this.hass.states[this._config.entity],n=t.get("hass");(n?n.states[this._config.entity]:void 0)!==e?this._startInterval(e):e||this._clearInterval()}},{kind:"method",key:"_clearInterval",value:function(){this._interval&&(window.clearInterval(this._interval),this._interval=void 0)}},{kind:"method",key:"_startInterval",value:function(t){this._clearInterval(),this._calculateRemaining(t),"active"===t.state&&(this._interval=window.setInterval((()=>this._calculateRemaining(t)),1e3))}},{kind:"method",key:"_calculateRemaining",value:function(t){this._timeRemaining=(0,d.mK)(t)}}]}}),r.oi);n()}catch(t){n(t)}}))},4631:(t,e,i)=>{i.a(t,(async(t,n)=>{try{i.r(e);var a=i(43170),o=i(27499),s=i(32812),r=i(27815),c=i(64532),d=i(82874),l=i(69906),h=i(24517);const t=async()=>{const t=(0,l.sS)(),e=[];(0,s.Y)()&&await Promise.all([i.e(77021),i.e(48196)]).then(i.bind(i,48196)),(0,r.Y)(t)&&e.push(Promise.all([i.e(77021),i.e(20655)]).then(i.bind(i,20655))),(0,c.Y)(t)&&e.push(Promise.all([i.e(77021),i.e(20759)]).then(i.bind(i,20759))),(0,a.Y)(t)&&e.push(Promise.all([i.e(77021),i.e(76554)]).then(i.bind(i,76554)).then((()=>i.e(6042).then(i.t.bind(i,6042,23))))),(0,o.Yq)(t)&&e.push(Promise.all([i.e(77021),i.e(72684)]).then(i.bind(i,72684))),(0,d.Y)(t)&&e.push(Promise.all([i.e(77021),i.e(69029)]).then(i.bind(i,69029))),0!==e.length&&await Promise.all(e).then((()=>(0,h.n)(t)))};await t(),n()}catch(t){n(t)}}),1)}};
//# sourceMappingURL=38290-74tZaoobO6E.js.map