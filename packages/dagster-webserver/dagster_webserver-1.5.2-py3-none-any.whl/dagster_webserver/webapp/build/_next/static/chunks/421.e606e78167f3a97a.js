"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[421],{18774:function(e,n,t){t.d(n,{$H:function(){return v},Lg:function(){return y},eB:function(){return m}});var r=t(52322),i=t(58931),s=t(71897),o=t(44678),a=t(18399),l=t(82585),c=t(18149),u=t.n(c),d=t(84636),h=t.n(d),p=t(2784),f=t(68912),x=t(37160);function m(e){return p.useMemo(function(){return h()((e||[]).map(v).filter(function(e){return!!e}),function(e){return JSON.stringify(e)}).sort(function(e,n){return e.groupName.localeCompare(n.groupName)})},[e])}var g={groupName:"-",repositoryLocationName:"-",repositoryName:"-"},y=function(e){var n=e.assetGroups,t=e.value,c=e.onChange,d=function(e){return"".concat(e.repositoryName,"@").concat(e.repositoryLocationName)},h=n[0]?d(n[0]):"",p=!n.every(function(e){return h===d(e)});return(0,r.jsx)(i.U5,{selectedItem:t.length?g:null,items:n,menuWidth:300,inputProps:{style:{width:200},placeholder:"Filter asset groups…",rightElement:t.length?(0,r.jsx)(f.C,{onClick:function(){return c([])},style:{marginTop:5,marginRight:4},children:(0,r.jsx)(s.JO,{name:"cancel"})}):void 0},inputValueRenderer:function(){return 1===t.length?t[0].groupName:t.length>1?"".concat(t.length," groups"):""},itemPredicate:function(e,n){return 0===e.length||n.groupName.toLowerCase().includes(e.toLowerCase())},itemsEqual:u(),itemRenderer:function(e,n){return(0,r.jsx)(o.sN,{active:n.modifiers.active,onClick:n.handleClick,text:(0,r.jsxs)(a.x,{flex:{direction:"row",gap:6,alignItems:"center"},margin:{left:4},style:{maxWidth:"500px"},children:[(0,r.jsx)(l.X,{checked:t.some(function(n){return u()(n,e)}),size:"small",readOnly:!0}),(0,r.jsx)(a.x,{flex:{direction:"row",alignItems:"center",grow:1,shrink:1},style:{overflow:"hidden"},children:(0,r.jsxs)("div",{style:{overflow:"hidden"},children:[e.groupName,p?(0,r.jsx)("span",{style:{opacity:.5,paddingLeft:4},children:(0,x.At)(e.repositoryName,e.repositoryLocationName)}):void 0]})})]})},JSON.stringify(e))},noResults:(0,r.jsx)(o.sN,{disabled:!0,text:"No asset groups"}),closeOnSelect:!1,resetOnQuery:!1,onItemSelect:function(e){var n=t.filter(function(n){return!u()(e,n)});n.length===t.length&&n.push(e),c(n)}})};function v(e){return e.definition&&e.definition.groupName?{groupName:e.definition.groupName,repositoryName:e.definition.repository.name,repositoryLocationName:e.definition.repository.location.name}:null}},28090:function(e,n,t){t.d(n,{R:function(){return d}});var r=t(82550),i=t(52322),s=t(18399),o=t(71897),a=t(86412),l=t(16861);t(2784);var c=t(47933),u=t(74711),d=function(e){var n=e.path,t=e.icon,d=e.url,h=e.isGroup,p=e.textStyle,f=d||(0,u.p)({path:n}),x=n.reduce(function(e,n,t){return(0,r._)(e).concat([t>0?" / ":"",n])},[]).join("")+(h?"/":"");return(0,i.jsxs)(s.x,{flex:{direction:"row",alignItems:"flex-start",display:"inline-flex"},style:{maxWidth:"100%"},children:[t?(0,i.jsx)(s.x,{margin:{right:8,top:2},children:(0,i.jsx)(o.JO,{name:t,color:a.w.Gray400})}):null,(0,i.jsx)(c.rU,{to:f,style:{overflow:"hidden"},children:"break-word"===(void 0===p?"break-word":p)?(0,i.jsx)("span",{style:{wordBreak:"break-word"},children:x}):(0,i.jsx)(l.g,{text:x})})]})}},62175:function(e,n,t){t.d(n,{s:function(){return a},v:function(){return l}});var r=t(73235),i=t(60138);function s(){var e=(0,r._)(["\n  fragment AssetTableDefinitionFragment on AssetNode {\n    id\n    groupName\n    opNames\n    isSource\n    isObservable\n    isExecutable\n    computeKind\n    hasMaterializePermission\n    partitionDefinition {\n      description\n    }\n    description\n    repository {\n      id\n      name\n      location {\n        id\n        name\n      }\n    }\n  }\n"]);return s=function(){return e},e}function o(){var e=(0,r._)(["\n  fragment AssetTableFragment on Asset {\n    id\n    key {\n      path\n    }\n    definition {\n      id\n      ...AssetTableDefinitionFragment\n    }\n  }\n\n  ","\n"]);return o=function(){return e},e}var a=(0,i.Ps)(s()),l=(0,i.Ps)(o(),a)},65885:function(e,n,t){t.d(n,{C1:function(){return ea},fv:function(){return eo}});var r=t(58467),i=t(73235),s=t(82550),o=t(52322),a=t(40794),l=t(60138),c=t(18399),u=t(99596),d=t(34822),h=t(18149),p=t.n(h),f=t(2784),x=t(91195),m=t(56266),g=t(55237),y=t(71277),v=t(90894),j=t(18774),w=t(85333),C=t(6692),N=t(92364),b=t(82585),k=t(86412),S=t(43180),_=t(9001),A=t(71897),z=t(37783),O=t(44678),T=t(3440),P=t.n(T),I=t(54949),q=t(73689),E=t(68052),K=t(68577),F=t(55658),W=t(90537),M=t(37160),R=function(e){var n=e.headerCheckbox,t=e.prefixPath,i=e.groups,a=e.checkedDisplayKeys,l=e.onToggleFactory,c=e.onWipe,u=e.showRepoColumn,d=e.view,h=void 0===d?"flat":d,p=f.useRef(null),x=Object.keys(i).length,m=(0,K.useVirtualizer)({count:x,getScrollElement:function(){return p.current},estimateSize:function(){return 64},overscan:5}),g=m.getTotalSize(),y=m.getVirtualItems(),v=f.useMemo(function(){return Object.entries(i).map(function(e){var n=(0,r._)(e,2),i=n[0],o=n[1],a=(0,s._)(t).concat((0,s._)(JSON.parse(i)));return o.length>1||a.join("/")!==o[0].key.path.join("/")?{type:"folder",path:a,displayKey:i,assets:o}:{type:"asset",path:a,displayKey:i,asset:o[0]}})},[t,i]);return(0,o.jsx)("div",{style:{overflow:"hidden"},children:(0,o.jsxs)(F.W2,{ref:p,children:[(0,o.jsx)(W.R_,{headerCheckbox:n,view:h}),(0,o.jsx)(F.Nh,{$totalHeight:g,children:y.map(function(e){var n=e.index,t=e.key,r=e.size,i=e.start,s=v[n],d="folder"===s.type?s.assets:[s.asset];return(0,o.jsx)(W.pN,{view:h,type:"folder"===s.type?"folder":s.asset.definition?"asset":"asset_non_sda",path:s.path,definition:"asset"===s.type?s.asset.definition:null,repoAddress:function(){if("folder"===s.type||!s.asset.definition)return null;var e=s.asset.definition.repository;return(0,M.kQ)(e.name,e.location.name)}(),showCheckboxColumn:!0,showRepoColumn:u,height:r,start:i,checked:a.has(s.displayKey),onToggleChecked:l(s.displayKey),onWipe:function(){return c(d.map(function(e){return e.key}))}},t)})})]})})},G=t(81862),J=t(22970),L=t(33379),U=t(10952),$=t(59692),D=t(35157);function B(){var e=(0,i._)(["\n  mutation AssetWipeMutation($assetKeys: [AssetKeyInput!]!) {\n    wipeAssets(assetKeys: $assetKeys) {\n      ... on AssetWipeSuccess {\n        assetKeys {\n          path\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"]);return B=function(){return e},e}var V=function(e){var n,t=e.assetKeys,i=e.isOpen,s=e.onClose,a=e.onComplete,l=e.requery,c=(0,r._)((0,L.D)(H,{variables:{assetKeys:t.map(function(e){return{path:e.path||[]}})},refetchQueries:l}),1)[0],u=(n=(0,G._)(function(){return(0,J.Jh)(this,function(e){switch(e.label){case 0:if(!t.length)return[2];return[4,c()];case 1:return e.sent(),a(t),[2]}})}),function(){return n.apply(this,arguments)});return(0,o.jsxs)(U.Vq,{isOpen:i,title:"Wipe materializations",onClose:s,style:{width:600},children:[(0,o.jsx)(U.a7,{children:(0,o.jsxs)($.Z,{direction:"column",spacing:16,children:[(0,o.jsx)("div",{children:"Are you sure you want to wipe materializations for these assets?"}),(0,o.jsx)("ul",{style:{paddingLeft:32,margin:0},children:t.map(function(e){var n=(0,D.ll)(e);return(0,o.jsx)("li",{style:{marginBottom:4},children:n},n)})}),(0,o.jsx)("div",{children:"Assets defined only by their historical materializations will disappear from the Asset Catalog. Software-defined assets will remain unless their definition is also deleted."}),(0,o.jsx)("strong",{children:"This action cannot be undone."})]})}),(0,o.jsxs)(U.cN,{topBorder:!0,children:[(0,o.jsx)(_.zx,{intent:"none",onClick:s,children:"Cancel"}),(0,o.jsx)(_.zx,{intent:"danger",onClick:u,children:"Wipe"})]})]})},H=(0,l.Ps)(B(),x.B),Q=t(10994),X=function(e){var n=e.assets,t=e.actionBarComponents,i=e.refreshState,a=e.prefixPath,l=e.displayPathForAsset,u=e.requery,d=e.searchPath,h=e.searchGroups,p=e.view,x=(0,r._)(f.useState(),2),m=x[0],y=x[1],v=P()(n,function(e){return JSON.stringify(l(e))}),j=Object.keys(v).sort(),z=(0,r._)((0,q.a)(j),2),O=z[0].checkedIds,T=z[1],I=T.onToggleFactory,K=T.onToggleAll,F=[];return j.forEach(function(e){O.has(e)&&F.push.apply(F,(0,s._)(v[e]||[]))}),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(c.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,o.jsxs)(c.x,{background:k.w.White,flex:{alignItems:"center",gap:12},padding:{vertical:8,left:24,right:12},style:{position:"sticky",top:0,zIndex:1},children:[t,(0,o.jsx)("div",{style:{flex:1}}),(0,o.jsx)(g.xi,{refreshState:i}),(0,o.jsxs)(c.x,{flex:{alignItems:"center",gap:8},children:[F.some(function(e){return!e.definition})?(0,o.jsx)(S.u,{content:"One or more selected assets are not software-defined and cannot be launched directly.",children:(0,o.jsx)(_.zx,{intent:"primary","data-testid":(0,E.N)("materialize-button"),icon:(0,o.jsx)(A.JO,{name:"materialization"}),disabled:!0,children:F.length>1?"Materialize (".concat(F.length.toLocaleString(),")"):"Materialize"})}):(0,o.jsx)(Q.XE,{scope:{selected:F.map(function(e){return(0,C._)((0,w._)({},e.definition),{assetKey:e.key})})}}),(0,o.jsx)(Z,{selected:F,clearSelection:function(){return K(!1)}})]})]}),function(){if(!n.length){var e,t;return d?(0,o.jsx)(c.x,{padding:{top:64},children:(0,o.jsx)(N.t,{icon:"search",title:"No matching assets",description:h.length?(0,o.jsxs)("div",{children:["No assets matching ",(0,o.jsx)("strong",{children:d})," were found in"," ",1===h.length?(0,o.jsx)("strong",{children:null===(t=h[0])||void 0===t?void 0:t.groupName}):"the selected asset groups"]}):(0,o.jsxs)("div",{children:["No assets matching ",(0,o.jsx)("strong",{children:d})," were found"]})})}):(0,o.jsx)(c.x,{padding:{top:20},children:(0,o.jsx)(N.t,{icon:"search",title:"No assets",description:h.length?(0,o.jsxs)("div",{children:["No assets were found in"," ",1===h.length?(0,o.jsx)("strong",{children:null===(e=h[0])||void 0===e?void 0:e.groupName}):"the selected asset groups"]}):"No assets were found"})})}return(0,o.jsx)(R,{headerCheckbox:(0,o.jsx)(b.X,{indeterminate:O.size>0&&O.size!==j.length,checked:O.size>0&&O.size===j.length,onChange:function(e){e.target instanceof HTMLInputElement&&K(O.size!==j.length)}}),prefixPath:a,groups:v,checkedDisplayKeys:O,onToggleFactory:I,showRepoColumn:!0,view:p,onWipe:function(e){return y(e)}})}()]}),(0,o.jsx)(V,{assetKeys:m||[],isOpen:!!m,onClose:function(){return y(void 0)},onComplete:function(){return y(void 0)},requery:u})]})},Z=f.memo(function(e){var n=e.selected,t=e.clearSelection,i=e.requery,s=(0,r._)(f.useState(!1),2),a=s[0],l=s[1];if(!(0,I.WB)().permissions.canWipeAssets)return null;var c=0===n.length;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(z.J,{position:"bottom-right",content:(0,o.jsx)(O.v2,{children:(0,o.jsx)(O.sN,{text:"Wipe materializations",onClick:function(){return l(!0)},icon:(0,o.jsx)(A.JO,{name:"delete",color:c?k.w.Gray600:k.w.Red500}),disabled:c,intent:"danger"})}),children:(0,o.jsx)(_.zx,{icon:(0,o.jsx)(A.JO,{name:"expand_more"})})}),(0,o.jsx)(V,{assetKeys:n.map(function(e){return e.key}),isOpen:a,onClose:function(){return l(!1)},onComplete:function(){l(!1),t()},requery:i})]})}),Y=t(62175),ee=function(e){var n=e.prefixPath;return(0,o.jsx)(N.t,{icon:"asset",title:"Assets",description:(0,o.jsxs)("p",{children:[n&&n.length?"There are no matching materialized assets with the specified asset key. ":"There are no known materialized assets. ","Any asset keys that have been specified with an ",(0,o.jsx)("code",{children:"AssetMaterialization"})," during a pipeline run will appear here. See the"," ",(0,o.jsx)("a",{href:"https://docs.dagster.io/_apidocs/ops#dagster.AssetMaterialization",children:"AssetMaterialization documentation"})," ","for more information."]})})},en=t(88983),et=t(15282),er=function(e){return"flat"===e||"directory"===e?e:"flat"};function ei(){var e=(0,i._)(["\n  query AssetCatalogTableQuery {\n    assetsOrError {\n      ... on AssetConnection {\n        nodes {\n          id\n          ...AssetTableFragment\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"]);return ei=function(){return e},e}function es(){var e=(0,i._)(["\n  query AssetCatalogGroupTableQuery($group: AssetGroupSelector) {\n    assetNodes(group: $group) {\n      id\n      ...AssetCatalogGroupTableNode\n    }\n  }\n\n  fragment AssetCatalogGroupTableNode on AssetNode {\n    id\n    assetKey {\n      path\n    }\n    ...AssetTableDefinitionFragment\n  }\n\n  ","\n"]);return es=function(){return e},e}var eo=function(e){var n,t,i,l,h,x=e.prefixPath,w=e.setPrefixPath,C=e.groupSelector,N=(0,r._)((0,et.U)("AssetViewPreference",er),2),b=N[0],k=N[1],S=(0,r._)((0,y.q)({queryKey:"q"}),2),_=S[0],A=S[1],z=(0,r._)((0,y.q)({queryKey:"g",decode:function(e){return e.groups?JSON.parse(e.groups):[]},encode:function(e){return{groups:e.length?JSON.stringify(e):void 0}}}),2),O=z[0],T=z[1],P=(_||"").replace(/(( ?> ?)|\.|\/)/g,"/").toLowerCase().trim(),I=(l=(0,a.a)(ea,{skip:!!C,notifyOnNetworkStatusChange:!0}),h=(0,a.a)(el,{skip:!C,variables:{group:C},notifyOnNetworkStatusChange:!0}),f.useMemo(function(){if(C){var e,n,t=null===(n=h.data)||void 0===n?void 0:n.assetNodes;return{query:h,error:void 0,assets:null==t?void 0:t.map(ec)}}var r=null===(e=l.data)||void 0===e?void 0:e.assetsOrError;return{query:l,error:(null==r?void 0:r.__typename)==="PythonError"?r:void 0,assets:(null==r?void 0:r.__typename)==="AssetConnection"?r.nodes:void 0}},[l,h,C])),q=I.assets,E=I.query,K=I.error,F=(0,j.eB)(q),W=(0,en.f)(P,q||[]),M=f.useMemo(function(){return W.filter(function(e){return!O.length||O.some(function(n){return p()((0,j.$H)(e),n)})})},[W,O]),R="flat"===b?{displayed:M,displayPathForAsset:function(e){return e.key.path}}:(n=function(e){return e.key.path.slice(x.length,x.length+1)},t=M.filter(function(e){return e.key.path.join(",").startsWith(x.join(","))}),i=Array.from(new Set(t.map(function(e){return JSON.stringify(n(e))}))).map(function(e){return JSON.parse(e)}).sort(),{displayPathForAsset:n,displayed:eu(t,i.map(function(e){return(0,s._)(x).concat((0,s._)(e))}))}),G=R.displayPathForAsset,J=R.displayed,L=(0,g.C4)(E,g.dT);return(f.useEffect(function(){"directory"!==b&&x.length&&k("directory")},[b,k,x]),K)?(0,o.jsx)(m.T9,{error:K}):q?q.length?(0,o.jsx)(X,{view:b,assets:J,actionBarComponents:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(u.h,{activeItems:new Set([b]),buttons:[{id:"flat",icon:"view_list",tooltip:"List view"},{id:"directory",icon:"folder",tooltip:"Folder view"}],onClick:function(e){k(e),"flat"===e&&x.length&&w([])}}),(0,o.jsx)(d.oi,{value:_||"",style:{width:"30vw",minWidth:150,maxWidth:400},placeholder:x.length?"Filter asset keys in ".concat(x.join("/"),"…"):"Filter asset keys…",onChange:function(e){return A(e.target.value)}}),C?void 0:(0,o.jsx)(j.Lg,{assetGroups:F,value:O,onChange:T})]}),refreshState:L,prefixPath:x||[],searchPath:P,searchGroups:O,displayPathForAsset:G,requery:function(e){return[{query:ea}]}}):(0,o.jsx)(c.x,{padding:{vertical:64},children:(0,o.jsx)(ee,{prefixPath:x})}):(0,o.jsx)(v.T,{purpose:"page"})},ea=(0,l.Ps)(ei(),Y.v,x.B),el=(0,l.Ps)(es(),Y.s);function ec(e){return{__typename:"Asset",id:e.id,key:e.assetKey,definition:e}}var eu=function(e,n){return e.filter(function(e){return n.some(function(n){return n.every(function(n,t){return n===e.key.path[t]})})})}},88983:function(e,n,t){t.d(n,{f:function(){return o},h:function(){return a}});var r=t(2784),i=t(35157),s=function(e){return r.useMemo(function(){return(e||"").replace(/(( ?> ?)|\.|\/)/g,"/").toLowerCase().trim()},[e])},o=function(e,n){var t=s(e);return r.useMemo(function(){return t?n.filter(function(e){return(0,i.Je)(e.key).toLowerCase().includes(t)}):n},[n,t])},a=function(e,n){var t=s(e);return r.useMemo(function(){return t?n.filter(function(e){return(0,i.Je)(e.assetKey).toLowerCase().includes(t)}):n},[n,t])}},63386:function(e,n,t){t.d(n,{b:function(){return v}});var r=t(73235),i=t(52322),s=t(18399),o=t(71897),a=t(86412),l=t(16861),c=t(63832),u=t(43180);t(2784);var d=t(47933),h=t(35505),p=t(44254),f=t(38153),x=t(33308);function m(){var e=(0,r._)(["\n  max-width: 280px;\n"]);return m=function(){return e},e}function g(){var e=(0,r._)(["\n  margin-left: 4px;\n\n  && {\n    display: block;\n  }\n"]);return g=function(){return e},e}function y(){var e=(0,r._)(["\n  background-color: transparent;\n  border: 0;\n  cursor: pointer;\n  display: block;\n  padding: 0;\n  margin: 0;\n\n  :disabled {\n    cursor: default;\n  }\n\n  :focus:not(:focus-visible) {\n    outline: none;\n  }\n\n  & "," {\n    display: block;\n    transition: color 100ms linear;\n  }\n\n  :hover "," {\n    color: ",";\n  }\n"]);return y=function(){return e},e}var v=function(e){var n=e.repoAddress,t=e.showIcon,r=e.showRefresh,u=n.location,d=(0,p.Uz)(n);return(0,i.jsxs)(s.x,{flex:{display:"inline-flex",direction:"row",alignItems:"center"},title:d,children:[void 0!==t&&t&&(0,i.jsx)(o.JO,{name:"folder",style:{marginRight:8},color:a.w.Gray400}),(0,i.jsx)(j,{to:(0,f.$U)(n),style:{flex:1},children:(0,i.jsx)(l.g,{text:d})}),void 0===r||r?(0,i.jsx)(x.s,{location:u,ChildComponent:function(e){var n=e.codeLocation,t=e.tryReload,r=e.reloading,s=e.hasReloadPermission;return(0,i.jsx)(w,{content:s?r?"Reloading…":(0,i.jsxs)(i.Fragment,{children:["Reload location ",(0,i.jsx)("strong",{children:n})]}):x.H,children:r?(0,i.jsx)(c.$,{purpose:"body-text"}):(0,i.jsx)(C,{disabled:!s,onClick:t,children:(0,i.jsx)(o.JO,{name:"refresh",color:s?a.w.Gray400:a.w.Gray300})})})}}):null]})},j=(0,h.ZP)(d.rU).withConfig({componentId:"sc-d9c923a0-0"})(m()),w=(0,h.ZP)(u.u).withConfig({componentId:"sc-d9c923a0-1"})(g()),C=h.ZP.button.withConfig({componentId:"sc-d9c923a0-2"})(y(),o.a1,o.a1,a.w.Blue500)},12518:function(e,n,t){t.d(n,{I:function(){return v}});var r=t(58467),i=t(52322),s=t(57830),o=t(12084),a=t(86412),l=t(18399),c=t(43180),u=t(3842),d=t(16861),h=t(2784),p=t(47933),f=t(66207),x=t(54483),m=t(23054),g=t(38153),y=t(17668),v=function(e){var n=e.schedules,t=e.sensors,l=e.repoAddress,c=e.showSwitch,u=void 0===c||c,d=(0,r._)(h.useState(!1),2),p=d[0],f=d[1],x=n.length,m=t.length;return x>1||m>1||x&&m?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.V,{icon:x>1?"schedule":"sensors",children:(0,i.jsx)(o.Z,{onClick:function(){return f(!0)},color:a.w.Link,children:x&&m?"".concat(x+m," schedules/sensors"):x?"".concat(x," schedules"):"".concat(m," sensors")})}),(0,i.jsx)(y.f,{isOpen:p,onClose:function(){return f(!1)},repoAddress:l,schedules:n,sensors:t,showSwitch:u})]}):x?(0,i.jsx)(j,{schedule:n[0],repoAddress:l,showSwitch:u}):m?(0,i.jsx)(w,{sensor:t[0],repoAddress:l,showSwitch:u}):null},j=function(e){var n=e.schedule,t=e.repoAddress,r=e.showSwitch,o=n.cronSchedule,a=n.executionTimezone,d="RUNNING"===n.scheduleState.status,h=(0,i.jsx)(s.V,{intent:d?"primary":"none",icon:"schedule",children:(0,i.jsxs)(l.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,i.jsx)(p.rU,{to:(0,g.$U)(t,"/schedules/".concat(n.name)),style:{overflow:"hidden",textOverflow:"ellipsis"},children:(0,x.A)(o,a||"UTC")}),r?(0,i.jsx)(f.M,{size:"small",repoAddress:t,schedule:n}):null]})});return n.cronSchedule?(0,i.jsx)(c.u,{placement:"top-start",content:(0,i.jsxs)(l.x,{flex:{direction:"column",gap:4},children:[(0,i.jsxs)("div",{children:["Name: ",(0,i.jsx)("strong",{children:n.name})]}),(0,i.jsxs)("div",{children:["Cron:"," ",(0,i.jsxs)("span",{style:{fontFamily:u.b.monospace,marginLeft:"4px"},children:["(",n.cronSchedule,")"]})]}),(0,i.jsxs)("div",{children:["Timezone: ",(0,i.jsx)("strong",{children:n.executionTimezone||"UTC"})]})]}),children:h}):h},w=function(e){var n=e.sensor,t=e.repoAddress,r=e.showSwitch,o="RUNNING"===n.sensorState.status;return(0,i.jsx)(s.V,{intent:o?"primary":"none",icon:"sensors",children:(0,i.jsxs)(l.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,i.jsx)(p.rU,{to:(0,g.$U)(t,"/sensors/".concat(n.name)),style:{maxWidth:200,overflow:"hidden"},children:(0,i.jsx)(d.g,{text:n.name})}),r?(0,i.jsx)(m.c,{size:"small",repoAddress:t,sensor:n}):null]})})}},65767:function(e,n,t){t.d(n,{l:function(){return u}});var r=t(85333),i=t(6692),s=t(58467),o=t(82550),a=t(40794),l=t(2784),c=t(71277);function u(e){var n=(0,s._)(l.useState(function(){return[]}),2),t=n[0],u=n[1],d=(0,s._)((0,c.q)({queryKey:"cursor"}),2),h=d[0],p=d[1],f=(0,i._)((0,r._)({},e.variables),{cursor:h,limit:e.pageSize+1}),x=(0,a.a)(e.query,{skip:e.skip,variables:f,notifyOnNetworkStatusChange:!0}),m={hasPrevCursor:!!h,hasNextCursor:e.getResultArray(x.data).length===e.pageSize+1,popCursor:function(){var e=(0,o._)(t);p(e.pop()),u(e)},advanceCursor:function(){h&&u(function(e){return(0,o._)(e).concat([h])});var n=x.data&&e.nextCursorForResult(x.data);n&&p(n)},reset:function(){u([]),p(void 0)}};return{queryResult:x,paginationProps:m}}},90537:function(e,n,t){t.d(n,{R_:function(){return D},XC:function(){return B},pN:function(){return $}});var r=t(85333),i=t(6692),s=t(58467),o=t(73235),a=t(52322),l=t(40794),c=t(60138),u=t(82585),d=t(18399),h=t(81308),p=t(86412),f=t(71897),x=t(2784),m=t(47933),g=t(35505),y=t(99322),v=t(2253),j=t(35157),w=t(73909),C=t(37783),N=t(44678),b=t(43180),k=t(63832),S=t(9001),_=t(54949),A=t(5035),z=t(38153),O=t(10994),T=t(74711),P=function(e){var n=e.repoAddress,t=e.path,r=e.definition,i=e.onWipe,s=(0,_.xz)(null==n?void 0:n.location).permissions.canWipeAssets,o=(0,O.DO)(),l=o.onClick,c=o.loading,u=o.launchpadElement,d=r?(0,O.Vu)([r]):"Asset definition not found in a code location";return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C.J,{position:"bottom-right",content:(0,a.jsxs)(N.v2,{children:[(0,a.jsx)(b.u,{content:d||"Shift+click to add configuration",placement:"left",display:"block",useDisabledButtonTooltipFix:!0,children:(0,a.jsx)(N.sN,{text:"Materialize",icon:c?(0,a.jsx)(k.$,{purpose:"body-text"}):"materialization",disabled:!!d||c,onClick:function(e){return l([{path:t}],e)}})}),(0,a.jsx)(A.U,{text:"Show in group",to:n&&(null==r?void 0:r.groupName)?(0,z.$U)(n,"/asset-groups/".concat(r.groupName)):"",disabled:!r,icon:"asset_group"}),(0,a.jsx)(A.U,{text:"View neighbors",to:(0,T.p)({path:t},{view:"lineage",lineageScope:"neighbors"}),disabled:!r,icon:"graph_neighbors"}),(0,a.jsx)(A.U,{text:"View upstream assets",to:(0,T.p)({path:t},{view:"lineage",lineageScope:"upstream"}),disabled:!r,icon:"graph_upstream"}),(0,a.jsx)(A.U,{text:"View downstream assets",to:(0,T.p)({path:t},{view:"lineage",lineageScope:"downstream"}),disabled:!r,icon:"graph_downstream"}),(0,a.jsx)(N.sN,{text:"Wipe materializations",icon:"delete",disabled:!i||!s,intent:"danger",onClick:function(){return s&&i&&i([{path:t}])}})]}),children:(0,a.jsx)(S.zx,{icon:(0,a.jsx)(f.JO,{name:"expand_more"})})}),u]})},I=t(28090),q=t(58885),E=t(14952),K=t(11331),F=t(63386),W=t(30301),M=t(68052),R=t(55658);function G(){var e=(0,o._)(["\n  display: grid;\n  grid-template-columns: ",";\n  height: 100%;\n"]);return G=function(){return e},e}function J(){var e=(0,o._)(["\n  query SingleNonSDAAssetQuery($input: AssetKeyInput!) {\n    assetOrError(assetKey: $input) {\n      ... on Asset {\n        id\n        assetMaterializations(limit: 1) {\n          runId\n          timestamp\n        }\n      }\n    }\n  }\n"]);return J=function(){return e},e}var L="1.3fr 1fr 80px",U="76px 1.3fr 1.3fr 1.3fr 80px",$=function(e){var n,t,o,c,g,C,N,b=e.path,k=e.definition,S=e.type,_=e.repoAddress,A=e.start,O=e.height,G=e.checked,J=e.onToggleChecked,L=e.onWipe,U=e.showCheckboxColumn,$=e.showRepoColumn,D=e.view,B=(t=(n=(0,s._)(x.useState([]),2))[0],o=n[1],c=t[0]||"",g=(0,w.le)("asset"===S?t:[]).liveDataByNode,C=(0,l.a)(H,{skip:"asset_non_sda"!==S||!c,variables:{input:c}}).data,(x.useEffect(function(){if("folder"!==S){var e=setTimeout(function(){o(b?[{path:b}]:[])},250);return function(){return clearTimeout(e)}}},[S,b]),"asset"===S)?g[(0,j.Wu)({path:b})]:"asset_non_sda"===S?(0,i._)((0,r._)({},j.Se),{lastMaterialization:(null==C?void 0:C.assetOrError.__typename)==="Asset"&&C.assetOrError.assetMaterializations[0]?C.assetOrError.assetMaterializations[0]:null}):null),Q=(0,T.p)({path:b});return(0,a.jsx)(R.X2,{$height:O,$start:A,"data-testid":(0,M.N)("row-".concat((0,j.Je)({path:b}))),children:(0,a.jsxs)(V,{border:"bottom",$showRepoColumn:$,children:[void 0!==U&&U?(0,a.jsx)(R.E5,{children:(0,a.jsx)(u.X,{checked:G,onChange:function(e){J&&e.target instanceof HTMLInputElement&&J({checked:e.target.checked,shiftKey:e.nativeEvent instanceof MouseEvent&&e.nativeEvent.getModifierState("Shift")})}})}):null,(0,a.jsxs)(R.E5,{children:[(0,a.jsxs)(d.x,{flex:{alignItems:"center"},children:[(0,a.jsx)("div",{style:{flex:1,minWidth:0},children:(0,a.jsx)(I.R,{path:"folder"===S||"directory"===(void 0===D?"flat":D)?b.slice(-1):b,url:Q,isGroup:"folder"===S,icon:S,textStyle:"middle-truncate"})}),k&&(0,a.jsx)(K.hG,{reduceColor:!0,reduceText:!0,definition:k,style:{position:"relative"}})]}),(0,a.jsx)("div",{style:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis"},children:(0,a.jsx)(h.YS,{style:{color:p.w.Gray500,whiteSpace:"nowrap"},children:null==k?void 0:k.description})})]}),$?(0,a.jsx)(R.E5,{children:_?(0,a.jsxs)(d.x,{flex:{direction:"column",gap:4},style:{maxWidth:"100%",overflow:"hidden"},children:[(0,a.jsx)(F.b,{repoAddress:_,showIcon:!0,showRefresh:!1}),k&&k.groupName?(0,a.jsx)(m.rU,{to:(0,z.$U)(_,"/asset-groups/".concat(k.groupName)),children:(0,a.jsxs)(d.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,a.jsx)(f.JO,{color:p.w.Gray400,name:"asset_group"}),k.groupName]})}):null]}):(0,a.jsx)("span",{children:"–"})}):null,(0,a.jsx)(R.E5,{children:(null==k?void 0:k.partitionDefinition)?(0,a.jsxs)(d.x,{flex:{direction:"column",alignItems:"flex-start",gap:4},children:[(0,a.jsx)(q.ux,{partitionStats:null==B?void 0:B.partitionStats}),(0,a.jsx)(h.YS,{children:(0,q._e)(null==B?void 0:null===(N=B.partitionStats)||void 0===N?void 0:N.numPartitions)})]}):(0,a.jsxs)(d.x,{flex:{direction:"column",alignItems:"flex-start",gap:4},children:[k?(0,a.jsx)(d.x,{style:{whiteSpace:"nowrap"},flex:{direction:"row",alignItems:"center",gap:8},children:(0,y.D5)({assetKey:{path:b},definition:k,expanded:!0,liveData:B}).content}):(null==B?void 0:B.lastMaterialization)?(0,a.jsx)(v.T,{runId:B.lastMaterialization.runId,event:{stepKey:B.stepKey,timestamp:B.lastMaterialization.timestamp},children:(0,a.jsx)(W.v,{timestamp:Number(B.lastMaterialization.timestamp)/1e3,timeFormat:{showSeconds:!1,showTimezone:!1}})}):(0,a.jsx)("div",{style:{color:p.w.Gray500},children:B||"folder"===S?"–":"Loading"}),B&&(0,a.jsx)(E.f4,{assetKey:{path:b},liveData:B,include:"all"})]})}),(0,a.jsx)(R.E5,{children:"folder"!==S?(0,a.jsx)(P,{path:b,definition:k,repoAddress:_,onWipe:L}):null})]})})},D=function(e){var n=e.headerCheckbox,t=e.view;return(0,a.jsxs)(d.x,{background:p.w.White,border:"top-and-bottom",style:{display:"grid",gridTemplateColumns:U,height:"32px",fontSize:"12px",color:p.w.Gray600,position:"sticky",top:0,zIndex:1},children:[(0,a.jsx)(R.qN,{children:n}),(0,a.jsx)(R.qN,{children:"flat"===t?"Asset name":"Asset key prefix"}),(0,a.jsx)(R.qN,{children:"Code location / Asset group"}),(0,a.jsx)(R.qN,{children:"Status"}),(0,a.jsx)(R.qN,{})]})},B=function(e){var n=e.nameLabel;return(0,a.jsxs)(d.x,{border:"top-and-bottom",style:{display:"grid",gridTemplateColumns:L,height:"32px",fontSize:"12px",color:p.w.Gray600},children:[(0,a.jsx)(R.qN,{children:n}),(0,a.jsx)(R.qN,{children:"Status"}),(0,a.jsx)(R.qN,{})]})},V=(0,g.ZP)(d.x).withConfig({componentId:"sc-e37b5ee0-0"})(G(),function(e){return e.$showRepoColumn?U:L}),H=(0,c.Ps)(J())}}]);
//# sourceMappingURL=421.e606e78167f3a97a.js.map