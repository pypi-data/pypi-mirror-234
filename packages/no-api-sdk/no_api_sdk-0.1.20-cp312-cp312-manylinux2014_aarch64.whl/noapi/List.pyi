import logging
import typing
from . import Field as Field, GetResult as GetResult, PropertyValue as PropertyValue
from .Item import Item as Item
from .Slice import Slice as Slice
from .msg import msg as msg
from collections import deque as deque
from itertools import dropwhile as dropwhile, islice as islice
from typing import Any, Dict, Optional, Union
from typing_extensions import TypeAlias

console = logging
PythonClass: TypeAlias

class List:
    def __init__(self, localdb: dict, of_item: Item, relation: str, internal: bool = ...) -> None: ...
    def of_type(self) -> Item: ...
    @property
    def of_item(self) -> Item: ...
    @property
    def fields(self) -> List: ...
    @property
    def type(self) -> List: ...
    def __len__(self) -> int: ...
    def on_update(self, f: Any) -> None: ...
    def prepend(self, item: typing.List[Item] | Item | List, before: bool = ..., relative_to_item: Optional['Item'] = ...) -> None: ...
    def append(self, item: typing.List[Item] | Item | List, before: bool = ..., relative_to_item: Optional['Item'] = ...) -> None: ...
    def remove(self, item: Item) -> None: ...
    def destroy(self, item: Item) -> None: ...
    def create(self, set_value: Optional[typing.List[str | Dict[str, PropertyValue]] | str | Dict[str, PropertyValue]] = ..., set_propname: Optional[str] = ...) -> Optional[Item | list]: ...
    def first(self) -> Optional[Item]: ...
    def before(self, item: Item) -> Item: ...
    def after(self, item: Item) -> Optional[Item]: ...
    def last(self) -> Optional[Item]: ...
    def find(self, search_for: Union[str, Item], search_in_field: Optional[str] = ...) -> Optional[Item]: ...
    def __getitem__(self, search_term: str) -> Optional['Item']: ...
    class __rnIterator:
        index: int
        def __init__(self, r_n_o: List) -> None: ...
        def __next__(self) -> Item: ...
    def recall(self) -> List: ...
    def __iter__(self) -> __rnIterator: ...
    def slice(self, start_at: Optional['Item'] = ..., size: int = ..., search_term: Optional[Any] = ..., search_field: Optional[str] = ...) -> Optional[Slice]: ...
    def define_property(self, name: str, proptype: Union[str, PythonClass, None] = ...) -> Item: ...
    def define_calculated_property(self, name: str, datatype: str, formula: str) -> Item: ...
    def define_subitem(self, link_name: str, inverse_name: Optional[str] = ...) -> Item: ...
    def define_link(self, name: str, range: Optional[str] = ..., inverse_name: Optional[str] = ..., inverse_cardinal: Optional[str] = ..., inverse_range: Optional[str] = ...) -> Item: ...
    def define_calculated_link(self, name: str, range: str, formula: str, inverse_name: Optional[str] = ...) -> Item: ...
    def define_list_of_items(self, name: str, inverse_name: Optional[str] = ...) -> Item: ...
    def define_list_of_links(self, list_name: str, range: Optional[str] = ..., inverse_name: Optional[str] = ..., inverse_cardinal: Optional[str] = ..., inverse_range: Optional[str] = ...) -> Item: ...
    def define_list(self, list_name: str, range: Optional[str] = ..., inverse_name: Optional[str] = ..., inverse_cardinal: Optional[str] = ..., inverse_range: Optional[str] = ...) -> Item: ...
    def define_calculated_list(self, name: str, range: str, formula: str, inverse_name: Optional[str] = ...) -> Item: ...
    def move_first(self, item: Item) -> None: ...
    def move_last(self, item: Item) -> None: ...
    def move_next(self, item: Item) -> None: ...
    def move_prev(self, item: Item) -> None: ...
    def move_before(self, item1: Item, item2: Item) -> None: ...
    def move_after(self, item1: Item, item2: Item) -> None: ...
    def move(self, item: Item, position: str, relative_to_item: Optional[Item] = ...) -> None: ...
    def append_before(self, item: typing.List[Item] | Item | List, relative_to_item: Optional['Item'] = ...) -> None: ...
    def append_after(self, item: typing.List[Item] | Item | List, relative_to_item: Optional['Item'] = ...) -> None: ...
