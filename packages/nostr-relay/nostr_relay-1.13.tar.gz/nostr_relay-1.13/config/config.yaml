DEBUG: true

storage:
  sqlalchemy.url: sqlite+aiosqlite:///nostr.sqlite3
  validators:
    - nostr_relay.validators.is_not_too_large
    - nostr_relay.validators.is_signed
    - nostr_relay.validators.is_recent
    - nostr_relay.foaf.is_in_foaf
    - nostr_relay.dynamic_lists.is_pubkey_allowed

# output_validator: nostr_relay.example.whitelist_output_validator

pubkey_whitelist: 
  - c7da62153485ecfb1b65792c79ce3fe6fce6ed7d8ef536cb121d7a0c732e92df
  - 54c0713614f03f144b7bc49b3c65b64a5a21e171aad7d5f26cf8afb07b735ec3

authentication:
  enabled: true
  relay_urls:
    - ws://127.0.0.1:6969

foaf:
  check_interval: 7200
  levels: 1
  network_pubkeys:
    - c7da62153485ecfb1b65792c79ce3fe6fce6ed7d8ef536cb121d7a0c732e92df
    - 3bf0c63fcb93463407af97a5e5ee64fa883d107ef9e558472c4eb9aaaefa459d
    - 82341f882b6eabcd2ba7f1ef90aad961cf074af15b9ef44a09f9d2a8fbfbe6a2


dynamic_lists:
  check_interval: 1200
  allow_list_queries:
    - {"kinds": [3], "authors": ["c7da62153485ecfb1b65792c79ce3fe6fce6ed7d8ef536cb121d7a0c732e92df"]}
    - {"kinds": [31494], "#t": ["auth", "verification", "foaf"]}

  deny_list_queries:
    - {"kinds": [1984]}

relay_name: python relay
relay_description: relay written in python
sysop_pubkey: 
sysop_contact: 
# options are disabled, passive, enabled
nip05_verification: disabled
verification_expiration: 86400 * 30
verification_update_frequency: 3600
#verification_blacklist:
# - badhost.biz
#verification_whitelist:
# - goodhost.com


gunicorn:
  bind: 127.0.0.1:6969
  workers: 1
  loglevel: info
  reload: false


service_privatekey: 9627da965699a2a3048f97b77df5047e8cd0d11daca75e7687d0b28b65416a3c

# logging:
#   version: 1
#   formatters:
#     simple:
#       format: '%(processName)s %(asctime)s - %(name)s - %(levelname)s - %(message)s'
#   handlers:
#     console:
#       class: logging.StreamHandler
#       level: DEBUG
#       formatter: simple
#       stream: ext://sys.stdout
#     sql:
#       class: logging.StreamHandler
#       level: WARNING
#       formatter: simple
#       stream: ext://sys.stdout
#   loggers:
#     sqlalchemy.engine.Engine:
#       level: ERROR
#       handlers: [sql]
#       propagate: no
#     nostr_relay:
#       level: DEBUG
#       handlers: [console]
#       propagate: no
#   root:
#     level: WARNING
#     handlers: [console]

