import{J as K,K as ye,S as B,i as P,s as D,k,l as C,m as v,h,n as d,p as J,b as w,I,e as j,v as Y,d as y,f as x,g as p,L as Ke,y as M,a as H,z as N,c as z,A,H as b,M as Xe,N as ft,B as T,x as fe,q,r as F,u as ne,O as Pt,P as Ae,C as mt,D as dt,E as ht,F as gt,o as Pe,w as yn,Q as te,R as bt,T as Ie,G as R,U as Ln,V as U,W,t as De,X as pe,Y as $n,Z as qe,_ as er,$ as Dt,a0 as tr,a1 as nr,a2 as rr,a3 as sr,a4 as ir,a5 as ar}from"../chunks/index.1dc09ed7.js";import{w as oe,j as lr}from"../chunks/singletons.c3aefe80.js";import{p as or}from"../chunks/stores.9211d6df.js";import{f as Nt,a as Ot,b as cr,g as ur,c as fr,u as Ne,d as Me,e as ie,h as wn,o as le,i as Ht,j as kn,p as mr,s as dr,k as hr,l as gr,m as br,n as _r,q as Cn,t as _t,v as En,w as Je,x as Ye,y as pr,z as vr,A as de,B as yr,C as Lr,D as wr,E as kr,F as Cr,G as Sn,H as Er,I as Sr,J as Ir,K as Mr,L as Ar}from"../chunks/optionsStore.a3a96e10.js";import{_ as Ue}from"../chunks/preload-helper.41c905a7.js";const Tr={water:"#0084ff",vegetation:"#02921a",crops:"#eeff00","bare soil":"#ff0000",forest:"#177733",river:"#00ddff",highway:"#7f7f7f",industrial:"#ffb600",residential:"#ff00fa",pasture:"#9aff42"};function Br(){const r=oe(Pr),{subscribe:e,update:t}=r;return{subscribe:e,retrieve:()=>K(r),add:a=>{let l=a.color||Tr[a.name.toLowerCase()];if(!l)do l=Dr();while(K(r).some(c=>c.color===l));const o={...a,color:l};t(c=>[...c,o])},removeBy:a=>{t(l=>l.filter(o=>o.name!==a))},changeColor:a=>{t(l=>l.map(o=>o.name===a.name?a:o))}}}const Pr=[],he=Br();function Dr(){let r="";const e=/^#[0-9a-f]{6}$/i;do r="#"+Math.floor(Math.random()*16777215).toString(16);while(!e.test(r));return r}function Nr(r,e,t,n){var s,i,a=!1,l=t.length>=2,o=(_,E)=>{if(s=E,l&&(i=_),!a){let V=e(_,E);if(e.length<2)E(V);else return V}a=!1},c=lr(r,o,n),u=!Array.isArray(r);function m(_){var E=t(_,i);u?(a=!0,r.set(E)):E.forEach((V,ee)=>{a=!0,r[ee].set(V)}),a=!1}var g=!1;function f(_){var E,V,ee,O;if(g){O=_(K(c)),s(O);return}var Z=c.subscribe(be=>{g?E?V=!0:E=!0:ee=be});O=_(ee),g=!0,s(O),Z(),g=!1,V&&(O=K(c)),E&&m(O)}return{subscribe:c.subscribe,set(_){f(()=>_)},update:f}}const Or=20,we=oe([]),pt=oe(null),We=new Map,zt=r=>{if(We.has(r))return;const e=setTimeout(()=>{We.delete(r),Mn(r)},1e3);We.set(r,e)},Hr=r=>{const e=We.get(r);e&&clearTimeout(e)};function In(r){r.id&&Hr(r.id),we.update(e=>e.map(t=>t.id===r.id?{...t,...r}:t))}function zr(r){we.update(e=>[r,...e].slice(0,Or))}function jr(r){K(we).find(e=>e.id===r.id)?In(r):zr(r)}function Vr(r){we.update(e=>(r?zt(r):e.forEach(t=>{zt(t.id)}),e.map(t=>t.id===r||r===void 0?{...t,visible:!1}:t)))}function Mn(r){we.update(e=>r===void 0?[]:e.filter(t=>t.id!==r))}function Rr(r){pt.set(r)}function Gr(r){let e;pt.update(t=>(e=r-(t||0),null)),we.update(t=>t.map(n=>({...n,pauseDuration:n.pauseDuration+e})))}const qr={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3};function Fr(r={}){return{toasts:Nr(we,t=>t.map(n=>{var s,i;return{...r,...r[n.type],...n,duration:n.duration||((s=r[n.type])==null?void 0:s.duration)||(r==null?void 0:r.duration)||qr[n.type],style:[r.style,(i=r[n.type])==null?void 0:i.style,n.style].join(";")}}),t=>t),pausedAt:pt}}const Ur=r=>typeof r=="function",jt=(r,e)=>Ur(r)?r(e):r,Wr=(()=>{let r=0;return()=>(r+=1,r.toString())})(),An=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){const e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r}})(),Zr=(r,e="blank",t)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...t,id:(t==null?void 0:t.id)||Wr()}),Oe=r=>(e,t)=>{const n=Zr(e,r,t);return jr(n),n.id},ae=(r,e)=>Oe("blank")(r,e);ae.error=Oe("error");ae.success=Oe("success");ae.loading=Oe("loading");ae.custom=Oe("custom");ae.dismiss=r=>{Vr(r)};ae.remove=r=>Mn(r);ae.promise=(r,e,t)=>{const n=ae.loading(e.loading,{...t,...t==null?void 0:t.loading});return r.then(s=>(ae.success(jt(e.success,s),{id:n,...t,...t==null?void 0:t.success}),s)).catch(s=>{ae.error(jt(e.error,s),{id:n,...t,...t==null?void 0:t.error})}),r};function Jr(r,e,t){const{reverseOrder:n,gutter:s=8,defaultPosition:i}=t||{},a=e.filter(u=>(u.position||i)===(r.position||i)&&u.height),l=a.findIndex(u=>u.id===r.id),o=a.filter((u,m)=>m<l&&u.visible).length;return a.filter(u=>u.visible).slice(...n?[o+1]:[0,o]).reduce((u,m)=>u+(m.height||0)+s,0)}const Qr={startPause(){Rr(Date.now())},endPause(){Gr(Date.now())},updateHeight:(r,e)=>{In({id:r,height:e})},calculateOffset:Jr};function Kr(r){const{toasts:e,pausedAt:t}=Fr(r),n=new Map;let s;const i=[t.subscribe(a=>{if(a){for(const[,l]of n)clearTimeout(l);n.clear()}s=a}),e.subscribe(a=>{if(s)return;const l=Date.now();for(const o of a){if(n.has(o.id)||o.duration===1/0)continue;const c=(o.duration||0)+o.pauseDuration-(l-o.createdAt);if(c<0)return o.visible&&ae.dismiss(o.id),null;n.set(o.id,setTimeout(()=>ae.dismiss(o.id),c))}})];return ye(()=>{for(const a of i)a()}),{toasts:e,handlers:Qr}}function Xr(r){let e;return{c(){e=k("div"),this.h()},l(t){e=C(t,"DIV",{class:!0}),v(e).forEach(h),this.h()},h(){d(e,"class","svelte-11kvm4p"),J(e,"--primary",r[0]),J(e,"--secondary",r[1])},m(t,n){w(t,e,n)},p(t,[n]){n&1&&J(e,"--primary",t[0]),n&2&&J(e,"--secondary",t[1])},i:I,o:I,d(t){t&&h(e)}}}function Yr(r,e,t){let{primary:n="#61d345"}=e,{secondary:s="#fff"}=e;return r.$$set=i=>{"primary"in i&&t(0,n=i.primary),"secondary"in i&&t(1,s=i.secondary)},[n,s]}class xr extends B{constructor(e){super(),P(this,e,Yr,Xr,D,{primary:0,secondary:1})}}function $r(r){let e;return{c(){e=k("div"),this.h()},l(t){e=C(t,"DIV",{class:!0}),v(e).forEach(h),this.h()},h(){d(e,"class","svelte-1ee93ns"),J(e,"--primary",r[0]),J(e,"--secondary",r[1])},m(t,n){w(t,e,n)},p(t,[n]){n&1&&J(e,"--primary",t[0]),n&2&&J(e,"--secondary",t[1])},i:I,o:I,d(t){t&&h(e)}}}function es(r,e,t){let{primary:n="#ff4b4b"}=e,{secondary:s="#fff"}=e;return r.$$set=i=>{"primary"in i&&t(0,n=i.primary),"secondary"in i&&t(1,s=i.secondary)},[n,s]}class ts extends B{constructor(e){super(),P(this,e,es,$r,D,{primary:0,secondary:1})}}function ns(r){let e;return{c(){e=k("div"),this.h()},l(t){e=C(t,"DIV",{class:!0}),v(e).forEach(h),this.h()},h(){d(e,"class","svelte-1j7dflg"),J(e,"--primary",r[0]),J(e,"--secondary",r[1])},m(t,n){w(t,e,n)},p(t,[n]){n&1&&J(e,"--primary",t[0]),n&2&&J(e,"--secondary",t[1])},i:I,o:I,d(t){t&&h(e)}}}function rs(r,e,t){let{primary:n="#616161"}=e,{secondary:s="#e0e0e0"}=e;return r.$$set=i=>{"primary"in i&&t(0,n=i.primary),"secondary"in i&&t(1,s=i.secondary)},[n,s]}class ss extends B{constructor(e){super(),P(this,e,rs,ns,D,{primary:0,secondary:1})}}function is(r){let e,t,n,s;const i=[r[0]];let a={};for(let o=0;o<i.length;o+=1)a=Ke(a,i[o]);t=new ss({props:a});let l=r[2]!=="loading"&&Vt(r);return{c(){e=k("div"),M(t.$$.fragment),n=H(),l&&l.c(),this.h()},l(o){e=C(o,"DIV",{class:!0});var c=v(e);N(t.$$.fragment,c),n=z(c),l&&l.l(c),c.forEach(h),this.h()},h(){d(e,"class","indicator svelte-1kgeier")},m(o,c){w(o,e,c),A(t,e,null),b(e,n),l&&l.m(e,null),s=!0},p(o,c){const u=c&1?Xe(i,[ft(o[0])]):{};t.$set(u),o[2]!=="loading"?l?(l.p(o,c),c&4&&p(l,1)):(l=Vt(o),l.c(),p(l,1),l.m(e,null)):l&&(Y(),y(l,1,1,()=>{l=null}),x())},i(o){s||(p(t.$$.fragment,o),p(l),s=!0)},o(o){y(t.$$.fragment,o),y(l),s=!1},d(o){o&&h(e),T(t),l&&l.d()}}}function as(r){let e,t,n;var s=r[1];function i(a){return{}}return s&&(e=fe(s,i())),{c(){e&&M(e.$$.fragment),t=j()},l(a){e&&N(e.$$.fragment,a),t=j()},m(a,l){e&&A(e,a,l),w(a,t,l),n=!0},p(a,l){if(l&2&&s!==(s=a[1])){if(e){Y();const o=e;y(o.$$.fragment,1,0,()=>{T(o,1)}),x()}s?(e=fe(s,i()),M(e.$$.fragment),p(e.$$.fragment,1),A(e,t.parentNode,t)):e=null}},i(a){n||(e&&p(e.$$.fragment,a),n=!0)},o(a){e&&y(e.$$.fragment,a),n=!1},d(a){a&&h(t),e&&T(e,a)}}}function ls(r){let e,t;return{c(){e=k("div"),t=q(r[1]),this.h()},l(n){e=C(n,"DIV",{class:!0});var s=v(e);t=F(s,r[1]),s.forEach(h),this.h()},h(){d(e,"class","animated svelte-1kgeier")},m(n,s){w(n,e,s),b(e,t)},p(n,s){s&2&&ne(t,n[1])},i:I,o:I,d(n){n&&h(e)}}}function Vt(r){let e,t,n,s;const i=[cs,os],a=[];function l(o,c){return o[2]==="error"?0:1}return t=l(r),n=a[t]=i[t](r),{c(){e=k("div"),n.c(),this.h()},l(o){e=C(o,"DIV",{class:!0});var c=v(e);n.l(c),c.forEach(h),this.h()},h(){d(e,"class","status svelte-1kgeier")},m(o,c){w(o,e,c),a[t].m(e,null),s=!0},p(o,c){let u=t;t=l(o),t===u?a[t].p(o,c):(Y(),y(a[u],1,1,()=>{a[u]=null}),x(),n=a[t],n?n.p(o,c):(n=a[t]=i[t](o),n.c()),p(n,1),n.m(e,null))},i(o){s||(p(n),s=!0)},o(o){y(n),s=!1},d(o){o&&h(e),a[t].d()}}}function os(r){let e,t;const n=[r[0]];let s={};for(let i=0;i<n.length;i+=1)s=Ke(s,n[i]);return e=new xr({props:s}),{c(){M(e.$$.fragment)},l(i){N(e.$$.fragment,i)},m(i,a){A(e,i,a),t=!0},p(i,a){const l=a&1?Xe(n,[ft(i[0])]):{};e.$set(l)},i(i){t||(p(e.$$.fragment,i),t=!0)},o(i){y(e.$$.fragment,i),t=!1},d(i){T(e,i)}}}function cs(r){let e,t;const n=[r[0]];let s={};for(let i=0;i<n.length;i+=1)s=Ke(s,n[i]);return e=new ts({props:s}),{c(){M(e.$$.fragment)},l(i){N(e.$$.fragment,i)},m(i,a){A(e,i,a),t=!0},p(i,a){const l=a&1?Xe(n,[ft(i[0])]):{};e.$set(l)},i(i){t||(p(e.$$.fragment,i),t=!0)},o(i){y(e.$$.fragment,i),t=!1},d(i){T(e,i)}}}function us(r){let e,t,n,s;const i=[ls,as,is],a=[];function l(o,c){return typeof o[1]=="string"?0:typeof o[1]<"u"?1:o[2]!=="blank"?2:-1}return~(e=l(r))&&(t=a[e]=i[e](r)),{c(){t&&t.c(),n=j()},l(o){t&&t.l(o),n=j()},m(o,c){~e&&a[e].m(o,c),w(o,n,c),s=!0},p(o,[c]){let u=e;e=l(o),e===u?~e&&a[e].p(o,c):(t&&(Y(),y(a[u],1,1,()=>{a[u]=null}),x()),~e?(t=a[e],t?t.p(o,c):(t=a[e]=i[e](o),t.c()),p(t,1),t.m(n.parentNode,n)):t=null)},i(o){s||(p(t),s=!0)},o(o){y(t),s=!1},d(o){~e&&a[e].d(o),o&&h(n)}}}function fs(r,e,t){let n,s,i,{toast:a}=e;return r.$$set=l=>{"toast"in l&&t(3,a=l.toast)},r.$$.update=()=>{r.$$.dirty&8&&t(2,{type:n,icon:s,iconTheme:i}=a,n,(t(1,s),t(3,a)),(t(0,i),t(3,a)))},[i,s,n,a]}class vt extends B{constructor(e){super(),P(this,e,fs,us,D,{toast:3})}}function ms(r){let e,t,n;var s=r[0].message;function i(a){return{props:{toast:a[0]}}}return s&&(e=fe(s,i(r))),{c(){e&&M(e.$$.fragment),t=j()},l(a){e&&N(e.$$.fragment,a),t=j()},m(a,l){e&&A(e,a,l),w(a,t,l),n=!0},p(a,l){const o={};if(l&1&&(o.toast=a[0]),l&1&&s!==(s=a[0].message)){if(e){Y();const c=e;y(c.$$.fragment,1,0,()=>{T(c,1)}),x()}s?(e=fe(s,i(a)),M(e.$$.fragment),p(e.$$.fragment,1),A(e,t.parentNode,t)):e=null}else s&&e.$set(o)},i(a){n||(e&&p(e.$$.fragment,a),n=!0)},o(a){e&&y(e.$$.fragment,a),n=!1},d(a){a&&h(t),e&&T(e,a)}}}function ds(r){let e=r[0].message+"",t;return{c(){t=q(e)},l(n){t=F(n,e)},m(n,s){w(n,t,s)},p(n,s){s&1&&e!==(e=n[0].message+"")&&ne(t,e)},i:I,o:I,d(n){n&&h(t)}}}function hs(r){let e,t,n,s;const i=[ds,ms],a=[];function l(u,m){return typeof u[0].message=="string"?0:1}t=l(r),n=a[t]=i[t](r);let o=[{class:"message"},r[0].ariaProps],c={};for(let u=0;u<o.length;u+=1)c=Ke(c,o[u]);return{c(){e=k("div"),n.c(),this.h()},l(u){e=C(u,"DIV",{class:!0});var m=v(e);n.l(m),m.forEach(h),this.h()},h(){Pt(e,c),Ae(e,"svelte-1nauejd",!0)},m(u,m){w(u,e,m),a[t].m(e,null),s=!0},p(u,[m]){let g=t;t=l(u),t===g?a[t].p(u,m):(Y(),y(a[g],1,1,()=>{a[g]=null}),x(),n=a[t],n?n.p(u,m):(n=a[t]=i[t](u),n.c()),p(n,1),n.m(e,null)),Pt(e,c=Xe(o,[{class:"message"},m&1&&u[0].ariaProps])),Ae(e,"svelte-1nauejd",!0)},i(u){s||(p(n),s=!0)},o(u){y(n),s=!1},d(u){u&&h(e),a[t].d()}}}function gs(r,e,t){let{toast:n}=e;return r.$$set=s=>{"toast"in s&&t(0,n=s.toast)},[n]}class xe extends B{constructor(e){super(),P(this,e,gs,hs,D,{toast:0})}}const bs=r=>({toast:r&1}),Rt=r=>({ToastIcon:vt,ToastMessage:xe,toast:r[0]});function _s(r){let e;const t=r[6].default,n=mt(t,r,r[7],Rt),s=n||vs(r);return{c(){s&&s.c()},l(i){s&&s.l(i)},m(i,a){s&&s.m(i,a),e=!0},p(i,a){n?n.p&&(!e||a&129)&&dt(n,t,i,i[7],e?gt(t,i[7],a,bs):ht(i[7]),Rt):s&&s.p&&(!e||a&1)&&s.p(i,e?a:-1)},i(i){e||(p(s,i),e=!0)},o(i){y(s,i),e=!1},d(i){s&&s.d(i)}}}function ps(r){let e,t,n;var s=r[2];function i(a){return{props:{$$slots:{message:[Ls],icon:[ys]},$$scope:{ctx:a}}}}return s&&(e=fe(s,i(r))),{c(){e&&M(e.$$.fragment),t=j()},l(a){e&&N(e.$$.fragment,a),t=j()},m(a,l){e&&A(e,a,l),w(a,t,l),n=!0},p(a,l){const o={};if(l&129&&(o.$$scope={dirty:l,ctx:a}),l&4&&s!==(s=a[2])){if(e){Y();const c=e;y(c.$$.fragment,1,0,()=>{T(c,1)}),x()}s?(e=fe(s,i(a)),M(e.$$.fragment),p(e.$$.fragment,1),A(e,t.parentNode,t)):e=null}else s&&e.$set(o)},i(a){n||(e&&p(e.$$.fragment,a),n=!0)},o(a){e&&y(e.$$.fragment,a),n=!1},d(a){a&&h(t),e&&T(e,a)}}}function vs(r){let e,t,n,s;return e=new vt({props:{toast:r[0]}}),n=new xe({props:{toast:r[0]}}),{c(){M(e.$$.fragment),t=H(),M(n.$$.fragment)},l(i){N(e.$$.fragment,i),t=z(i),N(n.$$.fragment,i)},m(i,a){A(e,i,a),w(i,t,a),A(n,i,a),s=!0},p(i,a){const l={};a&1&&(l.toast=i[0]),e.$set(l);const o={};a&1&&(o.toast=i[0]),n.$set(o)},i(i){s||(p(e.$$.fragment,i),p(n.$$.fragment,i),s=!0)},o(i){y(e.$$.fragment,i),y(n.$$.fragment,i),s=!1},d(i){T(e,i),i&&h(t),T(n,i)}}}function ys(r){let e,t;return e=new vt({props:{toast:r[0],slot:"icon"}}),{c(){M(e.$$.fragment)},l(n){N(e.$$.fragment,n)},m(n,s){A(e,n,s),t=!0},p(n,s){const i={};s&1&&(i.toast=n[0]),e.$set(i)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){y(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Ls(r){let e,t;return e=new xe({props:{toast:r[0],slot:"message"}}),{c(){M(e.$$.fragment)},l(n){N(e.$$.fragment,n)},m(n,s){A(e,n,s),t=!0},p(n,s){const i={};s&1&&(i.toast=n[0]),e.$set(i)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){y(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function ws(r){let e,t,n,s,i,a;const l=[ps,_s],o=[];function c(u,m){return u[2]?0:1}return t=c(r),n=o[t]=l[t](r),{c(){e=k("div"),n.c(),this.h()},l(u){e=C(u,"DIV",{class:!0,style:!0});var m=v(e);n.l(m),m.forEach(h),this.h()},h(){d(e,"class",s="base "+(r[0].height?r[4]:"transparent")+" "+(r[0].className||"")+" svelte-ug60r4"),d(e,"style",i=r[1]+"; "+r[0].style),J(e,"--factor",r[3])},m(u,m){w(u,e,m),o[t].m(e,null),a=!0},p(u,[m]){let g=t;t=c(u),t===g?o[t].p(u,m):(Y(),y(o[g],1,1,()=>{o[g]=null}),x(),n=o[t],n?n.p(u,m):(n=o[t]=l[t](u),n.c()),p(n,1),n.m(e,null)),(!a||m&17&&s!==(s="base "+(u[0].height?u[4]:"transparent")+" "+(u[0].className||"")+" svelte-ug60r4"))&&d(e,"class",s),(!a||m&3&&i!==(i=u[1]+"; "+u[0].style))&&d(e,"style",i),(m&3||m&11)&&J(e,"--factor",u[3])},i(u){a||(p(n),a=!0)},o(u){y(n),a=!1},d(u){u&&h(e),o[t].d()}}}function ks(r,e,t){let{$$slots:n={},$$scope:s}=e,{toast:i}=e,{position:a=void 0}=e,{style:l=""}=e,{Component:o=void 0}=e,c,u;return r.$$set=m=>{"toast"in m&&t(0,i=m.toast),"position"in m&&t(5,a=m.position),"style"in m&&t(1,l=m.style),"Component"in m&&t(2,o=m.Component),"$$scope"in m&&t(7,s=m.$$scope)},r.$$.update=()=>{if(r.$$.dirty&33){const m=(i.position||a||"top-center").includes("top");t(3,c=m?1:-1);const[g,f]=An()?["fadeIn","fadeOut"]:["enter","exit"];t(4,u=i.visible?g:f)}},[i,l,o,c,u,a,n,s]}class Cs extends B{constructor(e){super(),P(this,e,ks,ws,D,{toast:0,position:5,style:1,Component:2})}}const Es=r=>({toast:r&1}),Gt=r=>({toast:r[0]});function Ss(r){let e;const t=r[8].default,n=mt(t,r,r[7],Gt),s=n||Ms(r);return{c(){s&&s.c()},l(i){s&&s.l(i)},m(i,a){s&&s.m(i,a),e=!0},p(i,a){n?n.p&&(!e||a&129)&&dt(n,t,i,i[7],e?gt(t,i[7],a,Es):ht(i[7]),Gt):s&&s.p&&(!e||a&1)&&s.p(i,e?a:-1)},i(i){e||(p(s,i),e=!0)},o(i){y(s,i),e=!1},d(i){s&&s.d(i)}}}function Is(r){let e,t;return e=new xe({props:{toast:r[0]}}),{c(){M(e.$$.fragment)},l(n){N(e.$$.fragment,n)},m(n,s){A(e,n,s),t=!0},p(n,s){const i={};s&1&&(i.toast=n[0]),e.$set(i)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){y(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Ms(r){let e,t;return e=new Cs({props:{toast:r[0],position:r[0].position}}),{c(){M(e.$$.fragment)},l(n){N(e.$$.fragment,n)},m(n,s){A(e,n,s),t=!0},p(n,s){const i={};s&1&&(i.toast=n[0]),s&1&&(i.position=n[0].position),e.$set(i)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){y(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function As(r){let e,t,n,s;const i=[Is,Ss],a=[];function l(o,c){return o[0].type==="custom"?0:1}return t=l(r),n=a[t]=i[t](r),{c(){e=k("div"),n.c(),this.h()},l(o){e=C(o,"DIV",{class:!0});var c=v(e);n.l(c),c.forEach(h),this.h()},h(){d(e,"class","wrapper svelte-v01oml"),Ae(e,"active",r[0].visible),Ae(e,"transition",!An()),J(e,"--factor",r[3]),J(e,"--offset",r[0].offset),J(e,"top",r[5]),J(e,"bottom",r[4]),J(e,"justify-content",r[2])},m(o,c){w(o,e,c),a[t].m(e,null),r[9](e),s=!0},p(o,[c]){let u=t;t=l(o),t===u?a[t].p(o,c):(Y(),y(a[u],1,1,()=>{a[u]=null}),x(),n=a[t],n?n.p(o,c):(n=a[t]=i[t](o),n.c()),p(n,1),n.m(e,null)),(!s||c&1)&&Ae(e,"active",o[0].visible),c&8&&J(e,"--factor",o[3]),c&1&&J(e,"--offset",o[0].offset),c&32&&J(e,"top",o[5]),c&16&&J(e,"bottom",o[4]),c&4&&J(e,"justify-content",o[2])},i(o){s||(p(n),s=!0)},o(o){y(n),s=!1},d(o){o&&h(e),a[t].d(),r[9](null)}}}function Ts(r,e,t){let n,s,i,a,{$$slots:l={},$$scope:o}=e,{toast:c}=e,{setHeight:u}=e,m;Pe(()=>{u(m.getBoundingClientRect().height)});function g(f){yn[f?"unshift":"push"](()=>{m=f,t(1,m)})}return r.$$set=f=>{"toast"in f&&t(0,c=f.toast),"setHeight"in f&&t(6,u=f.setHeight),"$$scope"in f&&t(7,o=f.$$scope)},r.$$.update=()=>{var f,_,E,V,ee;r.$$.dirty&1&&t(5,n=(f=c.position)!=null&&f.includes("top")?0:null),r.$$.dirty&1&&t(4,s=(_=c.position)!=null&&_.includes("bottom")?0:null),r.$$.dirty&1&&t(3,i=(E=c.position)!=null&&E.includes("top")?1:-1),r.$$.dirty&1&&t(2,a=((V=c.position)==null?void 0:V.includes("center"))&&"center"||((ee=c.position)==null?void 0:ee.includes("right"))&&"flex-end"||null)},[c,m,a,i,s,n,u,o,l,g]}class Bs extends B{constructor(e){super(),P(this,e,Ts,As,D,{toast:0,setHeight:6})}}function qt(r,e,t){const n=r.slice();return n[11]=e[t],n}function Ft(r,e){let t,n,s;function i(...a){return e[10](e[11],...a)}return n=new Bs({props:{toast:e[11],setHeight:i}}),{key:r,first:null,c(){t=j(),M(n.$$.fragment),this.h()},l(a){t=j(),N(n.$$.fragment,a),this.h()},h(){this.first=t},m(a,l){w(a,t,l),A(n,a,l),s=!0},p(a,l){e=a;const o={};l&4&&(o.toast=e[11]),l&4&&(o.setHeight=i),n.$set(o)},i(a){s||(p(n.$$.fragment,a),s=!0)},o(a){y(n.$$.fragment,a),s=!1},d(a){a&&h(t),T(n,a)}}}function Ps(r){let e,t=[],n=new Map,s,i,a,l,o=r[2];const c=u=>u[11].id;for(let u=0;u<o.length;u+=1){let m=qt(r,o,u),g=c(m);n.set(g,t[u]=Ft(g,m))}return{c(){e=k("div");for(let u=0;u<t.length;u+=1)t[u].c();this.h()},l(u){e=C(u,"DIV",{class:!0,style:!0});var m=v(e);for(let g=0;g<t.length;g+=1)t[g].l(m);m.forEach(h),this.h()},h(){d(e,"class",s="toaster "+(r[1]||"")+" svelte-1phplh9"),d(e,"style",r[0])},m(u,m){w(u,e,m);for(let g=0;g<t.length;g+=1)t[g]&&t[g].m(e,null);i=!0,a||(l=[te(e,"mouseenter",r[4].startPause),te(e,"mouseleave",r[4].endPause)],a=!0)},p(u,[m]){m&20&&(o=u[2],Y(),t=bt(t,m,c,1,u,o,n,e,Ln,Ft,null,qt),x()),(!i||m&2&&s!==(s="toaster "+(u[1]||"")+" svelte-1phplh9"))&&d(e,"class",s),(!i||m&1)&&d(e,"style",u[0])},i(u){if(!i){for(let m=0;m<o.length;m+=1)p(t[m]);i=!0}},o(u){for(let m=0;m<t.length;m+=1)y(t[m]);i=!1},d(u){u&&h(e);for(let m=0;m<t.length;m+=1)t[m].d();a=!1,Ie(l)}}}function Ds(r,e,t){let n,{reverseOrder:s=!1}=e,{position:i="top-center"}=e,{toastOptions:a=void 0}=e,{gutter:l=8}=e,{containerStyle:o=void 0}=e,{containerClassName:c=void 0}=e;const{toasts:u,handlers:m}=Kr(a);R(r,u,_=>t(9,n=_));let g;const f=(_,E)=>m.updateHeight(_.id,E);return r.$$set=_=>{"reverseOrder"in _&&t(5,s=_.reverseOrder),"position"in _&&t(6,i=_.position),"toastOptions"in _&&t(7,a=_.toastOptions),"gutter"in _&&t(8,l=_.gutter),"containerStyle"in _&&t(0,o=_.containerStyle),"containerClassName"in _&&t(1,c=_.containerClassName)},r.$$.update=()=>{r.$$.dirty&864&&t(2,g=n.map(_=>({..._,position:_.position||i,offset:m.calculateOffset(_,n,{reverseOrder:s,gutter:l,defaultPosition:i})})))},[o,c,g,u,m,s,i,a,l,n,f]}class Ns extends B{constructor(e){super(),P(this,e,Ds,Ps,D,{reverseOrder:5,position:6,toastOptions:7,gutter:8,containerStyle:0,containerClassName:1})}}function Os(r){let e;return{c(){e=k("div"),this.h()},l(t){e=C(t,"DIV",{class:!0}),v(e).forEach(h),this.h()},h(){d(e,"class","blocker fixed block h-[100vh] w-[100vw] bg-white opacity-0 transition-opacity ease-in-out")},m(t,n){w(t,e,n)},p:I,i:I,o:I,d(t){t&&h(e)}}}class Hs extends B{constructor(e){super(),P(this,e,null,Os,D,{})}}var se=(r=>(r.detection="detection",r.segmentation="segmentation",r.classification="classification",r.prompts="prompts",r))(se||{}),$e=(r=>(r.labels="labels",r.tasks="tasks",r))($e||{});const zs=()=>{const r=oe(Nt),{subscribe:e,set:t}=r;return{subscribe:e,store:n=>t(n),retrieve:()=>K(r),empty:()=>t(Nt)}},He=zs(),{tasks:js}=$e;function Vs(r){const e=oe(r),{subscribe:t,set:n}=e,s=u=>{const m={detection:L.featureGroup(),segmentation:L.featureGroup(),classification:L.featureGroup(),prompts:L.featureGroup()};Ot(u,m),n(m)},i=u=>{const m=K(e);cr(u,m),n(null)};return{subscribe:t,init:s,remove:i,clear:u=>{i(u),s(u)},retrieve:()=>K(e),addLayerWithProperties:(u,m,g)=>(m[js]=[g],u.feature={type:"Feature",properties:{...m}},K(e)[g].addLayer(u),u),resetLayerGroup:(u,m)=>{const g=K(e);g[m].clearLayers(),Ot(u,g),n(g)},removeLayer:(u,m)=>{K(e)[m].removeLayer(u)}}}const Rs={detection:null,segmentation:null,classification:null,prompts:null},X=Vs(Rs);function Gs(){const r=oe(Ut),{subscribe:e,set:t}=r;return{subscribe:e,store:s=>t(s),toggle:s=>{const i=K(r),a=i.map(o=>o.name);let l;a.includes(s.name)?l=i.filter(o=>o.name!==s.name):l=[...i,s],t(l)},retrieve:()=>K(r),empty:()=>t(Ut)}}const Ut=[],ke=Gs(),qs=()=>{const r=oe({areImagesLoading:!0,areLabelsLoading:!0,areAnnotationsLoading:!0}),{subscribe:e,update:t}=r;return{subscribe:e,markImagesAsLoaded:()=>t(u=>({...u,areImagesLoading:!1})),markLabelsAsLoaded:()=>t(u=>({...u,areLabelsLoading:!1})),markAnnotationsAsLoaded:()=>t(u=>({...u,areAnnotationsLoading:!1})),markLabelsAsLoading:()=>t(u=>({...u,areLabelsLoading:!0})),markImagesAsLoading:()=>t(u=>({...u,areImagesLoading:!0})),markAnnotationsAsLoading:()=>t(u=>({...u,areAnnotationsLoading:!0})),isDataLoading:()=>{const u=K(r);return u.areImagesLoading||u.areLabelsLoading},retrieve:()=>K(r)}},Te=qs(),Fs=()=>{const e=oe({saving:!1,samMaskRequest:!1}),{update:t,subscribe:n}=e;return{subscribe:n,saving:{enable:()=>t(s=>({...s,saving:!0})),disable:()=>t(s=>({...s,saving:!1})),retrieve:()=>K(e).saving},samMaskRequest:{enable:()=>t(s=>({...s,samMaskRequest:!0})),disable:()=>t(s=>({...s,samMaskRequest:!1})),retrieve:()=>K(e).samMaskRequest}}},$=Fs();function Us(r){const e=oe(r),{subscribe:t,set:n}=e;return{subscribe:t,store:s=>n(s),retrieve:()=>K(e),remove:()=>n(null)}}const Q=Us(null),Ws={name:"",bbox:[0,0,0,0]};function Zs(){const r=oe(Ws),{subscribe:e,set:t}=r;return{subscribe:e,store:n=>t(n),retrieve:()=>K(r)}}const ge=Zs();function Js(r){const e=oe(r),{subscribe:t,set:n}=e;return{subscribe:t,store:s=>n(s),retrieve:()=>K(e)}}const Qs=[],et=Js(Qs),Ks=()=>ke.retrieve().map(e=>e.name).flat(),Tn=async()=>{const r=Ks(),e=ge.retrieve().bbox,t=ur(e),n=fr(t),s=L.polygon(n,{weight:0,fillOpacity:0,interactive:!1}),i={labels:r};X.addLayerWithProperties(s,i,se.classification)},Xs=r=>{ge.retrieve().name&&(ke.toggle(r),Ys())},Ys=()=>{$.saving.enable(),xs(),ke.retrieve().length&&Tn()},xs=()=>{X.retrieve().classification&&X.resetLayerGroup(Q.retrieve(),se.classification)};function Wt(r){let e,t;return{c(){e=U("desc"),t=q(r[7])},l(n){e=W(n,"desc",{});var s=v(e);t=F(s,r[7]),s.forEach(h)},m(n,s){w(n,e,s),b(e,t)},p(n,s){s&128&&ne(t,n[7])},d(n){n&&h(e)}}}function Zt(r){let e,t;return{c(){e=U("title"),t=q(r[6])},l(n){e=W(n,"title",{});var s=v(e);t=F(s,r[6]),s.forEach(h)},m(n,s){w(n,e,s),b(e,t)},p(n,s){s&64&&ne(t,n[6])},d(n){n&&h(e)}}}function $s(r){let e,t,n,s=r[7]&&Wt(r),i=r[6]&&Zt(r);return{c(){e=U("svg"),s&&s.c(),t=j(),i&&i.c(),n=U("path"),this.h()},l(a){e=W(a,"svg",{viewBox:!0,width:!0,height:!0,class:!0,"aria-label":!0,"aria-hidden":!0});var l=v(e);s&&s.l(l),t=j(),i&&i.l(l),n=W(l,"path",{d:!0,fill:!0}),v(n).forEach(h),l.forEach(h),this.h()},h(){d(n,"d","M21.41 11.58L12.41 2.58C12.04 2.21 11.53 2 11 2H4C2.9 2 2 2.9 2 4V11C2 11.53 2.21 12.04 2.59 12.41L3 12.81C3.9 12.27 4.94 12 6 12C9.31 12 12 14.69 12 18C12 19.06 11.72 20.09 11.18 21L11.58 21.4C11.95 21.78 12.47 22 13 22S14.04 21.79 14.41 21.41L21.41 14.41C21.79 14.04 22 13.53 22 13S21.79 11.96 21.41 11.58M5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7M8.63 14.27L4.76 18.17L3.41 16.8L2 18.22L4.75 21L10.03 15.68L8.63 14.27"),d(n,"fill",r[2]),d(e,"viewBox",r[3]),d(e,"width",r[0]),d(e,"height",r[1]),d(e,"class",r[8]),d(e,"aria-label",r[4]),d(e,"aria-hidden",r[5])},m(a,l){w(a,e,l),s&&s.m(e,null),b(e,t),i&&i.m(e,null),b(e,n)},p(a,[l]){a[7]?s?s.p(a,l):(s=Wt(a),s.c(),s.m(e,t)):s&&(s.d(1),s=null),a[6]?i?i.p(a,l):(i=Zt(a),i.c(),i.m(e,n)):i&&(i.d(1),i=null),l&4&&d(n,"fill",a[2]),l&8&&d(e,"viewBox",a[3]),l&1&&d(e,"width",a[0]),l&2&&d(e,"height",a[1]),l&256&&d(e,"class",a[8]),l&16&&d(e,"aria-label",a[4]),l&32&&d(e,"aria-hidden",a[5])},i:I,o:I,d(a){a&&h(e),s&&s.d(),i&&i.d()}}}function ei(r,e,t){let{size:n="1em"}=e,{width:s=n}=e,{height:i=n}=e,{color:a="currentColor"}=e,{viewBox:l="0 0 24 24"}=e,{ariaLabel:o=void 0}=e,{ariaHidden:c=void 0}=e,{title:u=void 0}=e,{desc:m=void 0}=e,{class:g=void 0}=e;return r.$$set=f=>{"size"in f&&t(9,n=f.size),"width"in f&&t(0,s=f.width),"height"in f&&t(1,i=f.height),"color"in f&&t(2,a=f.color),"viewBox"in f&&t(3,l=f.viewBox),"ariaLabel"in f&&t(4,o=f.ariaLabel),"ariaHidden"in f&&t(5,c=f.ariaHidden),"title"in f&&t(6,u=f.title),"desc"in f&&t(7,m=f.desc),"class"in f&&t(8,g=f.class)},[s,i,a,l,o,c,u,m,g,n]}class ti extends B{constructor(e){super(),P(this,e,ei,$s,D,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function Jt(r){let e,t,n,s,i;return t=new ti({props:{color:r[1]?"#202124":"#5e5e5e"}}),{c(){e=k("i"),M(t.$$.fragment),this.h()},l(a){e=C(a,"I",{class:!0,"aria-label":!0});var l=v(e);N(t.$$.fragment,l),l.forEach(h),this.h()},h(){d(e,"class",n="text-2xl "+(r[1]&&"hover:text-3xl")+" mr-2"),d(e,"aria-label",s=`${r[0]} classification tag`)},m(a,l){w(a,e,l),A(t,e,null),i=!0},p(a,l){const o={};l&2&&(o.color=a[1]?"#202124":"#5e5e5e"),t.$set(o),(!i||l&2&&n!==(n="text-2xl "+(a[1]&&"hover:text-3xl")+" mr-2"))&&d(e,"class",n),(!i||l&1&&s!==(s=`${a[0]} classification tag`))&&d(e,"aria-label",s)},i(a){i||(p(t.$$.fragment,a),i=!0)},o(a){y(t.$$.fragment,a),i=!1},d(a){a&&h(e),T(t)}}}function ni(r){let e=r[2].includes(r[0].toLowerCase()),t,n,s=e&&Jt(r);return{c(){s&&s.c(),t=j()},l(i){s&&s.l(i),t=j()},m(i,a){s&&s.m(i,a),w(i,t,a),n=!0},p(i,[a]){a&5&&(e=i[2].includes(i[0].toLowerCase())),e?s?(s.p(i,a),a&5&&p(s,1)):(s=Jt(i),s.c(),p(s,1),s.m(t.parentNode,t)):s&&(Y(),y(s,1,1,()=>{s=null}),x())},i(i){n||(p(s),n=!0)},o(i){y(s),n=!1},d(i){s&&s.d(i),i&&h(t)}}}function ri(r,e,t){let n,s,i,a;R(r,ve,o=>t(3,i=o)),R(r,ke,o=>t(4,a=o));let{name:l}=e;return r.$$set=o=>{"name"in o&&t(0,l=o.name)},r.$$.update=()=>{r.$$.dirty&16&&t(2,n=a.map(o=>o.name.toLowerCase())),r.$$.dirty&8&&t(1,s=i.name==="Classification")},[l,s,n,i,a]}class si extends B{constructor(e){super(),P(this,e,ri,ni,D,{name:0})}}const Bn=async()=>{const r=he.retrieve(),e=Ne.retrieve();ii(r,e)},ii=async(r,e)=>{const t=await fetch(e+Me.labelsEndpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({labels:r})}),n=await t.json();t.ok||alert(JSON.stringify(n.detail))},yt=()=>{const r=X.retrieve(),{detection:e,segmentation:t,classification:n,prompts:s}=r;return L.layerGroup([e,t,n,s]).toGeoJSON()},tt=r=>{He.store(r)},ai=r=>{const e=ie.retrieve().name;r===e&&$.samMaskRequest.enable()},Lt=r=>r.reduce((t,{name:n,color:s})=>(t[n]=s,t),{});var li={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};const Be=li,Pn={};for(const r of Object.keys(Be))Pn[Be[r]]=r;const S={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var Dn=S;for(const r of Object.keys(S)){if(!("channels"in S[r]))throw new Error("missing channels property: "+r);if(!("labels"in S[r]))throw new Error("missing channel labels property: "+r);if(S[r].labels.length!==S[r].channels)throw new Error("channel and label counts mismatch: "+r);const{channels:e,labels:t}=S[r];delete S[r].channels,delete S[r].labels,Object.defineProperty(S[r],"channels",{value:e}),Object.defineProperty(S[r],"labels",{value:t})}S.rgb.hsl=function(r){const e=r[0]/255,t=r[1]/255,n=r[2]/255,s=Math.min(e,t,n),i=Math.max(e,t,n),a=i-s;let l,o;i===s?l=0:e===i?l=(t-n)/a:t===i?l=2+(n-e)/a:n===i&&(l=4+(e-t)/a),l=Math.min(l*60,360),l<0&&(l+=360);const c=(s+i)/2;return i===s?o=0:c<=.5?o=a/(i+s):o=a/(2-i-s),[l,o*100,c*100]};S.rgb.hsv=function(r){let e,t,n,s,i;const a=r[0]/255,l=r[1]/255,o=r[2]/255,c=Math.max(a,l,o),u=c-Math.min(a,l,o),m=function(g){return(c-g)/6/u+1/2};return u===0?(s=0,i=0):(i=u/c,e=m(a),t=m(l),n=m(o),a===c?s=n-t:l===c?s=1/3+e-n:o===c&&(s=2/3+t-e),s<0?s+=1:s>1&&(s-=1)),[s*360,i*100,c*100]};S.rgb.hwb=function(r){const e=r[0],t=r[1];let n=r[2];const s=S.rgb.hsl(r)[0],i=1/255*Math.min(e,Math.min(t,n));return n=1-1/255*Math.max(e,Math.max(t,n)),[s,i*100,n*100]};S.rgb.cmyk=function(r){const e=r[0]/255,t=r[1]/255,n=r[2]/255,s=Math.min(1-e,1-t,1-n),i=(1-e-s)/(1-s)||0,a=(1-t-s)/(1-s)||0,l=(1-n-s)/(1-s)||0;return[i*100,a*100,l*100,s*100]};function oi(r,e){return(r[0]-e[0])**2+(r[1]-e[1])**2+(r[2]-e[2])**2}S.rgb.keyword=function(r){const e=Pn[r];if(e)return e;let t=1/0,n;for(const s of Object.keys(Be)){const i=Be[s],a=oi(r,i);a<t&&(t=a,n=s)}return n};S.keyword.rgb=function(r){return Be[r]};S.rgb.xyz=function(r){let e=r[0]/255,t=r[1]/255,n=r[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;const s=e*.4124+t*.3576+n*.1805,i=e*.2126+t*.7152+n*.0722,a=e*.0193+t*.1192+n*.9505;return[s*100,i*100,a*100]};S.rgb.lab=function(r){const e=S.rgb.xyz(r);let t=e[0],n=e[1],s=e[2];t/=95.047,n/=100,s/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,s=s>.008856?s**(1/3):7.787*s+16/116;const i=116*n-16,a=500*(t-n),l=200*(n-s);return[i,a,l]};S.hsl.rgb=function(r){const e=r[0]/360,t=r[1]/100,n=r[2]/100;let s,i,a;if(t===0)return a=n*255,[a,a,a];n<.5?s=n*(1+t):s=n+t-n*t;const l=2*n-s,o=[0,0,0];for(let c=0;c<3;c++)i=e+1/3*-(c-1),i<0&&i++,i>1&&i--,6*i<1?a=l+(s-l)*6*i:2*i<1?a=s:3*i<2?a=l+(s-l)*(2/3-i)*6:a=l,o[c]=a*255;return o};S.hsl.hsv=function(r){const e=r[0];let t=r[1]/100,n=r[2]/100,s=t;const i=Math.max(n,.01);n*=2,t*=n<=1?n:2-n,s*=i<=1?i:2-i;const a=(n+t)/2,l=n===0?2*s/(i+s):2*t/(n+t);return[e,l*100,a*100]};S.hsv.rgb=function(r){const e=r[0]/60,t=r[1]/100;let n=r[2]/100;const s=Math.floor(e)%6,i=e-Math.floor(e),a=255*n*(1-t),l=255*n*(1-t*i),o=255*n*(1-t*(1-i));switch(n*=255,s){case 0:return[n,o,a];case 1:return[l,n,a];case 2:return[a,n,o];case 3:return[a,l,n];case 4:return[o,a,n];case 5:return[n,a,l]}};S.hsv.hsl=function(r){const e=r[0],t=r[1]/100,n=r[2]/100,s=Math.max(n,.01);let i,a;a=(2-t)*n;const l=(2-t)*s;return i=t*s,i/=l<=1?l:2-l,i=i||0,a/=2,[e,i*100,a*100]};S.hwb.rgb=function(r){const e=r[0]/360;let t=r[1]/100,n=r[2]/100;const s=t+n;let i;s>1&&(t/=s,n/=s);const a=Math.floor(6*e),l=1-n;i=6*e-a,a&1&&(i=1-i);const o=t+i*(l-t);let c,u,m;switch(a){default:case 6:case 0:c=l,u=o,m=t;break;case 1:c=o,u=l,m=t;break;case 2:c=t,u=l,m=o;break;case 3:c=t,u=o,m=l;break;case 4:c=o,u=t,m=l;break;case 5:c=l,u=t,m=o;break}return[c*255,u*255,m*255]};S.cmyk.rgb=function(r){const e=r[0]/100,t=r[1]/100,n=r[2]/100,s=r[3]/100,i=1-Math.min(1,e*(1-s)+s),a=1-Math.min(1,t*(1-s)+s),l=1-Math.min(1,n*(1-s)+s);return[i*255,a*255,l*255]};S.xyz.rgb=function(r){const e=r[0]/100,t=r[1]/100,n=r[2]/100;let s,i,a;return s=e*3.2406+t*-1.5372+n*-.4986,i=e*-.9689+t*1.8758+n*.0415,a=e*.0557+t*-.204+n*1.057,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,a=a>.0031308?1.055*a**(1/2.4)-.055:a*12.92,s=Math.min(Math.max(0,s),1),i=Math.min(Math.max(0,i),1),a=Math.min(Math.max(0,a),1),[s*255,i*255,a*255]};S.xyz.lab=function(r){let e=r[0],t=r[1],n=r[2];e/=95.047,t/=100,n/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;const s=116*t-16,i=500*(e-t),a=200*(t-n);return[s,i,a]};S.lab.xyz=function(r){const e=r[0],t=r[1],n=r[2];let s,i,a;i=(e+16)/116,s=t/500+i,a=i-n/200;const l=i**3,o=s**3,c=a**3;return i=l>.008856?l:(i-16/116)/7.787,s=o>.008856?o:(s-16/116)/7.787,a=c>.008856?c:(a-16/116)/7.787,s*=95.047,i*=100,a*=108.883,[s,i,a]};S.lab.lch=function(r){const e=r[0],t=r[1],n=r[2];let s;s=Math.atan2(n,t)*360/2/Math.PI,s<0&&(s+=360);const a=Math.sqrt(t*t+n*n);return[e,a,s]};S.lch.lab=function(r){const e=r[0],t=r[1],s=r[2]/360*2*Math.PI,i=t*Math.cos(s),a=t*Math.sin(s);return[e,i,a]};S.rgb.ansi16=function(r,e=null){const[t,n,s]=r;let i=e===null?S.rgb.hsv(r)[2]:e;if(i=Math.round(i/50),i===0)return 30;let a=30+(Math.round(s/255)<<2|Math.round(n/255)<<1|Math.round(t/255));return i===2&&(a+=60),a};S.hsv.ansi16=function(r){return S.rgb.ansi16(S.hsv.rgb(r),r[2])};S.rgb.ansi256=function(r){const e=r[0],t=r[1],n=r[2];return e===t&&t===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(n/255*5)};S.ansi16.rgb=function(r){let e=r%10;if(e===0||e===7)return r>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const t=(~~(r>50)+1)*.5,n=(e&1)*t*255,s=(e>>1&1)*t*255,i=(e>>2&1)*t*255;return[n,s,i]};S.ansi256.rgb=function(r){if(r>=232){const i=(r-232)*10+8;return[i,i,i]}r-=16;let e;const t=Math.floor(r/36)/5*255,n=Math.floor((e=r%36)/6)/5*255,s=e%6/5*255;return[t,n,s]};S.rgb.hex=function(r){const t=(((Math.round(r[0])&255)<<16)+((Math.round(r[1])&255)<<8)+(Math.round(r[2])&255)).toString(16).toUpperCase();return"000000".substring(t.length)+t};S.hex.rgb=function(r){const e=r.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let t=e[0];e[0].length===3&&(t=t.split("").map(l=>l+l).join(""));const n=parseInt(t,16),s=n>>16&255,i=n>>8&255,a=n&255;return[s,i,a]};S.rgb.hcg=function(r){const e=r[0]/255,t=r[1]/255,n=r[2]/255,s=Math.max(Math.max(e,t),n),i=Math.min(Math.min(e,t),n),a=s-i;let l,o;return a<1?l=i/(1-a):l=0,a<=0?o=0:s===e?o=(t-n)/a%6:s===t?o=2+(n-e)/a:o=4+(e-t)/a,o/=6,o%=1,[o*360,a*100,l*100]};S.hsl.hcg=function(r){const e=r[1]/100,t=r[2]/100,n=t<.5?2*e*t:2*e*(1-t);let s=0;return n<1&&(s=(t-.5*n)/(1-n)),[r[0],n*100,s*100]};S.hsv.hcg=function(r){const e=r[1]/100,t=r[2]/100,n=e*t;let s=0;return n<1&&(s=(t-n)/(1-n)),[r[0],n*100,s*100]};S.hcg.rgb=function(r){const e=r[0]/360,t=r[1]/100,n=r[2]/100;if(t===0)return[n*255,n*255,n*255];const s=[0,0,0],i=e%1*6,a=i%1,l=1-a;let o=0;switch(Math.floor(i)){case 0:s[0]=1,s[1]=a,s[2]=0;break;case 1:s[0]=l,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=a;break;case 3:s[0]=0,s[1]=l,s[2]=1;break;case 4:s[0]=a,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=l}return o=(1-t)*n,[(t*s[0]+o)*255,(t*s[1]+o)*255,(t*s[2]+o)*255]};S.hcg.hsv=function(r){const e=r[1]/100,t=r[2]/100,n=e+t*(1-e);let s=0;return n>0&&(s=e/n),[r[0],s*100,n*100]};S.hcg.hsl=function(r){const e=r[1]/100,n=r[2]/100*(1-e)+.5*e;let s=0;return n>0&&n<.5?s=e/(2*n):n>=.5&&n<1&&(s=e/(2*(1-n))),[r[0],s*100,n*100]};S.hcg.hwb=function(r){const e=r[1]/100,t=r[2]/100,n=e+t*(1-e);return[r[0],(n-e)*100,(1-n)*100]};S.hwb.hcg=function(r){const e=r[1]/100,n=1-r[2]/100,s=n-e;let i=0;return s<1&&(i=(n-s)/(1-s)),[r[0],s*100,i*100]};S.apple.rgb=function(r){return[r[0]/65535*255,r[1]/65535*255,r[2]/65535*255]};S.rgb.apple=function(r){return[r[0]/255*65535,r[1]/255*65535,r[2]/255*65535]};S.gray.rgb=function(r){return[r[0]/100*255,r[0]/100*255,r[0]/100*255]};S.gray.hsl=function(r){return[0,0,r[0]]};S.gray.hsv=S.gray.hsl;S.gray.hwb=function(r){return[0,100,r[0]]};S.gray.cmyk=function(r){return[0,0,0,r[0]]};S.gray.lab=function(r){return[r[0],0,0]};S.gray.hex=function(r){const e=Math.round(r[0]/100*255)&255,n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n};S.rgb.gray=function(r){return[(r[0]+r[1]+r[2])/3/255*100]};const Qe=Dn;function ci(){const r={},e=Object.keys(Qe);for(let t=e.length,n=0;n<t;n++)r[e[n]]={distance:-1,parent:null};return r}function ui(r){const e=ci(),t=[r];for(e[r].distance=0;t.length;){const n=t.pop(),s=Object.keys(Qe[n]);for(let i=s.length,a=0;a<i;a++){const l=s[a],o=e[l];o.distance===-1&&(o.distance=e[n].distance+1,o.parent=n,t.unshift(l))}}return e}function fi(r,e){return function(t){return e(r(t))}}function mi(r,e){const t=[e[r].parent,r];let n=Qe[e[r].parent][r],s=e[r].parent;for(;e[s].parent;)t.unshift(e[s].parent),n=fi(Qe[e[s].parent][s],n),s=e[s].parent;return n.conversion=t,n}var di=function(r){const e=ui(r),t={},n=Object.keys(e);for(let s=n.length,i=0;i<s;i++){const a=n[i];e[a].parent!==null&&(t[a]=mi(a,e))}return t};const at=Dn,hi=di,Ee={},gi=Object.keys(at);function bi(r){const e=function(...t){const n=t[0];return n==null?n:(n.length>1&&(t=n),r(t))};return"conversion"in r&&(e.conversion=r.conversion),e}function _i(r){const e=function(...t){const n=t[0];if(n==null)return n;n.length>1&&(t=n);const s=r(t);if(typeof s=="object")for(let i=s.length,a=0;a<i;a++)s[a]=Math.round(s[a]);return s};return"conversion"in r&&(e.conversion=r.conversion),e}gi.forEach(r=>{Ee[r]={},Object.defineProperty(Ee[r],"channels",{value:at[r].channels}),Object.defineProperty(Ee[r],"labels",{value:at[r].labels});const e=hi(r);Object.keys(e).forEach(n=>{const s=e[n];Ee[r][n]=_i(s),Ee[r][n].raw=bi(s)})});var pi=Ee;const vi=r=>{const[e,t,n]=pi.hex.hsl(r);let i=e-206;return i<0&&(i+=360),[i,t,n]},Nn=async(r,e)=>{const t=Lt(he.retrieve()),[n,s,i]=vi(t[e]),a=r.getElement();if(!a)return;const l=e.replace(/\s/g,"");a.classList.add(`${l}-marker`);const o=`hue-rotate(${n}deg) saturate(${s}%)`;a.style.setProperty("filter",o),a.style.setProperty("opacity","0");const c=ie.retrieve().name;ve.getName()==="SAM"&&e===c&&a.style.setProperty("opacity","1")},On=async r=>{var o,c;if(r.geometry.type!=="Point")return;const[e,t]=r.geometry.coordinates;if(!e||!t)return;const n=L.latLng(t,e),s=L.marker(n),i=X.addLayerWithProperties(s,r.properties,se.prompts);if(!((o=r.properties)!=null&&o.labels.length))return;const a=r.properties.labels[0];if(Nn(s,a),ai(a),((c=r.properties)==null?void 0:c.background)!==wn)return;await De();const l=i.getElement();l==null||l.classList.add("background-marker")},yi=()=>{Li();const r=wi();ki(r)},Li=()=>{const r=yt();tt(r),X.retrieve().prompts.getLayers().forEach(t=>{X.removeLayer(t,se.prompts)})},wi=()=>{var t;const r=He.retrieve();return{...r,features:(t=r==null?void 0:r.features)==null?void 0:t.filter(n=>{var s;return(s=n.properties)==null?void 0:s.prompt})}},ki=r=>{var e;if((e=r.features)!=null&&e.length)for(const t of r.features)On(t)},ze=r=>{ie.retrieve().name!==r.name&&(ie.store(r),yi())},Ci=(r,e)=>{Ei(r,e),ze({name:r,color:e}),Bn()},Ei=(r,e)=>{he.changeColor({name:r,color:e})};function Si(r){let e,t,n,s;return{c(){e=k("input"),this.h()},l(i){e=C(i,"INPUT",{type:!0,name:!0,class:!0,style:!0}),this.h()},h(){d(e,"type","color"),d(e,"name","color"),d(e,"class","max-w-[35px] h-[28px] box-border"),d(e,"style",t=`opacity: ${r[1]};`)},m(i,a){w(i,e,a),pe(e,r[0]),n||(s=[te(e,"input",r[5]),te(e,"change",r[6])],n=!0)},p(i,[a]){a&2&&t!==(t=`opacity: ${i[1]};`)&&d(e,"style",t),a&1&&pe(e,i[0])},i:I,o:I,d(i){i&&h(e),n=!1,Ie(s)}}}function Ii(r,e,t){let n,s;R(r,le,u=>t(4,s=u));let{color:i}=e,{name:a}=e;const l=()=>{Ci(a,i)};function o(){i=this.value,t(0,i)}const c=()=>l();return r.$$set=u=>{"color"in u&&t(0,i=u.color),"name"in u&&t(3,a=u.name)},r.$$.update=()=>{r.$$.dirty&16&&t(1,{opacity:n}=s,n)},[i,n,l,a,s,o,c]}class Mi extends B{constructor(e){super(),P(this,e,Ii,Si,D,{color:0,name:3})}}function Ai(r){let e=Ht(r[0])+"",t;return{c(){t=q(e)},l(n){t=F(n,e)},m(n,s){w(n,t,s)},p(n,[s]){s&1&&e!==(e=Ht(n[0])+"")&&ne(t,e)},i:I,o:I,d(n){n&&h(t)}}}function Ti(r,e,t){let{name:n}=e;return r.$$set=s=>{"name"in s&&t(0,n=s.name)},[n]}class Bi extends B{constructor(e){super(),P(this,e,Ti,Ai,D,{name:0})}}function Pi(r){let e,t,n,s,i,a,l,o,c,u,m;return t=new Bi({props:{name:r[4]}}),i=new si({props:{name:r[4]}}),l=new Mi({props:{name:r[4],color:r[3]}}),{c(){e=k("button"),M(t.$$.fragment),n=H(),s=k("div"),M(i.$$.fragment),a=H(),M(l.$$.fragment),this.h()},l(g){e=C(g,"BUTTON",{class:!0});var f=v(e);N(t.$$.fragment,f),n=z(f),s=C(f,"DIV",{class:!0});var _=v(s);N(i.$$.fragment,_),a=z(_),N(l.$$.fragment,_),_.forEach(h),f.forEach(h),this.h()},h(){d(s,"class","flex h-full"),d(e,"class",o=`tab ${r[0].name===r[5].name&&!r[2]&&"text-[#202124] bg-lightgray"} w-full justify-between pl-2 pr-0 hover:text-[#2576E8]`)},m(g,f){w(g,e,f),A(t,e,null),b(e,n),b(e,s),A(i,s,null),b(s,a),A(l,s,null),c=!0,u||(m=te(e,"click",r[7]),u=!0)},p(g,[f]){const _={};f&16&&(_.name=g[4]),t.$set(_);const E={};f&16&&(E.name=g[4]),i.$set(E);const V={};f&16&&(V.name=g[4]),f&8&&(V.color=g[3]),l.$set(V),(!c||f&37&&o!==(o=`tab ${g[0].name===g[5].name&&!g[2]&&"text-[#202124] bg-lightgray"} w-full justify-between pl-2 pr-0 hover:text-[#2576E8]`))&&d(e,"class",o)},i(g){c||(p(t.$$.fragment,g),p(i.$$.fragment,g),p(l.$$.fragment,g),c=!0)},o(g){y(t.$$.fragment,g),y(i.$$.fragment,g),y(l.$$.fragment,g),c=!1},d(g){g&&h(e),T(t),T(i),T(l),u=!1,m()}}}function Di(r,e,t){let n,s,i,a,l;R(r,ve,m=>t(6,a=m)),R(r,ie,m=>t(5,l=m));let{label:o,labelAction:c}=e;const u=()=>c(o);return r.$$set=m=>{"label"in m&&t(0,o=m.label),"labelAction"in m&&t(1,c=m.labelAction)},r.$$.update=()=>{r.$$.dirty&1&&t(4,{name:n,color:s}=o,n,(t(3,s),t(0,o))),r.$$.dirty&64&&t(2,i=a.name==="Classification")},[o,c,i,s,n,l,a,u]}class Ni extends B{constructor(e){super(),P(this,e,Di,Pi,D,{label:0,labelAction:1})}}function Qt(r,e,t){const n=r.slice();return n[2]=e[t],n}function Kt(r,e){let t,n,s;return n=new Ni({props:{label:e[2],labelAction:e[0]}}),{key:r,first:null,c(){t=j(),M(n.$$.fragment),this.h()},l(i){t=j(),N(n.$$.fragment,i),this.h()},h(){this.first=t},m(i,a){w(i,t,a),A(n,i,a),s=!0},p(i,a){e=i;const l={};a&2&&(l.label=e[2]),a&1&&(l.labelAction=e[0]),n.$set(l)},i(i){s||(p(n.$$.fragment,i),s=!0)},o(i){y(n.$$.fragment,i),s=!1},d(i){i&&h(t),T(n,i)}}}function Oi(r){let e,t=[],n=new Map,s,i=r[1];const a=l=>l[2].name;for(let l=0;l<i.length;l+=1){let o=Qt(r,i,l),c=a(o);n.set(c,t[l]=Kt(c,o))}return{c(){e=k("section");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=C(l,"SECTION",{class:!0,"aria-label":!0});var o=v(e);for(let c=0;c<t.length;c+=1)t[c].l(o);o.forEach(h),this.h()},h(){d(e,"class","flex-1 flex flex-col items-start w-full mt-5 max-h-[20vh] overflow-auto gap-1"),d(e,"aria-label","Label Selector")},m(l,o){w(l,e,o);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null);s=!0},p(l,[o]){o&3&&(i=l[1],Y(),t=bt(t,o,a,1,l,i,n,e,Ln,Kt,null,Qt),x())},i(l){if(!s){for(let o=0;o<i.length;o+=1)p(t[o]);s=!0}},o(l){for(let o=0;o<t.length;o+=1)y(t[o]);s=!1},d(l){l&&h(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function Hi(r,e,t){let n;R(r,he,i=>t(1,n=i));let{labelAction:s}=e;return r.$$set=i=>{"labelAction"in i&&t(0,s=i.labelAction)},[s,n]}class nt extends B{constructor(e){super(),P(this,e,Hi,Oi,D,{labelAction:0})}}function zi(r){let e,t;return e=new nt({props:{labelAction:Xs}}),{c(){M(e.$$.fragment)},l(n){N(e.$$.fragment,n)},m(n,s){A(e,n,s),t=!0},p:I,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){y(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}class ji extends B{constructor(e){super(),P(this,e,null,zi,D,{})}}const Hn=r=>{const{layers:e}=r;e.eachLayer(t=>{X.removeLayer(t,se.detection)}),$.saving.enable()},zn=r=>{const{layer:e}=r;e.options.color=ie.retrieve().color,e.options.fillOpacity=le.retrieve().opacity,e.options.interactive=!1;const t=e.getBounds(),n={labels:[ie.retrieve().name],bbox:[[t._southWest.lat,t._northEast.lng],[t._northEast.lat,t._southWest.lng]]};X.addLayerWithProperties(e,n,se.detection),$.saving.enable()},jn=r=>{const{layers:e}=r;e.eachLayer(t=>{if(t instanceof L.Rectangle){const n=t.getBounds();t.feature.properties.bbox=[[n.getSouthWest().lat,n.getNorthEast().lng],[n.getNorthEast().lat,n.getSouthWest().lng]]}t.feature.properties.updatedAt=new Date}),$.saving.enable()},Vi=()=>{const r=Q.retrieve();r&&(r.on(L.Draw.Event.CREATED,zn),r.on(L.Draw.Event.EDITED,jn),r.on(L.Draw.Event.DELETED,Hn))},Ri=()=>{const r=Q.retrieve();r&&(r.off(L.Draw.Event.CREATED,zn),r.off(L.Draw.Event.EDITED,jn),r.off(L.Draw.Event.DELETED,Hn))},Gi=()=>{const r=Q.retrieve();if(!r)return;const{detection:e}=X.retrieve(),t=new L.Control.Draw({position:kn,edit:{featureGroup:e},draw:mr});return r.addControl(t),qi(),t},qi=()=>{const r=document.getElementsByClassName("leaflet-draw-draw-rectangle")[0];r&&r.click()},Fi=r=>{const e=Q.retrieve();!e||!r||e.removeControl(r)};function Ui(r,e,t){let n;R(r,X,i=>t(1,n=i));let s;return ye(()=>{Fi(s),t(0,s=null),Ri()}),r.$$.update=()=>{r.$$.dirty&3&&n!=null&&n.detection&&(s||(t(0,s=Gi()),Vi()))},[s,n]}class Wi extends B{constructor(e){super(),P(this,e,Ui,null,D,{})}}const Zi=()=>{const r=Q.retrieve();if(!r)return;const{prompts:e}=X.retrieve(),t=new L.Control.Draw({position:kn,edit:{featureGroup:e},draw:dr});return r.addControl(t),Ji(),t},Ji=()=>{const r=document.getElementsByClassName("leaflet-draw-draw-marker")[0];r&&r.click()},Qi=r=>{const e=Q.retrieve();!e||!r||e.removeControl(r)},Vn=async r=>{const e=ie.retrieve().name,t={labels:[e]},n=X.addLayerWithProperties(r.layer,t,se.prompts);$.saving.enable(),$.samMaskRequest.enable(),await De(),Nn(n,e)},Rn=r=>{const{layers:e}=r,t=Q.retrieve();e.eachLayer(n=>{t.removeLayer(n)}),$.saving.enable(),$.samMaskRequest.enable()},Gn=async r=>{if(!document.getElementsByClassName("leaflet-draw-toolbar-button-enabled").length)return;const t=L.marker(r.latlng),n=ie.retrieve().name,s={background:wn,labels:[n]},i=X.addLayerWithProperties(t,s,se.prompts);$.saving.enable(),$.samMaskRequest.enable(),await De();const a=i.getElement();a==null||a.classList.add("background-marker")},Ki=()=>{const r=Q.retrieve();r&&(Xi(r),Yi(r),xi(r))},Xi=r=>{r.on(L.Draw.Event.CREATED,Vn)},Yi=r=>{r.on(L.Draw.Event.DELETED,Rn)},xi=r=>{r.on("contextmenu",Gn)},$i=()=>{const r=Q.retrieve();r&&(ea(r),ta(r),na(r))},ea=r=>{r.off(L.Draw.Event.CREATED,Vn)},ta=r=>{r.off(L.Draw.Event.DELETED,Rn)},na=r=>{r.off("contextmenu",Gn)};function ra(r){let e;return Pe(()=>{e=Zi(),Ki()}),ye(()=>{Qi(e),$i()}),[]}class sa extends B{constructor(e){super(),P(this,e,ra,null,D,{})}}const qn=()=>{const{segmentation:r}=X.retrieve(),e=ie.retrieve().name;let t;return r.eachLayer(n=>{var s,i;(i=(s=n.feature)==null?void 0:s.properties)!=null&&i.labels.includes(e)&&(t=n)}),t||null},ia=r=>r.toGeoJSON().features[0],aa=()=>{const r=qn();return r?ia(r):null},{tasks:la}=$e,oa=r=>{const e=qn();e&&X.removeLayer(e,se.segmentation),r&&r.properties&&(r.properties.labels=[ie.retrieve().name],r.properties[la]=["segmentation"]);const t=le.retrieve().opacity,n=L.geoJSON(r,{style:{color:ie.retrieve().color,weight:.4,fillOpacity:t,interactive:!1}}),s={labels:[ie.retrieve().name],multipolygon:!0};return X.addLayerWithProperties(n,s,se.segmentation),$.saving.enable(),n},Fn=(r=!1)=>{const e=Q.retrieve();return e?L.control.paintPolygon({initData:aa,drawCallback:oa,selectEraser:r}).addTo(e):void 0},Un=r=>{const e=Q.retrieve();!e||!r||e.removeControl(r)},ca=()=>{const r="leaflet-control-paintpolygon-icon-eraser",e=document.getElementsByClassName(r)[0];return e?e.classList.contains("leaflet-control-paintpolygon-icon-active"):!1},ua=r=>{const e=ca();return Un(r),Fn(e)};function fa(r,e,t){let n,s,i;R(r,Q,l=>t(1,n=l)),R(r,ge,l=>t(2,s=l)),R(r,ie,l=>t(3,i=l));let a;return Pe(async()=>{await Ue(()=>import("../chunks/PaintPolygon.6d972d98.js"),["../chunks/PaintPolygon.6d972d98.js","../assets/PaintPolygon.a6758b13.css"],import.meta.url),t(0,a=Fn())}),ye(()=>{Un(a),t(0,a=null)}),r.$$.update=()=>{r.$$.dirty&15&&i!=null&&i.name&&s!=null&&s.name&&n&&a&&t(0,a=ua(a))},[a,n,s,i]}class ma extends B{constructor(e){super(),P(this,e,fa,null,D,{})}}const lt=oe(!0),da=()=>{const r=Ne.retrieve(),{bands:e,stretch:t}=le.retrieve(),n=Object.values(e).join(","),s=Object.values(t).join(","),i=hr,a=ge.retrieve().name;return`${r}/images/${a}/{z}/{x}/{y}.png?bands=${n}&stretch=${s}&palette=${i}`};let Fe;const wt=async()=>{const r=Q.retrieve(),e=ge.retrieve(),t=da();if(!r||!e)return;Fe&&r.removeLayer(Fe),Fe=L.tileLayer(t,gr).addTo(r);const n=Fe.getContainer();await De(),n.ariaLabel=`${e.name} image layer`,K(lt)&&ha(e,r)},ha=(r,e)=>{const t=L.latLng(r.bbox[1],r.bbox[0]),n=L.latLng(r.bbox[3],r.bbox[2]),s=L.latLngBounds(t,n);e.fitBounds(s)},kt=()=>{const r=le.retrieve();br("options",r)},ga=r=>{const{name:e,value:t}=r.target,n=Number(t);ba(e,n),wt()},ba=(r,e)=>{_a(r,e),kt()},_a=(r,e)=>{le.bands[r].store(e)},pa=async r=>{var s;const[e,t]=_r(r);if(!(e&&t))return;let n=va((s=r.properties)==null?void 0:s.labels);ke.store(n),Tn()},va=r=>r.map(e=>({name:e})),ya=async r=>{var a,l;const e=Lt(he.retrieve()),t=le.opacity.retrieve(),n=(a=r.properties)==null?void 0:a.labels[0],s=e[n],i=L.rectangle((l=r.properties)==null?void 0:l.bbox,{color:s,weight:Cn,fillOpacity:t,interactive:!1});X.addLayerWithProperties(i,r.properties,se.detection)},La=async r=>{var l;const e=Lt(he.retrieve()),t=le.opacity.retrieve(),n=(l=r.properties)==null?void 0:l.labels[0],i={color:e[n],weight:Cn,fillOpacity:t,interactive:!1},a=L.geoJSON(r,{style:i});X.addLayerWithProperties(a,r.properties,se.segmentation)},Ct=r=>{Ca(),ka(r)},{tasks:wa}=$e,ka=r=>{r.features.forEach(e=>{var n,s;const t=(s=(n=e.properties)==null?void 0:n[wa])==null?void 0:s[0];if(t){if(t.includes(se.classification)){pa(e);return}if(t.includes(se.segmentation)){La(e);return}if(t.includes(se.detection)){ya(e);return}if(t.includes(se.prompts)){On(e);return}}})},Ca=()=>{ke.store([])},Wn=()=>{const r=Q.retrieve();X.clear(r);const e=He.retrieve();Ct(e)},Ea=r=>{const{value:e}=r.target,t=Number(e);Sa(t),Wn()},Sa=r=>{Ia(r),kt()},Ia=r=>{const e=r/100;le.opacity.store(e)},Ma=r=>{const{name:e,value:t}=r.target,n=Number(t);Aa(e,n),wt()},Aa=(r,e)=>{Ta(r,e),kt()},Ta=(r,e)=>{le.stretch[r].store(e)};function Ba(r){let e,t,n,s,i,a,l,o,c,u,m,g,f,_,E,V,ee,O,Z,be,ce,_e,ue,Le,rt,st,me,je,it,St;return{c(){e=k("section"),t=k("legend"),n=k("span"),s=q("RGB bands"),i=H(),a=k("fieldset"),l=k("input"),o=H(),c=k("input"),u=H(),m=k("input"),g=H(),f=k("section"),_=k("legend"),E=k("span"),V=q("Stretch"),ee=H(),O=k("fieldset"),Z=k("input"),be=H(),ce=k("input"),_e=H(),ue=k("section"),Le=k("label"),rt=q("Layer opacity"),st=H(),me=k("input"),this.h()},l(G){e=C(G,"SECTION",{});var re=v(e);t=C(re,"LEGEND",{class:!0});var It=v(t);n=C(It,"SPAN",{});var Mt=v(n);s=F(Mt,"RGB bands"),Mt.forEach(h),It.forEach(h),i=z(re),a=C(re,"FIELDSET",{class:!0});var Ce=v(a);l=C(Ce,"INPUT",{type:!0,placeholder:!0,name:!0,class:!0}),o=z(Ce),c=C(Ce,"INPUT",{type:!0,placeholder:!0,name:!0,class:!0}),u=z(Ce),m=C(Ce,"INPUT",{type:!0,placeholder:!0,name:!0,class:!0}),Ce.forEach(h),re.forEach(h),g=z(G),f=C(G,"SECTION",{});var Ve=v(f);_=C(Ve,"LEGEND",{class:!0});var At=v(_);E=C(At,"SPAN",{});var Tt=v(E);V=F(Tt,"Stretch"),Tt.forEach(h),At.forEach(h),ee=z(Ve),O=C(Ve,"FIELDSET",{class:!0});var Re=v(O);Z=C(Re,"INPUT",{type:!0,placeholder:!0,name:!0,class:!0}),be=z(Re),ce=C(Re,"INPUT",{type:!0,placeholder:!0,name:!0,class:!0}),Re.forEach(h),Ve.forEach(h),_e=z(G),ue=C(G,"SECTION",{class:!0});var Ge=v(ue);Le=C(Ge,"LABEL",{for:!0,class:!0});var Bt=v(Le);rt=F(Bt,"Layer opacity"),Bt.forEach(h),st=z(Ge),me=C(Ge,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),Ge.forEach(h),this.h()},h(){d(t,"class","label"),l.required=!0,d(l,"type","number"),d(l,"placeholder","R"),d(l,"name","red"),d(l,"class","text-center input input-bordered input-error w-full max-w-xs svelte-7yy2hn"),l.value=r[0],c.required=!0,d(c,"type","number"),d(c,"placeholder","G"),d(c,"name","green"),d(c,"class","text-center input input-bordered input-success w-full max-w-xs svelte-7yy2hn"),c.value=r[1],m.required=!0,d(m,"type","number"),d(m,"placeholder","B"),d(m,"name","blue"),d(m,"class","text-center input input-bordered input-info w-full max-w-xs svelte-7yy2hn"),m.value=r[2],d(a,"class","flex gap-3"),d(_,"class","label"),Z.required=!0,d(Z,"type","number"),d(Z,"placeholder","Minimum"),d(Z,"name","minimum"),d(Z,"class","input input-bordered w-full max-w-xs svelte-7yy2hn"),Z.value=r[3],ce.required=!0,d(ce,"type","number"),d(ce,"placeholder","Maximum"),d(ce,"name","maximum"),d(ce,"class","input input-bordered w-full max-w-xs svelte-7yy2hn"),ce.value=r[4],d(O,"class","flex gap-3"),d(Le,"for","opacity-range"),d(Le,"class","label"),d(me,"id","opacity-range"),d(me,"type","range"),d(me,"min","0"),d(me,"max","100"),me.value=je=r[5]*100,d(me,"class","range range-primary svelte-7yy2hn"),d(ue,"class","flex flex-col gap-3")},m(G,re){w(G,e,re),b(e,t),b(t,n),b(n,s),b(e,i),b(e,a),b(a,l),b(a,o),b(a,c),b(a,u),b(a,m),w(G,g,re),w(G,f,re),b(f,_),b(_,E),b(E,V),b(f,ee),b(f,O),b(O,Z),b(O,be),b(O,ce),w(G,_e,re),w(G,ue,re),b(ue,Le),b(Le,rt),b(ue,st),b(ue,me),it||(St=[te(a,"input",ga),te(O,"input",Ma),te(me,"input",Ea)],it=!0)},p(G,re){re&1&&l.value!==G[0]&&(l.value=G[0]),re&2&&c.value!==G[1]&&(c.value=G[1]),re&4&&m.value!==G[2]&&(m.value=G[2]),re&8&&Z.value!==G[3]&&(Z.value=G[3]),re&16&&ce.value!==G[4]&&(ce.value=G[4]),re&32&&je!==(je=G[5]*100)&&(me.value=je)},d(G){G&&h(e),G&&h(g),G&&h(f),G&&h(_e),G&&h(ue),it=!1,Ie(St)}}}function Pa(r){let e,t=le&&Ba(r);return{c(){e=k("form"),t&&t.c(),this.h()},l(n){e=C(n,"FORM",{class:!0,id:!0});var s=v(e);t&&t.l(s),s.forEach(h),this.h()},h(){d(e,"class","flex-1 form-control w-full h-full max-w-xs flex flex-col gap-5 items text-xl"),d(e,"id","bands-and-stretch")},m(n,s){w(n,e,s),t&&t.m(e,null)},p(n,[s]){le&&t.p(n,s)},i:I,o:I,d(n){n&&h(e),t&&t.d()}}}function Da(r,e,t){let n;R(r,le,u=>t(6,n=u));let s,i,a,l,o,c;return r.$$.update=()=>{r.$$.dirty&64&&t(0,{bands:{red:s,green:i,blue:a},stretch:{minimum:l,maximum:o},opacity:c}=n,s,(t(1,i),t(6,n)),(t(2,a),t(6,n)),(t(3,l),t(6,n)),(t(4,o),t(6,n)),(t(5,c),t(6,n)))},[s,i,a,l,o,c,n]}class Na extends B{constructor(e){super(),P(this,e,Da,Pa,D,{})}}const ot=oe(!0),Et=(r,e,t)=>{const{loading:n,success:s}=t;ae.promise(r,{loading:n,success:s,error:()=>e})},Oa=r=>JSON.stringify({geojson:r,name:ge.retrieve().name}),Zn=async()=>{const r=yt();tt(r),_t();const e=Oa(r);let t=Je;const n=new Promise(async(s,i)=>{try{const a=await En(e,Me.geojsonEndpoint);if(!a.ok)throw a.statusText&&(t=Je),new Error;const l=await a.json();s()}catch{i()}});$.saving.disable(),Ye(),Et(n,t,pr)},Jn=()=>{$.saving.retrieve()&&(vr()&&Zn(),$.saving.disable())},Qn=r=>{ve.getName()!==r.name&&(Jn(),$.saving.disable(),$.samMaskRequest.disable(),ve.set(r),Wn())},Ha=r=>{const e=r.getBounds();Q.retrieve().fitBounds(e)};function za(){const r=oe(0),{subscribe:e,set:t}=r;return{subscribe:e,set:n=>t(n)}}const Se=za(),ja=(r,e)=>{if(r<0)return;const t=Va(r);Se.set(t),Ra(e)},Va=r=>Math.floor(r/de)*de,Ra=r=>{const e=document.getElementById("image-selector"),t=document.getElementById(r);!e||!t||t.scrollIntoView({behavior:"smooth"})},Kn=()=>{const r=Q.retrieve();r&&X.init(r)},Xn=()=>{const r=Q.retrieve();r&&(yr(),X.remove(r))},Ga=()=>{Xn(),Kn()},qa=r=>{tt(r),Ct(r)},Fa=async()=>{var i;const r=Ne.retrieve();Te.markAnnotationsAsLoading();const e=(i=ge.retrieve())==null?void 0:i.name;if(!e)return;const t=r+Me.geojsonEndpoint+"/"+e,n=await fetch(t);if(!n.ok)return;const s=await n.json();if(!s.status_code)return s},ct=async r=>{const e=ge.retrieve().name;if(r.name===e)return;Jn(),$.saving.disable(),$.samMaskRequest.disable(),ge.store(r),wt(),Ga(),ke.empty(),He.empty();const t=await Fa();Te.markAnnotationsAsLoaded(),!(!t||!t.features)&&qa(t)},Ua=r=>{if(!r.length)return;const e=Wa(r),t=Za(e,r);return Ja(t)},Wa=r=>r.map(t=>{const n=t.bbox,s=L.latLng(n[1],n[0]),i=L.latLng(n[3],n[2]);return L.latLngBounds(s,i)}),Za=(r,e)=>r.map((t,n)=>L.rectangle(t,{color:"blue",weight:2,fillOpacity:0}).on("click",()=>{var s;ct(e[n]),Qn(xn),ja(n,(s=e[n])==null?void 0:s.name)})),Ja=r=>{const e=Q.retrieve(),t=L.featureGroup(r).addTo(e);return K(ot)&&Ha(t),t};function Qa(r){let e,t,n,s,i,a,l,o,c,u,m,g,f,_,E,V,ee;return e=new nt({props:{labelAction:ze}}),{c(){M(e.$$.fragment),t=H(),n=k("div"),s=k("label"),i=k("input"),a=H(),l=k("span"),o=q("Zoom out on Quick selection"),c=H(),u=k("label"),m=k("input"),g=H(),f=k("span"),_=q("Zoom in on selecting image"),this.h()},l(O){N(e.$$.fragment,O),t=z(O),n=C(O,"DIV",{class:!0});var Z=v(n);s=C(Z,"LABEL",{class:!0,for:!0});var be=v(s);i=C(be,"INPUT",{type:!0,id:!0,class:!0}),a=z(be),l=C(be,"SPAN",{class:!0});var ce=v(l);o=F(ce,"Zoom out on Quick selection"),ce.forEach(h),be.forEach(h),c=z(Z),u=C(Z,"LABEL",{class:!0,for:!0});var _e=v(u);m=C(_e,"INPUT",{type:!0,id:!0,class:!0}),g=z(_e),f=C(_e,"SPAN",{class:!0});var ue=v(f);_=F(ue,"Zoom in on selecting image"),ue.forEach(h),_e.forEach(h),Z.forEach(h),this.h()},h(){d(i,"type","checkbox"),d(i,"id","zoom-out"),d(i,"class","checkbox checkbox-info"),d(l,"class","label-text text-gray-600"),d(s,"class","label cursor-pointer flex justify-start gap-5 text-slate-400"),d(s,"for","zoom-out"),d(m,"type","checkbox"),d(m,"id","zoom-in"),d(m,"class","checkbox checkbox-info"),d(f,"class","label-text text-gray-600"),d(u,"class","label cursor-pointer flex justify-start gap-5 text-slate-400"),d(u,"for","zoom-in"),d(n,"class","form-control")},m(O,Z){A(e,O,Z),w(O,t,Z),w(O,n,Z),b(n,s),b(s,i),i.checked=r[0],b(s,a),b(s,l),b(l,o),b(n,c),b(n,u),b(u,m),m.checked=r[1],b(u,g),b(u,f),b(f,_),E=!0,V||(ee=[te(i,"change",r[3]),te(m,"change",r[4])],V=!0)},p(O,[Z]){Z&1&&(i.checked=O[0]),Z&2&&(m.checked=O[1])},i(O){E||(p(e.$$.fragment,O),E=!0)},o(O){y(e.$$.fragment,O),E=!1},d(O){T(e,O),O&&h(t),O&&h(n),V=!1,Ie(ee)}}}function Ka(r,e,t){let n,s,i;R(r,et,c=>t(2,n=c)),R(r,ot,c=>t(0,s=c)),R(r,lt,c=>t(1,i=c));let a=[];ye(()=>{a.clearLayers&&(a==null||a.clearLayers())});function l(){s=this.checked,ot.set(s)}function o(){i=this.checked,lt.set(i)}return r.$$.update=()=>{r.$$.dirty&4&&n.length&&(a=Ua(n))},[s,i,n,l,o]}class Xa extends B{constructor(e){super(),P(this,e,Ka,Qa,D,{})}}const Ya=()=>{const{prompts:r}=X.retrieve(),e=Lr(r),t=wr(e),n=kr(e),s=ge.retrieve().name,i=ie.retrieve().name,{bands:a,stretch:l}=le.retrieve();return JSON.stringify({points:t,pointsLabel:n,image:s,label:i,bands:{bands:a,stretch:l}})},xa=r=>{tl();const e=$a(r);Ct(e),Ye()},$a=r=>{const e=el();return{...e,features:[...e.features,...r.features]}},el=()=>{var s;const r=ie.retrieve().name,e=He.retrieve(),t=(s=e==null?void 0:e.features)==null?void 0:s.filter(i=>{var a;return i.geometry.type!=="MultiPolygon"||!((a=i.properties)!=null&&a.labels.includes(r))});return{...e,features:t}},tl=()=>{const r=K(Q);X.clear(r)},nl=async()=>{tt(yt()),Cr(),_t(),Sn();const r=Ya();let e=Je;const t=new Promise(async(n,s)=>{try{const i=await En(r,Me.samEndpoint);if(!i.ok)throw i.statusText&&(e=Je),new Error;const a=await i.json();xa(a),n()}catch{s()}});Et(t,e,Er),t.finally(()=>{$.saving.enable(),Ye()})};function rl(r){let e,t,n,s,i,a,l,o,c;return t=new nt({props:{labelAction:ze}}),{c(){e=k("section"),M(t.$$.fragment),n=H(),s=k("button"),i=q("Generate mask"),this.h()},l(u){e=C(u,"SECTION",{class:!0});var m=v(e);N(t.$$.fragment,m),n=z(m),s=C(m,"BUTTON",{class:!0});var g=v(s);i=F(g,"Generate mask"),g.forEach(h),m.forEach(h),this.h()},h(){d(s,"class",a=`btn w-full btn-neutral text-white text-lg my-5 font-bold ${!r[0].samMaskRequest&&"btn-disabled"}`),d(e,"class","flex-1 flex flex-col items-start w-full")},m(u,m){w(u,e,m),A(t,e,null),b(e,n),b(e,s),b(s,i),l=!0,o||(c=te(s,"click",nl),o=!0)},p(u,[m]){(!l||m&1&&a!==(a=`btn w-full btn-neutral text-white text-lg my-5 font-bold ${!u[0].samMaskRequest&&"btn-disabled"}`))&&d(s,"class",a)},i(u){l||(p(t.$$.fragment,u),l=!0)},o(u){y(t.$$.fragment,u),l=!1},d(u){u&&h(e),T(t),o=!1,c()}}}function sl(r,e,t){let n;return R(r,$,s=>t(0,n=s)),[n]}class il extends B{constructor(e){super(),P(this,e,sl,rl,D,{})}}function al(r){let e,t;return e=new nt({props:{labelAction:ze}}),{c(){M(e.$$.fragment)},l(n){N(e.$$.fragment,n)},m(n,s){A(e,n,s),t=!0},p:I,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){y(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}class Yn extends B{constructor(e){super(),P(this,e,null,al,D,{})}}function Xt(r){let e,t;return{c(){e=U("desc"),t=q(r[7])},l(n){e=W(n,"desc",{});var s=v(e);t=F(s,r[7]),s.forEach(h)},m(n,s){w(n,e,s),b(e,t)},p(n,s){s&128&&ne(t,n[7])},d(n){n&&h(e)}}}function Yt(r){let e,t;return{c(){e=U("title"),t=q(r[6])},l(n){e=W(n,"title",{});var s=v(e);t=F(s,r[6]),s.forEach(h)},m(n,s){w(n,e,s),b(e,t)},p(n,s){s&64&&ne(t,n[6])},d(n){n&&h(e)}}}function ll(r){let e,t,n,s=r[7]&&Xt(r),i=r[6]&&Yt(r);return{c(){e=U("svg"),s&&s.c(),t=j(),i&&i.c(),n=U("path"),this.h()},l(a){e=W(a,"svg",{viewBox:!0,width:!0,height:!0,class:!0,"aria-label":!0,"aria-hidden":!0});var l=v(e);s&&s.l(l),t=j(),i&&i.l(l),n=W(l,"path",{d:!0,fill:!0}),v(n).forEach(h),l.forEach(h),this.h()},h(){d(n,"d","M7.5,5.6L5,7L6.4,4.5L5,2L7.5,3.4L10,2L8.6,4.5L10,7L7.5,5.6M19.5,15.4L22,14L20.6,16.5L22,19L19.5,17.6L17,19L18.4,16.5L17,14L19.5,15.4M22,2L20.6,4.5L22,7L19.5,5.6L17,7L18.4,4.5L17,2L19.5,3.4L22,2M13.34,12.78L15.78,10.34L13.66,8.22L11.22,10.66L13.34,12.78M14.37,7.29L16.71,9.63C17.1,10 17.1,10.65 16.71,11.04L5.04,22.71C4.65,23.1 4,23.1 3.63,22.71L1.29,20.37C0.9,20 0.9,19.35 1.29,18.96L12.96,7.29C13.35,6.9 14,6.9 14.37,7.29Z"),d(n,"fill",r[2]),d(e,"viewBox",r[3]),d(e,"width",r[0]),d(e,"height",r[1]),d(e,"class",r[8]),d(e,"aria-label",r[4]),d(e,"aria-hidden",r[5])},m(a,l){w(a,e,l),s&&s.m(e,null),b(e,t),i&&i.m(e,null),b(e,n)},p(a,[l]){a[7]?s?s.p(a,l):(s=Xt(a),s.c(),s.m(e,t)):s&&(s.d(1),s=null),a[6]?i?i.p(a,l):(i=Yt(a),i.c(),i.m(e,n)):i&&(i.d(1),i=null),l&4&&d(n,"fill",a[2]),l&8&&d(e,"viewBox",a[3]),l&1&&d(e,"width",a[0]),l&2&&d(e,"height",a[1]),l&256&&d(e,"class",a[8]),l&16&&d(e,"aria-label",a[4]),l&32&&d(e,"aria-hidden",a[5])},i:I,o:I,d(a){a&&h(e),s&&s.d(),i&&i.d()}}}function ol(r,e,t){let{size:n="1em"}=e,{width:s=n}=e,{height:i=n}=e,{color:a="currentColor"}=e,{viewBox:l="0 0 24 24"}=e,{ariaLabel:o=void 0}=e,{ariaHidden:c=void 0}=e,{title:u=void 0}=e,{desc:m=void 0}=e,{class:g=void 0}=e;return r.$$set=f=>{"size"in f&&t(9,n=f.size),"width"in f&&t(0,s=f.width),"height"in f&&t(1,i=f.height),"color"in f&&t(2,a=f.color),"viewBox"in f&&t(3,l=f.viewBox),"ariaLabel"in f&&t(4,o=f.ariaLabel),"ariaHidden"in f&&t(5,c=f.ariaHidden),"title"in f&&t(6,u=f.title),"desc"in f&&t(7,m=f.desc),"class"in f&&t(8,g=f.class)},[s,i,a,l,o,c,u,m,g,n]}class cl extends B{constructor(e){super(),P(this,e,ol,ll,D,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function xt(r){let e,t;return{c(){e=U("desc"),t=q(r[7])},l(n){e=W(n,"desc",{});var s=v(e);t=F(s,r[7]),s.forEach(h)},m(n,s){w(n,e,s),b(e,t)},p(n,s){s&128&&ne(t,n[7])},d(n){n&&h(e)}}}function $t(r){let e,t;return{c(){e=U("title"),t=q(r[6])},l(n){e=W(n,"title",{});var s=v(e);t=F(s,r[6]),s.forEach(h)},m(n,s){w(n,e,s),b(e,t)},p(n,s){s&64&&ne(t,n[6])},d(n){n&&h(e)}}}function ul(r){let e,t,n,s=r[7]&&xt(r),i=r[6]&&$t(r);return{c(){e=U("svg"),s&&s.c(),t=j(),i&&i.c(),n=U("path"),this.h()},l(a){e=W(a,"svg",{viewBox:!0,width:!0,height:!0,class:!0,"aria-label":!0,"aria-hidden":!0});var l=v(e);s&&s.l(l),t=j(),i&&i.l(l),n=W(l,"path",{d:!0,fill:!0}),v(n).forEach(h),l.forEach(h),this.h()},h(){d(n,"d","M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z"),d(n,"fill",r[2]),d(e,"viewBox",r[3]),d(e,"width",r[0]),d(e,"height",r[1]),d(e,"class",r[8]),d(e,"aria-label",r[4]),d(e,"aria-hidden",r[5])},m(a,l){w(a,e,l),s&&s.m(e,null),b(e,t),i&&i.m(e,null),b(e,n)},p(a,[l]){a[7]?s?s.p(a,l):(s=xt(a),s.c(),s.m(e,t)):s&&(s.d(1),s=null),a[6]?i?i.p(a,l):(i=$t(a),i.c(),i.m(e,n)):i&&(i.d(1),i=null),l&4&&d(n,"fill",a[2]),l&8&&d(e,"viewBox",a[3]),l&1&&d(e,"width",a[0]),l&2&&d(e,"height",a[1]),l&256&&d(e,"class",a[8]),l&16&&d(e,"aria-label",a[4]),l&32&&d(e,"aria-hidden",a[5])},i:I,o:I,d(a){a&&h(e),s&&s.d(),i&&i.d()}}}function fl(r,e,t){let{size:n="1em"}=e,{width:s=n}=e,{height:i=n}=e,{color:a="currentColor"}=e,{viewBox:l="0 0 24 24"}=e,{ariaLabel:o=void 0}=e,{ariaHidden:c=void 0}=e,{title:u=void 0}=e,{desc:m=void 0}=e,{class:g=void 0}=e;return r.$$set=f=>{"size"in f&&t(9,n=f.size),"width"in f&&t(0,s=f.width),"height"in f&&t(1,i=f.height),"color"in f&&t(2,a=f.color),"viewBox"in f&&t(3,l=f.viewBox),"ariaLabel"in f&&t(4,o=f.ariaLabel),"ariaHidden"in f&&t(5,c=f.ariaHidden),"title"in f&&t(6,u=f.title),"desc"in f&&t(7,m=f.desc),"class"in f&&t(8,g=f.class)},[s,i,a,l,o,c,u,m,g,n]}class ml extends B{constructor(e){super(),P(this,e,fl,ul,D,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function en(r){let e,t;return{c(){e=U("desc"),t=q(r[7])},l(n){e=W(n,"desc",{});var s=v(e);t=F(s,r[7]),s.forEach(h)},m(n,s){w(n,e,s),b(e,t)},p(n,s){s&128&&ne(t,n[7])},d(n){n&&h(e)}}}function tn(r){let e,t;return{c(){e=U("title"),t=q(r[6])},l(n){e=W(n,"title",{});var s=v(e);t=F(s,r[6]),s.forEach(h)},m(n,s){w(n,e,s),b(e,t)},p(n,s){s&64&&ne(t,n[6])},d(n){n&&h(e)}}}function dl(r){let e,t,n,s=r[7]&&en(r),i=r[6]&&tn(r);return{c(){e=U("svg"),s&&s.c(),t=j(),i&&i.c(),n=U("path"),this.h()},l(a){e=W(a,"svg",{viewBox:!0,width:!0,height:!0,class:!0,"aria-label":!0,"aria-hidden":!0});var l=v(e);s&&s.l(l),t=j(),i&&i.l(l),n=W(l,"path",{d:!0,fill:!0}),v(n).forEach(h),l.forEach(h),this.h()},h(){d(n,"d","M12,8A4,4 0 0,1 16,12A4,4 0 0,1 12,16A4,4 0 0,1 8,12A4,4 0 0,1 12,8M12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12A2,2 0 0,0 12,10M10,22C9.75,22 9.54,21.82 9.5,21.58L9.13,18.93C8.5,18.68 7.96,18.34 7.44,17.94L4.95,18.95C4.73,19.03 4.46,18.95 4.34,18.73L2.34,15.27C2.21,15.05 2.27,14.78 2.46,14.63L4.57,12.97L4.5,12L4.57,11L2.46,9.37C2.27,9.22 2.21,8.95 2.34,8.73L4.34,5.27C4.46,5.05 4.73,4.96 4.95,5.05L7.44,6.05C7.96,5.66 8.5,5.32 9.13,5.07L9.5,2.42C9.54,2.18 9.75,2 10,2H14C14.25,2 14.46,2.18 14.5,2.42L14.87,5.07C15.5,5.32 16.04,5.66 16.56,6.05L19.05,5.05C19.27,4.96 19.54,5.05 19.66,5.27L21.66,8.73C21.79,8.95 21.73,9.22 21.54,9.37L19.43,11L19.5,12L19.43,13L21.54,14.63C21.73,14.78 21.79,15.05 21.66,15.27L19.66,18.73C19.54,18.95 19.27,19.04 19.05,18.95L16.56,17.95C16.04,18.34 15.5,18.68 14.87,18.93L14.5,21.58C14.46,21.82 14.25,22 14,22H10M11.25,4L10.88,6.61C9.68,6.86 8.62,7.5 7.85,8.39L5.44,7.35L4.69,8.65L6.8,10.2C6.4,11.37 6.4,12.64 6.8,13.8L4.68,15.36L5.43,16.66L7.86,15.62C8.63,16.5 9.68,17.14 10.87,17.38L11.24,20H12.76L13.13,17.39C14.32,17.14 15.37,16.5 16.14,15.62L18.57,16.66L19.32,15.36L17.2,13.81C17.6,12.64 17.6,11.37 17.2,10.2L19.31,8.65L18.56,7.35L16.15,8.39C15.38,7.5 14.32,6.86 13.12,6.62L12.75,4H11.25Z"),d(n,"fill",r[2]),d(e,"viewBox",r[3]),d(e,"width",r[0]),d(e,"height",r[1]),d(e,"class",r[8]),d(e,"aria-label",r[4]),d(e,"aria-hidden",r[5])},m(a,l){w(a,e,l),s&&s.m(e,null),b(e,t),i&&i.m(e,null),b(e,n)},p(a,[l]){a[7]?s?s.p(a,l):(s=en(a),s.c(),s.m(e,t)):s&&(s.d(1),s=null),a[6]?i?i.p(a,l):(i=tn(a),i.c(),i.m(e,n)):i&&(i.d(1),i=null),l&4&&d(n,"fill",a[2]),l&8&&d(e,"viewBox",a[3]),l&1&&d(e,"width",a[0]),l&2&&d(e,"height",a[1]),l&256&&d(e,"class",a[8]),l&16&&d(e,"aria-label",a[4]),l&32&&d(e,"aria-hidden",a[5])},i:I,o:I,d(a){a&&h(e),s&&s.d(),i&&i.d()}}}function hl(r,e,t){let{size:n="1em"}=e,{width:s=n}=e,{height:i=n}=e,{color:a="currentColor"}=e,{viewBox:l="0 0 24 24"}=e,{ariaLabel:o=void 0}=e,{ariaHidden:c=void 0}=e,{title:u=void 0}=e,{desc:m=void 0}=e,{class:g=void 0}=e;return r.$$set=f=>{"size"in f&&t(9,n=f.size),"width"in f&&t(0,s=f.width),"height"in f&&t(1,i=f.height),"color"in f&&t(2,a=f.color),"viewBox"in f&&t(3,l=f.viewBox),"ariaLabel"in f&&t(4,o=f.ariaLabel),"ariaHidden"in f&&t(5,c=f.ariaHidden),"title"in f&&t(6,u=f.title),"desc"in f&&t(7,m=f.desc),"class"in f&&t(8,g=f.class)},[s,i,a,l,o,c,u,m,g,n]}class gl extends B{constructor(e){super(),P(this,e,hl,dl,D,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function nn(r){let e,t;return{c(){e=U("desc"),t=q(r[7])},l(n){e=W(n,"desc",{});var s=v(e);t=F(s,r[7]),s.forEach(h)},m(n,s){w(n,e,s),b(e,t)},p(n,s){s&128&&ne(t,n[7])},d(n){n&&h(e)}}}function rn(r){let e,t;return{c(){e=U("title"),t=q(r[6])},l(n){e=W(n,"title",{});var s=v(e);t=F(s,r[6]),s.forEach(h)},m(n,s){w(n,e,s),b(e,t)},p(n,s){s&64&&ne(t,n[6])},d(n){n&&h(e)}}}function bl(r){let e,t,n,s=r[7]&&nn(r),i=r[6]&&rn(r);return{c(){e=U("svg"),s&&s.c(),t=j(),i&&i.c(),n=U("path"),this.h()},l(a){e=W(a,"svg",{viewBox:!0,width:!0,height:!0,class:!0,"aria-label":!0,"aria-hidden":!0});var l=v(e);s&&s.l(l),t=j(),i&&i.l(l),n=W(l,"path",{d:!0,fill:!0}),v(n).forEach(h),l.forEach(h),this.h()},h(){d(n,"d","M9.37 4L10.78 6.5L9.37 9H6.63L5.23 6.5L6.63 4H9.37M10.25 2H5.75C5.56 2 5.39 2.11 5.31 2.26L3.09 6.22L3 6.5L3.09 6.78L5.31 10.74C5.39 10.89 5.56 11 5.75 11H10.25C10.44 11 10.61 10.89 10.69 10.74L12.91 6.78L13 6.5L12.91 6.22L10.69 2.26C10.61 2.11 10.44 2 10.25 2M18.62 9.5L20 12L18.62 14.5H15.88L14.5 12L15.88 9.5H18.62M19.5 7.5H15C14.81 7.5 14.64 7.61 14.56 7.76L12.34 11.72L12.25 12L12.34 12.28L14.56 16.24C14.64 16.39 14.81 16.5 15 16.5H19.5C19.69 16.5 19.86 16.39 19.94 16.24L22.16 12.28L22.25 12L22.16 11.72L19.94 7.76C19.86 7.61 19.69 7.5 19.5 7.5M9.37 15L10.78 17.5L9.37 20H6.63L5.23 17.5L6.63 15H9.37M10.25 13H5.75C5.56 13 5.39 13.11 5.31 13.26L3.09 17.22L3 17.5L3.09 17.78L5.31 21.74C5.39 21.89 5.56 22 5.75 22H10.25C10.44 22 10.61 21.89 10.69 21.74L12.91 17.78L13 17.5L12.91 17.22L10.69 13.26C10.61 13.11 10.44 13 10.25 13Z"),d(n,"fill",r[2]),d(e,"viewBox",r[3]),d(e,"width",r[0]),d(e,"height",r[1]),d(e,"class",r[8]),d(e,"aria-label",r[4]),d(e,"aria-hidden",r[5])},m(a,l){w(a,e,l),s&&s.m(e,null),b(e,t),i&&i.m(e,null),b(e,n)},p(a,[l]){a[7]?s?s.p(a,l):(s=nn(a),s.c(),s.m(e,t)):s&&(s.d(1),s=null),a[6]?i?i.p(a,l):(i=rn(a),i.c(),i.m(e,n)):i&&(i.d(1),i=null),l&4&&d(n,"fill",a[2]),l&8&&d(e,"viewBox",a[3]),l&1&&d(e,"width",a[0]),l&2&&d(e,"height",a[1]),l&256&&d(e,"class",a[8]),l&16&&d(e,"aria-label",a[4]),l&32&&d(e,"aria-hidden",a[5])},i:I,o:I,d(a){a&&h(e),s&&s.d(),i&&i.d()}}}function _l(r,e,t){let{size:n="1em"}=e,{width:s=n}=e,{height:i=n}=e,{color:a="currentColor"}=e,{viewBox:l="0 0 24 24"}=e,{ariaLabel:o=void 0}=e,{ariaHidden:c=void 0}=e,{title:u=void 0}=e,{desc:m=void 0}=e,{class:g=void 0}=e;return r.$$set=f=>{"size"in f&&t(9,n=f.size),"width"in f&&t(0,s=f.width),"height"in f&&t(1,i=f.height),"color"in f&&t(2,a=f.color),"viewBox"in f&&t(3,l=f.viewBox),"ariaLabel"in f&&t(4,o=f.ariaLabel),"ariaHidden"in f&&t(5,c=f.ariaHidden),"title"in f&&t(6,u=f.title),"desc"in f&&t(7,m=f.desc),"class"in f&&t(8,g=f.class)},[s,i,a,l,o,c,u,m,g,n]}class pl extends B{constructor(e){super(),P(this,e,_l,bl,D,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function sn(r){let e,t;return{c(){e=U("desc"),t=q(r[7])},l(n){e=W(n,"desc",{});var s=v(e);t=F(s,r[7]),s.forEach(h)},m(n,s){w(n,e,s),b(e,t)},p(n,s){s&128&&ne(t,n[7])},d(n){n&&h(e)}}}function an(r){let e,t;return{c(){e=U("title"),t=q(r[6])},l(n){e=W(n,"title",{});var s=v(e);t=F(s,r[6]),s.forEach(h)},m(n,s){w(n,e,s),b(e,t)},p(n,s){s&64&&ne(t,n[6])},d(n){n&&h(e)}}}function vl(r){let e,t,n,s=r[7]&&sn(r),i=r[6]&&an(r);return{c(){e=U("svg"),s&&s.c(),t=j(),i&&i.c(),n=U("path"),this.h()},l(a){e=W(a,"svg",{viewBox:!0,width:!0,height:!0,class:!0,"aria-label":!0,"aria-hidden":!0});var l=v(e);s&&s.l(l),t=j(),i&&i.l(l),n=W(l,"path",{d:!0,fill:!0}),v(n).forEach(h),l.forEach(h),this.h()},h(){d(n,"d","M12,1C7.59,1 4,4.59 4,9C4,14.57 10.96,22.34 11.26,22.67L12,23.5L12.74,22.67C13.04,22.34 20,14.57 20,9C20,4.59 16.41,1 12,1M12,20.47C9.82,17.86 6,12.54 6,9A6,6 0 0,1 12,3A6,6 0 0,1 18,9C18,12.83 13.75,18.36 12,20.47M11.13,14H12.88V15.75H11.13M12,5A3.5,3.5 0 0,0 8.5,8.5H10.25A1.75,1.75 0 0,1 12,6.75A1.75,1.75 0 0,1 13.75,8.5C13.75,10.26 11.13,10.04 11.13,12.88H12.88C12.88,10.91 15.5,10.69 15.5,8.5A3.5,3.5 0 0,0 12,5Z"),d(n,"fill",r[2]),d(e,"viewBox",r[3]),d(e,"width",r[0]),d(e,"height",r[1]),d(e,"class",r[8]),d(e,"aria-label",r[4]),d(e,"aria-hidden",r[5])},m(a,l){w(a,e,l),s&&s.m(e,null),b(e,t),i&&i.m(e,null),b(e,n)},p(a,[l]){a[7]?s?s.p(a,l):(s=sn(a),s.c(),s.m(e,t)):s&&(s.d(1),s=null),a[6]?i?i.p(a,l):(i=an(a),i.c(),i.m(e,n)):i&&(i.d(1),i=null),l&4&&d(n,"fill",a[2]),l&8&&d(e,"viewBox",a[3]),l&1&&d(e,"width",a[0]),l&2&&d(e,"height",a[1]),l&256&&d(e,"class",a[8]),l&16&&d(e,"aria-label",a[4]),l&32&&d(e,"aria-hidden",a[5])},i:I,o:I,d(a){a&&h(e),s&&s.d(),i&&i.d()}}}function yl(r,e,t){let{size:n="1em"}=e,{width:s=n}=e,{height:i=n}=e,{color:a="currentColor"}=e,{viewBox:l="0 0 24 24"}=e,{ariaLabel:o=void 0}=e,{ariaHidden:c=void 0}=e,{title:u=void 0}=e,{desc:m=void 0}=e,{class:g=void 0}=e;return r.$$set=f=>{"size"in f&&t(9,n=f.size),"width"in f&&t(0,s=f.width),"height"in f&&t(1,i=f.height),"color"in f&&t(2,a=f.color),"viewBox"in f&&t(3,l=f.viewBox),"ariaLabel"in f&&t(4,o=f.ariaLabel),"ariaHidden"in f&&t(5,c=f.ariaHidden),"title"in f&&t(6,u=f.title),"desc"in f&&t(7,m=f.desc),"class"in f&&t(8,g=f.class)},[s,i,a,l,o,c,u,m,g,n]}class Ll extends B{constructor(e){super(),P(this,e,yl,vl,D,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function ln(r){let e,t;return{c(){e=U("desc"),t=q(r[7])},l(n){e=W(n,"desc",{});var s=v(e);t=F(s,r[7]),s.forEach(h)},m(n,s){w(n,e,s),b(e,t)},p(n,s){s&128&&ne(t,n[7])},d(n){n&&h(e)}}}function on(r){let e,t;return{c(){e=U("title"),t=q(r[6])},l(n){e=W(n,"title",{});var s=v(e);t=F(s,r[6]),s.forEach(h)},m(n,s){w(n,e,s),b(e,t)},p(n,s){s&64&&ne(t,n[6])},d(n){n&&h(e)}}}function wl(r){let e,t,n,s=r[7]&&ln(r),i=r[6]&&on(r);return{c(){e=U("svg"),s&&s.c(),t=j(),i&&i.c(),n=U("path"),this.h()},l(a){e=W(a,"svg",{viewBox:!0,width:!0,height:!0,class:!0,"aria-label":!0,"aria-hidden":!0});var l=v(e);s&&s.l(l),t=j(),i&&i.l(l),n=W(l,"path",{d:!0,fill:!0}),v(n).forEach(h),l.forEach(h),this.h()},h(){d(n,"d","M21.41,11.58L12.41,2.58C12.04,2.21 11.53,2 11,2H4A2,2 0 0,0 2,4V11C2,11.53 2.21,12.04 2.59,12.41L3,12.81C3.9,12.27 4.94,12 6,12A6,6 0 0,1 12,18C12,19.06 11.72,20.09 11.18,21L11.58,21.4C11.95,21.78 12.47,22 13,22C13.53,22 14.04,21.79 14.41,21.41L21.41,14.41C21.79,14.04 22,13.53 22,13C22,12.47 21.79,11.96 21.41,11.58M5.5,7A1.5,1.5 0 0,1 4,5.5A1.5,1.5 0 0,1 5.5,4A1.5,1.5 0 0,1 7,5.5A1.5,1.5 0 0,1 5.5,7M10,19H7V22H5V19H2V17H5V14H7V17H10V19Z"),d(n,"fill",r[2]),d(e,"viewBox",r[3]),d(e,"width",r[0]),d(e,"height",r[1]),d(e,"class",r[8]),d(e,"aria-label",r[4]),d(e,"aria-hidden",r[5])},m(a,l){w(a,e,l),s&&s.m(e,null),b(e,t),i&&i.m(e,null),b(e,n)},p(a,[l]){a[7]?s?s.p(a,l):(s=ln(a),s.c(),s.m(e,t)):s&&(s.d(1),s=null),a[6]?i?i.p(a,l):(i=on(a),i.c(),i.m(e,n)):i&&(i.d(1),i=null),l&4&&d(n,"fill",a[2]),l&8&&d(e,"viewBox",a[3]),l&1&&d(e,"width",a[0]),l&2&&d(e,"height",a[1]),l&256&&d(e,"class",a[8]),l&16&&d(e,"aria-label",a[4]),l&32&&d(e,"aria-hidden",a[5])},i:I,o:I,d(a){a&&h(e),s&&s.d(),i&&i.d()}}}function kl(r,e,t){let{size:n="1em"}=e,{width:s=n}=e,{height:i=n}=e,{color:a="currentColor"}=e,{viewBox:l="0 0 24 24"}=e,{ariaLabel:o=void 0}=e,{ariaHidden:c=void 0}=e,{title:u=void 0}=e,{desc:m=void 0}=e,{class:g=void 0}=e;return r.$$set=f=>{"size"in f&&t(9,n=f.size),"width"in f&&t(0,s=f.width),"height"in f&&t(1,i=f.height),"color"in f&&t(2,a=f.color),"viewBox"in f&&t(3,l=f.viewBox),"ariaLabel"in f&&t(4,o=f.ariaLabel),"ariaHidden"in f&&t(5,c=f.ariaHidden),"title"in f&&t(6,u=f.title),"desc"in f&&t(7,m=f.desc),"class"in f&&t(8,g=f.class)},[s,i,a,l,o,c,u,m,g,n]}class Cl extends B{constructor(e){super(),P(this,e,kl,wl,D,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}const El={name:"Segmentation",icon:ml,component:Yn,control:ma,usesLabels:!0},Sl={name:"Quick Selection",icon:pl,component:Xa,usesLabels:!0},xn={name:"Classification",icon:Cl,component:ji,usesLabels:!0},Il={name:"Detection",icon:Ll,component:Yn,control:Wi,usesLabels:!0},Ml={name:"SAM",icon:cl,component:il,control:sa,usesLabels:!0},Al={name:"Options",icon:gl,component:Na},ut=[Sl,xn,El,Il,Ml,Al];function Tl(){const r=oe(ut[0]),{subscribe:e,set:t}=r;return{subscribe:e,set:n=>t(n),getName:()=>K(r).name}}const ve=Tl();function Bl(r){let e,t,n=r[0].name+"",s;return{c(){e=k("header"),t=k("h2"),s=q(n),this.h()},l(i){e=C(i,"HEADER",{class:!0});var a=v(e);t=C(a,"H2",{});var l=v(t);s=F(l,n),l.forEach(h),a.forEach(h),this.h()},h(){d(e,"class","w-full bg-info py-2 px-3 text-white text-lg flex gap-5 items-center flex-row rounded-t-md justify-center")},m(i,a){w(i,e,a),b(e,t),b(t,s)},p(i,[a]){a&1&&n!==(n=i[0].name+"")&&ne(s,n)},i:I,o:I,d(i){i&&h(e)}}}function Pl(r,e,t){let n;return R(r,ve,s=>t(0,n=s)),[n]}class Dl extends B{constructor(e){super(),P(this,e,Pl,Bl,D,{})}}function Nl(r){let e,t,n,s,i,a;return{c(){e=k("button"),t=q("Save"),this.h()},l(l){e=C(l,"BUTTON",{class:!0});var o=v(e);t=F(o,"Save"),o.forEach(h),this.h()},h(){d(e,"class",n="w-full bg-action hover:bg-hover py-2 px-3 text-white text-lg flex gap-5 items-center flex-row rounded-b-md justify-center border-b "+(!r[0].saving&&" bg-slate-400 hover:bg-slate-400")),e.disabled=s=!r[0].saving},m(l,o){w(l,e,o),b(e,t),i||(a=te(e,"click",r[1]),i=!0)},p(l,[o]){o&1&&n!==(n="w-full bg-action hover:bg-hover py-2 px-3 text-white text-lg flex gap-5 items-center flex-row rounded-b-md justify-center border-b "+(!l[0].saving&&" bg-slate-400 hover:bg-slate-400"))&&d(e,"class",n),o&1&&s!==(s=!l[0].saving)&&(e.disabled=s)},i:I,o:I,d(l){l&&h(e),i=!1,a()}}}function Ol(r,e,t){let n;return R(r,$,i=>t(0,n=i)),[n,()=>Zn()]}class Hl extends B{constructor(e){super(),P(this,e,Ol,Nl,D,{})}}function cn(r,e,t){const n=r.slice();return n[3]=e[t],n}function un(r){let e,t,n,s,i,a,l;var o=r[3].icon;function c(m){return{props:{size:m[1]}}}o&&(t=fe(o,c(r)));function u(){return r[2](r[3])}return{c(){e=k("button"),t&&M(t.$$.fragment),n=H(),this.h()},l(m){e=C(m,"BUTTON",{class:!0,"aria-label":!0});var g=v(e);t&&N(t.$$.fragment,g),n=z(g),g.forEach(h),this.h()},h(){d(e,"class",s=`btn btn-primary px-2 rounded-none 
			${r[3].name===r[0].name&&"btn-active"}
			`),d(e,"aria-label",r[3].name)},m(m,g){w(m,e,g),t&&A(t,e,null),b(e,n),i=!0,a||(l=te(e,"click",u),a=!0)},p(m,g){if(r=m,o!==(o=r[3].icon)){if(t){Y();const f=t;y(f.$$.fragment,1,0,()=>{T(f,1)}),x()}o?(t=fe(o,c(r)),M(t.$$.fragment),p(t.$$.fragment,1),A(t,e,n)):t=null}(!i||g&1&&s!==(s=`btn btn-primary px-2 rounded-none 
			${r[3].name===r[0].name&&"btn-active"}
			`))&&d(e,"class",s)},i(m){i||(t&&p(t.$$.fragment,m),i=!0)},o(m){t&&y(t.$$.fragment,m),i=!1},d(m){m&&h(e),t&&T(t),a=!1,l()}}}function zl(r){let e,t,n=ut,s=[];for(let a=0;a<n.length;a+=1)s[a]=un(cn(r,n,a));const i=a=>y(s[a],1,1,()=>{s[a]=null});return{c(){e=k("div");for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l(a){e=C(a,"DIV",{class:!0});var l=v(e);for(let o=0;o<s.length;o+=1)s[o].l(l);l.forEach(h),this.h()},h(){d(e,"class","col-span-1 bg-slate-100 flex flex-col items-centergap-3")},m(a,l){w(a,e,l);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(e,null);t=!0},p(a,[l]){if(l&3){n=ut;let o;for(o=0;o<n.length;o+=1){const c=cn(a,n,o);s[o]?(s[o].p(c,l),p(s[o],1)):(s[o]=un(c),s[o].c(),p(s[o],1),s[o].m(e,null))}for(Y(),o=n.length;o<s.length;o+=1)i(o);x()}},i(a){if(!t){for(let l=0;l<n.length;l+=1)p(s[l]);t=!0}},o(a){s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)y(s[l]);t=!1},d(a){a&&h(e),$n(s,a)}}}function jl(r,e,t){let n;return R(r,ve,a=>t(0,n=a)),[n,Sr,a=>Qn(a)]}class Vl extends B{constructor(e){super(),P(this,e,jl,zl,D,{})}}const Rl=async()=>{const r=Ne.retrieve(),e=await fetch(r+Me.imagesEndpoint);if(!e.ok)return;const t=await e.json(),n=t.sort((s,i)=>s.name.localeCompare(i.name,navigator.languages[0]||navigator.language,{numeric:!0,ignorePunctuation:!0}));return et.store(n),t},Gl=async()=>{const r=Ne.retrieve(),e=await fetch(r+Me.labelsEndpoint);if(!e.ok)return;const t=await e.json();if(!t.status_code){const{labels:n}=t;n.length&&ql(n)}},ql=r=>{for(let t of r)he.add(t);const e=he.retrieve();ie.store(e[0])},Fl=async()=>{_t(),Sn(),await Gl(),Te.markLabelsAsLoaded();const r=new Promise(async(t,n)=>{try{if(await Rl(),Te.markImagesAsLoaded(),et.retrieve().length===0)throw new Error;t()}catch{n()}});Et(r,"No images found.",Ir),r.finally(()=>Ye())};function Ul(r,e,t){let n;return R(r,Q,s=>t(0,n=s)),Kn(),ye(()=>{n&&Xn()}),[]}class Wl extends B{constructor(e){super(),P(this,e,Ul,null,D,{})}}let Ze;function Zl(){Ze=new IntersectionObserver(r=>{r.forEach(e=>{const t=e.isIntersecting?"enterViewport":"exitViewport";e.target.dispatchEvent(new CustomEvent(t))})})}function Jl(r){return Ze||Zl(),Ze.observe(r),{destroy(){Ze.unobserve(r)}}}function fn(r,e,t){const n=r.slice();return n[12]=e[t],n[14]=t,n}function mn(r){let e,t,n=`${r[1]+1}-${r[1]+de<r[0].length?r[1]+de:r[0].length} of ${r[0].length}`,s,i,a,l=[],o=new Map,c,u,m=r[2];const g=f=>f[12].name;for(let f=0;f<m.length;f+=1){let _=fn(r,m,f),E=g(_);o.set(E,l[f]=dn(E,_))}return{c(){e=k("div"),t=k("span"),s=q(n),i=H(),a=k("ul");for(let f=0;f<l.length;f+=1)l[f].c();this.h()},l(f){e=C(f,"DIV",{class:!0});var _=v(e);t=C(_,"SPAN",{class:!0,"aria-label":!0});var E=v(t);s=F(E,n),E.forEach(h),i=z(_),a=C(_,"UL",{class:!0,id:!0});var V=v(a);for(let ee=0;ee<l.length;ee+=1)l[ee].l(V);V.forEach(h),_.forEach(h),this.h()},h(){d(t,"class","px-2 text-gray-500 text-sm mt-5 flex justify-end"),d(t,"aria-label","Pagination information"),d(a,"class","w-full justify-end overflow-y-auto block"),d(a,"id","image-selector"),d(e,"class","flex-1 overflow-y-auto")},m(f,_){w(f,e,_),b(e,t),b(t,s),b(e,i),b(e,a);for(let E=0;E<l.length;E+=1)l[E]&&l[E].m(a,null);c||(u=te(a,"scroll",r[8]),c=!0)},p(f,_){_&3&&n!==(n=`${f[1]+1}-${f[1]+de<f[0].length?f[1]+de:f[0].length} of ${f[0].length}`)&&ne(s,n),_&28&&(m=f[2],l=bt(l,_,g,1,f,m,o,a,er,dn,null,fn))},d(f){f&&h(e);for(let _=0;_<l.length;_+=1)l[_].d();c=!1,u()}}}function dn(r,e){let t,n,s=e[12].name.split("/").pop()+"",i,a,l,o,c,u;return{key:r,first:null,c(){t=k("li"),n=k("button"),i=q(s),l=H(),this.h()},l(m){t=C(m,"LI",{id:!0});var g=v(t);n=C(g,"BUTTON",{class:!0});var f=v(n);i=F(f,s),f.forEach(h),l=z(g),g.forEach(h),this.h()},h(){d(n,"class",a=`max-h-7 tab ${e[12].name===e[3].name&&"text-[#202124] bg-lightgray"} w-full justify-between pl-2 pr-0 hover:text-[#2576E8]`),d(t,"id",o=e[12].name.split("/").pop()),this.first=t},m(m,g){w(m,t,g),b(t,n),b(n,i),b(t,l),c||(u=[te(n,"click",function(){Dt(ct(e[12]))&&ct(e[12]).apply(this,arguments)}),tr(Jl.call(null,t)),te(t,"enterViewport",function(){Dt((e[14]===e[2].length-1||e[14]===0)&&e[4](e[14]))&&((e[14]===e[2].length-1||e[14]===0)&&e[4](e[14])).apply(this,arguments)})],c=!0)},p(m,g){e=m,g&4&&s!==(s=e[12].name.split("/").pop()+"")&&ne(i,s),g&12&&a!==(a=`max-h-7 tab ${e[12].name===e[3].name&&"text-[#202124] bg-lightgray"} w-full justify-between pl-2 pr-0 hover:text-[#2576E8]`)&&d(n,"class",a),g&4&&o!==(o=e[12].name.split("/").pop())&&d(t,"id",o)},d(m){m&&h(t),c=!1,Ie(u)}}}function Ql(r){let e,t=r[2].length&&mn(r);return{c(){t&&t.c(),e=j()},l(n){t&&t.l(n),e=j()},m(n,s){t&&t.m(n,s),w(n,e,s)},p(n,[s]){n[2].length?t?t.p(n,s):(t=mn(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:I,o:I,d(n){t&&t.d(n),n&&h(e)}}}function Kl(r,e,t){let n,s,i,a,l;R(r,Se,E=>t(1,i=E)),R(r,et,E=>t(7,a=E)),R(r,ge,E=>t(3,l=E));let{filterInput:o=""}=e;function c(E){E===0&&f(),E!==n.length-1&&E===s.length-1&&u()}function u(){qe(Se,i+=de/4,i),t(2,s=n.slice(i,i+de))}let m=!1;const g=()=>{m=!0};async function f(){if(!m||i===0)return;m=!1;const E=document.getElementById(s[0].name.split("/").pop());qe(Se,i-=de/4,i),i<0&&qe(Se,i=0,i),t(2,s=n.slice(i,i+de)),await De(),E.scrollIntoView({behavior:"instant",block:"start",inline:"nearest"})}const _=()=>g();return r.$$set=E=>{"filterInput"in E&&t(6,o=E.filterInput)},r.$$.update=()=>{r.$$.dirty&192&&t(0,n=a.length?a.filter(E=>E.name.toLowerCase().includes(o.toLowerCase())):[]),r.$$.dirty&64&&o&&qe(Se,i=0,i),r.$$.dirty&3&&t(2,s=n.slice(i,i+de))},[n,i,s,l,c,g,o,a,_]}class Xl extends B{constructor(e){super(),P(this,e,Kl,Ql,D,{filterInput:6})}}function Yl(r){let e,t,n,s,i,a,l,o,c;function u(g){r[1](g)}let m={};return r[0]!==void 0&&(m.filterInput=r[0]),t=new Xl({props:m}),yn.push(()=>nr(t,"filterInput",u)),{c(){e=k("section"),M(t.$$.fragment),s=H(),i=k("form"),a=k("input"),this.h()},l(g){e=C(g,"SECTION",{class:!0,"aria-label":!0});var f=v(e);N(t.$$.fragment,f),s=z(f),i=C(f,"FORM",{class:!0});var _=v(i);a=C(_,"INPUT",{name:!0,type:!0,placeholder:!0,class:!0}),_.forEach(h),f.forEach(h),this.h()},h(){d(a,"name","filter"),d(a,"type","text"),d(a,"placeholder","Filter..."),d(a,"class","input input-bordered rounded-md w-full"),d(i,"class","flex flex-col justify-end mt-5"),d(e,"class","flex-1 flex flex-col max-h-[40vh]"),d(e,"aria-label","Image selector")},m(g,f){w(g,e,f),A(t,e,null),b(e,s),b(e,i),b(i,a),pe(a,r[0]),l=!0,o||(c=te(a,"input",r[2]),o=!0)},p(g,[f]){const _={};!n&&f&1&&(n=!0,_.filterInput=g[0],rr(()=>n=!1)),t.$set(_),f&1&&a.value!==g[0]&&pe(a,g[0])},i(g){l||(p(t.$$.fragment,g),l=!0)},o(g){y(t.$$.fragment,g),l=!1},d(g){g&&h(e),T(t),o=!1,c()}}}function xl(r,e,t){let n="";function s(a){n=a,t(0,n)}function i(){n=this.value,t(0,n)}return[n,s,i]}class $l extends B{constructor(e){super(),P(this,e,xl,Yl,D,{})}}const eo=(r,e)=>{r&&(to(r,e)||(no(r,e),ze({name:r,color:e}),Bn()))},to=(r,e)=>{const t=he.retrieve(),n=t.some(i=>i.name===r),s=t.some(i=>i.color===e);return n?(ae.error(`The label "${r}" already exists`),!0):s?(ae.error("A label with this color already exists"),!0):!1},no=(r,e)=>{he.add({name:r,color:e})};function ro(r){let e,t,n,s,i,a,l,o,c,u,m,g,f;return{c(){e=k("form"),t=k("label"),n=k("input"),s=H(),i=k("button"),a=q("+"),l=H(),o=k("div"),c=k("input"),this.h()},l(_){e=C(_,"FORM",{});var E=v(e);t=C(E,"LABEL",{type:!0,name:!0,class:!0});var V=v(t);n=C(V,"INPUT",{type:!0,name:!0,placeholder:!0,class:!0,autocomplete:!0}),s=z(V),i=C(V,"BUTTON",{class:!0});var ee=v(i);a=F(ee,"+"),ee.forEach(h),l=z(V),o=C(V,"DIV",{class:!0,style:!0});var O=v(o);c=C(O,"INPUT",{type:!0,name:!0,class:!0,style:!0}),O.forEach(h),V.forEach(h),E.forEach(h),this.h()},h(){d(n,"type","text"),d(n,"name","name"),d(n,"placeholder","New label"),d(n,"class","input input-bordered w-full rounded-none rounded-l-md border-r-0 focus:outline-none focus:placeholder-gray-300 focus:border-gray-600 focus:border-r-0"),d(n,"autocomplete","off"),d(i,"class","btn btn-neutral text-white font-bold text-2xl px-2 rounded-none"),d(c,"type","color"),d(c,"name","color"),d(c,"class","h-auto box-border"),d(c,"style",u=`opacity: ${r[2]};`),d(o,"class","flex box-border"),d(o,"style",m=`border: 1px solid ${r[1]}; 	border-radius: 0px 6px 6px 0px;`),d(t,"type","text"),d(t,"name","New label"),d(t,"class","flex")},m(_,E){w(_,e,E),b(e,t),b(t,n),pe(n,r[0]),b(t,s),b(t,i),b(i,a),b(t,l),b(t,o),b(o,c),pe(c,r[1]),g||(f=[te(n,"input",r[5]),te(c,"input",r[6]),te(e,"submit",sr(r[3]))],g=!0)},p(_,[E]){E&1&&n.value!==_[0]&&pe(n,_[0]),E&4&&u!==(u=`opacity: ${_[2]};`)&&d(c,"style",u),E&2&&pe(c,_[1]),E&2&&m!==(m=`border: 1px solid ${_[1]}; 	border-radius: 0px 6px 6px 0px;`)&&d(o,"style",m)},i:I,o:I,d(_){_&&h(e),g=!1,Ie(f)}}}function so(r,e,t){let n,s,i;R(r,le,m=>t(4,s=m)),R(r,he,m=>t(7,i=m));let a=Mr,l=Ar;const o=()=>{const m=i.length;eo(a,l),m+1===i.length&&t(0,a="")};function c(){a=this.value,t(0,a)}function u(){l=this.value,t(1,l)}return r.$$.update=()=>{r.$$.dirty&16&&t(2,{opacity:n}=s,n)},[a,l,n,o,s,c,u]}class io extends B{constructor(e){super(),P(this,e,so,ro,D,{})}}function hn(r){let e,t;return e=new Wl({}),{c(){M(e.$$.fragment)},l(n){N(e.$$.fragment,n)},m(n,s){A(e,n,s),t=!0},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){y(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function gn(r){let e,t,n,s,i=r[1].usesLabels&&bn();var a=r[1].component;function l(o){return{}}return a&&(n=fe(a,l())),{c(){e=k("div"),i&&i.c(),t=H(),n&&M(n.$$.fragment),this.h()},l(o){e=C(o,"DIV",{class:!0});var c=v(e);i&&i.l(c),t=z(c),n&&N(n.$$.fragment,c),c.forEach(h),this.h()},h(){d(e,"class","flex-1")},m(o,c){w(o,e,c),i&&i.m(e,null),b(e,t),n&&A(n,e,null),s=!0},p(o,c){if(o[1].usesLabels?i?c&2&&p(i,1):(i=bn(),i.c(),p(i,1),i.m(e,t)):i&&(Y(),y(i,1,1,()=>{i=null}),x()),c&2&&a!==(a=o[1].component)){if(n){Y();const u=n;y(u.$$.fragment,1,0,()=>{T(u,1)}),x()}a?(n=fe(a,l()),M(n.$$.fragment),p(n.$$.fragment,1),A(n,e,null)):n=null}},i(o){s||(p(i),n&&p(n.$$.fragment,o),s=!0)},o(o){y(i),n&&y(n.$$.fragment,o),s=!1},d(o){o&&h(e),i&&i.d(),n&&T(n)}}}function bn(r){let e,t;return e=new io({}),{c(){M(e.$$.fragment)},l(n){N(e.$$.fragment,n)},m(n,s){A(e,n,s),t=!0},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){y(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function _n(r){let e,t,n=!r[0].areAnnotationsLoading&&pn(r);return{c(){n&&n.c(),e=j()},l(s){n&&n.l(s),e=j()},m(s,i){n&&n.m(s,i),w(s,e,i),t=!0},p(s,i){s[0].areAnnotationsLoading?n&&(Y(),y(n,1,1,()=>{n=null}),x()):n?(n.p(s,i),i&1&&p(n,1)):(n=pn(s),n.c(),p(n,1),n.m(e.parentNode,e))},i(s){t||(p(n),t=!0)},o(s){y(n),t=!1},d(s){n&&n.d(s),s&&h(e)}}}function pn(r){let e,t,n;var s=r[1].control;function i(a){return{}}return s&&(e=fe(s,i())),{c(){e&&M(e.$$.fragment),t=j()},l(a){e&&N(e.$$.fragment,a),t=j()},m(a,l){e&&A(e,a,l),w(a,t,l),n=!0},p(a,l){if(l&2&&s!==(s=a[1].control)){if(e){Y();const o=e;y(o.$$.fragment,1,0,()=>{T(o,1)}),x()}s?(e=fe(s,i()),M(e.$$.fragment),p(e.$$.fragment,1),A(e,t.parentNode,t)):e=null}},i(a){n||(e&&p(e.$$.fragment,a),n=!0)},o(a){e&&y(e.$$.fragment,a),n=!1},d(a){a&&h(t),e&&T(e,a)}}}function ao(r){let e,t,n,s,i,a,l=!r[0].areImagesLoading&&!r[0].areLabelsLoading&&hn(),o=r[1]&&gn(r),c=r[1].control&&_n(r);return i=new $l({}),{c(){l&&l.c(),e=H(),t=k("div"),o&&o.c(),n=H(),c&&c.c(),s=H(),M(i.$$.fragment),this.h()},l(u){l&&l.l(u),e=z(u),t=C(u,"DIV",{class:!0});var m=v(t);o&&o.l(m),n=z(m),c&&c.l(m),s=z(m),N(i.$$.fragment,m),m.forEach(h),this.h()},h(){d(t,"class","p-5 w-[280px] flex flex-col justify-between")},m(u,m){l&&l.m(u,m),w(u,e,m),w(u,t,m),o&&o.m(t,null),b(t,n),c&&c.m(t,null),b(t,s),A(i,t,null),a=!0},p(u,[m]){!u[0].areImagesLoading&&!u[0].areLabelsLoading?l?m&1&&p(l,1):(l=hn(),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(Y(),y(l,1,1,()=>{l=null}),x()),u[1]?o?(o.p(u,m),m&2&&p(o,1)):(o=gn(u),o.c(),p(o,1),o.m(t,n)):o&&(Y(),y(o,1,1,()=>{o=null}),x()),u[1].control?c?(c.p(u,m),m&2&&p(c,1)):(c=_n(u),c.c(),p(c,1),c.m(t,s)):c&&(Y(),y(c,1,1,()=>{c=null}),x())},i(u){a||(p(l),p(o),p(c),p(i.$$.fragment,u),a=!0)},o(u){y(l),y(o),y(c),y(i.$$.fragment,u),a=!1},d(u){l&&l.d(u),u&&h(e),u&&h(t),o&&o.d(),c&&c.d(),T(i)}}}function lo(r,e,t){let n,s;return R(r,Te,i=>t(0,n=i)),R(r,ve,i=>t(1,s=i)),[n,s]}class oo extends B{constructor(e){super(),P(this,e,lo,ao,D,{})}}function co(r){let e,t,n,s,i,a,l,o,c,u;return t=new Dl({}),i=new Vl({}),l=new oo({}),c=new Hl({}),{c(){e=k("section"),M(t.$$.fragment),n=H(),s=k("div"),M(i.$$.fragment),a=H(),M(l.$$.fragment),o=H(),M(c.$$.fragment),this.h()},l(m){e=C(m,"SECTION",{class:!0,style:!0});var g=v(e);N(t.$$.fragment,g),n=z(g),s=C(g,"DIV",{class:!0});var f=v(s);N(i.$$.fragment,f),a=z(f),N(l.$$.fragment,f),f.forEach(h),o=z(g),N(c.$$.fragment,g),g.forEach(h),this.h()},h(){d(s,"class","grid grid-cols-8 h-full"),d(e,"class","fixed z-20 bg-[#fafdfe] flex flex-col m-6 rounded-md h-full w-[320px]"),J(e,"height","-webkit-fill-available")},m(m,g){w(m,e,g),A(t,e,null),b(e,n),b(e,s),A(i,s,null),b(s,a),A(l,s,null),b(e,o),A(c,e,null),u=!0},p:I,i(m){u||(p(t.$$.fragment,m),p(i.$$.fragment,m),p(l.$$.fragment,m),p(c.$$.fragment,m),u=!0)},o(m){y(t.$$.fragment,m),y(i.$$.fragment,m),y(l.$$.fragment,m),y(c.$$.fragment,m),u=!1},d(m){m&&h(e),T(t),T(i),T(l),T(c)}}}function uo(r,e,t){let n,s;return R(r,Q,i=>t(0,n=i)),R(r,or,i=>t(1,s=i)),r.$$.update=()=>{r.$$.dirty&3&&s.url.origin&&n&&Fl()},[n,s]}class fo extends B{constructor(e){super(),P(this,e,uo,co,D,{})}}function vn(r){let e;const t=r[5].default,n=mt(t,r,r[4],null);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,i){n&&n.m(s,i),e=!0},p(s,i){n&&n.p&&(!e||i&16)&&dt(n,t,s,s[4],e?gt(t,s[4],i,null):ht(s[4]),null)},i(s){e||(p(n,s),e=!0)},o(s){y(n,s),e=!1},d(s){n&&n.d(s)}}}function mo(r){let e,t,n=r[0]&&vn(r);return{c(){e=k("div"),n&&n.c(),this.h()},l(s){e=C(s,"DIV",{id:!0,class:!0});var i=v(e);n&&n.l(i),i.forEach(h),this.h()},h(){d(e,"id","map"),d(e,"class","svelte-xoi8de")},m(s,i){w(s,e,i),n&&n.m(e,null),t=!0},p(s,[i]){s[0]?n?(n.p(s,i),i&1&&p(n,1)):(n=vn(s),n.c(),p(n,1),n.m(e,null)):n&&(Y(),y(n,1,1,()=>{n=null}),x())},i(s){t||(p(n),t=!0)},o(s){y(n),t=!1},d(s){s&&h(e),n&&n.d()}}}let ho=12;function go(r,e,t){let n;R(r,Q,m=>t(0,n=m));let{$$slots:s={},$$scope:i}=e,{options:a={attributionControl:!1,drawControls:!0,max_zoom:20}}=e,{zoomPosition:l="bottomright"}=e,{panes:o=[{name:"default",zIndex:200},{name:"sam",zIndex:400}]}=e,c=[42.0407,3.1],u;return Pe(async()=>{if(!u){const m=await Ue(()=>import("../chunks/leaflet-src.e35a4304.js").then(f=>f.l),[],import.meta.url),{Icon:g}=m;g.Default.imagePath="./",await Ue(()=>import("../chunks/leaflet.draw.45fd9d9b.js"),[],import.meta.url),await Ue(()=>import("../chunks/leaflet.activearea.bef5e9d0.js"),[],import.meta.url),window.type=!0,u=m.map("map",a).setActiveArea("map-viewport").setView(c,ho),u.zoomControl.setPosition(l),o==null||o.forEach(({name:f,zIndex:_})=>{u.createPane(f),u.getPane(f).style.zIndex=_,u.getPane(f).style.pointerEvents="none"}),Q.store(u)}}),ye(()=>{Q.remove()}),ir("map",{getMap:()=>u}),r.$$set=m=>{"options"in m&&t(1,a=m.options),"zoomPosition"in m&&t(2,l=m.zoomPosition),"panes"in m&&t(3,o=m.panes),"$$scope"in m&&t(4,i=m.$$scope)},[n,a,l,o,i,s]}let bo=class extends B{constructor(e){super(),P(this,e,go,mo,D,{options:1,zoomPosition:2,panes:3})}};function _o(r,e,t){let{url:n}=e,{options:s}=e;const{getMap:i}=ar("map");let a=null;return Pe(()=>{const l=i();a=L.tileLayer(n,s).addTo(l)}),ye(()=>{a.remove()}),r.$$set=l=>{"url"in l&&t(0,n=l.url),"options"in l&&t(1,s=l.options)},[n,s]}class po extends B{constructor(e){super(),P(this,e,_o,null,D,{url:0,options:1})}}function vo(r){let e;return{c(){e=k("div"),this.h()},l(t){e=C(t,"DIV",{class:!0}),v(e).forEach(h),this.h()},h(){d(e,"class","map-viewport")},m(t,n){w(t,e,n)},p:I,i:I,o:I,d(t){t&&h(e)}}}class yo extends B{constructor(e){super(),P(this,e,null,vo,D,{})}}function Lo(r){let e,t;return e=new po({props:{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",options:{maxZoom:20,zIndex:1}}}),{c(){M(e.$$.fragment)},l(n){N(e.$$.fragment,n)},m(n,s){A(e,n,s),t=!0},p:I,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){y(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function wo(r){let e,t,n,s,i;return e=new yo({}),s=new bo({props:{$$slots:{default:[Lo]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment),t=H(),n=k("section"),M(s.$$.fragment),this.h()},l(a){N(e.$$.fragment,a),t=z(a),n=C(a,"SECTION",{class:!0});var l=v(n);N(s.$$.fragment,l),l.forEach(h),this.h()},h(){d(n,"class","w-full h-full")},m(a,l){A(e,a,l),w(a,t,l),w(a,n,l),A(s,n,null),i=!0},p(a,[l]){const o={};l&1&&(o.$$scope={dirty:l,ctx:a}),s.$set(o)},i(a){i||(p(e.$$.fragment,a),p(s.$$.fragment,a),i=!0)},o(a){y(e.$$.fragment,a),y(s.$$.fragment,a),i=!1},d(a){T(e,a),a&&h(t),a&&h(n),T(s)}}}class ko extends B{constructor(e){super(),P(this,e,null,wo,D,{})}}function Co(r){let e,t,n,s;return e=new fo({}),n=new ko({}),{c(){M(e.$$.fragment),t=H(),M(n.$$.fragment)},l(i){N(e.$$.fragment,i),t=z(i),N(n.$$.fragment,i)},m(i,a){A(e,i,a),w(i,t,a),A(n,i,a),s=!0},i(i){s||(p(e.$$.fragment,i),p(n.$$.fragment,i),s=!0)},o(i){y(e.$$.fragment,i),y(n.$$.fragment,i),s=!1},d(i){T(e,i),i&&h(t),T(n,i)}}}function Eo(r){let e,t,n,s,i,a;e=new Ns({}),s=new Hs({});let l=Co();return{c(){M(e.$$.fragment),t=H(),n=k("main"),M(s.$$.fragment),i=H(),l&&l.c(),this.h()},l(o){N(e.$$.fragment,o),t=z(o),n=C(o,"MAIN",{class:!0});var c=v(n);N(s.$$.fragment,c),i=z(c),l&&l.l(c),c.forEach(h),this.h()},h(){d(n,"class","min-w-full relative min-h-full")},m(o,c){A(e,o,c),w(o,t,c),w(o,n,c),A(s,n,null),b(n,i),l&&l.m(n,null),a=!0},p:I,i(o){a||(p(e.$$.fragment,o),p(s.$$.fragment,o),p(l),a=!0)},o(o){y(e.$$.fragment,o),y(s.$$.fragment,o),y(l),a=!1},d(o){T(e,o),o&&h(t),o&&h(n),T(s),l&&l.d()}}}class Po extends B{constructor(e){super(),P(this,e,null,Eo,D,{})}}export{Po as component};
