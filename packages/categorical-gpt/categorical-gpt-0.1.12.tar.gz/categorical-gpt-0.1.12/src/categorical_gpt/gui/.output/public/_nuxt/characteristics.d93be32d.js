import{_ as V}from"./CharacteristicList.vue.6c83e2e5.js";import{d as p,r as v,k as n,l as d,m as s,z as C,A as b,B as a,C as z,D as g,c as A,o as F,q as h,E as B,v as f,t as L}from"./entry.db242d8d.js";import D from"./Icon.b886924b.js";import{u as x,a as H}from"./wizzard.b3d15bb3.js";import"./config.7089e39b.js";const N={class:"modal modal-open"},R={class:"card bg-base-100 shadow-xl p-4"},T=s("h3",{class:"font-bold text-lg mb-4"},"Add new characteristic",-1),U={class:"flex justify-between"},q=p({__name:"CharacteristicForm",emits:["close","add"],setup(l,{emit:e}){const t=v("");return(c,o)=>(n(),d("div",N,[s("div",R,[T,C(s("input",{"onUpdate:modelValue":o[0]||(o[0]=u=>z(t)?t.value=u:null),type:"text",placeholder:"Type here",class:"input input-bordered w-full mb-4"},null,512),[[b,a(t)]]),s("div",U,[s("button",{class:"btn",onClick:o[1]||(o[1]=u=>e("close"))},"Close"),s("button",{class:"btn btn-success",onClick:o[2]||(o[2]=u=>e("add",a(t)))},"Add")])])]))}}),E=["placeholder"],M={key:0,class:"progress w-full"},j=p({__name:"HeuristicForm",props:{characteristic:{type:String,required:!0}},setup(l){const e=x();return(t,c)=>(n(),d("div",null,[C(s("textarea",{rows:"8",class:"textarea textarea-bordered w-full",placeholder:`Heuristic for ${l.characteristic}`,"onUpdate:modelValue":c[0]||(c[0]=o=>a(e).cgpt.heuristics[l.characteristic]=o)},null,8,E),[[b,a(e).cgpt.heuristics[l.characteristic]]]),a(e).cgpt.heuristics[l.characteristic]===void 0?(n(),d("progress",M)):g("",!0)]))}}),I={class:"flex gap-4"},P={class:"flex-shrink-0"},W={class:"max-h-[80vh] overflow-y-auto"},G={class:"text-center"},J=s("div",{class:"divider divider-horizontal"},null,-1),K={class:"flex-grow"},O={key:0,class:"alert alert-info"},Q=s("div",null,"Select a characteristic to edit it's heuristic.",-1),X={key:1},Y={class:"text-lg font-bold"},ot=p({__name:"characteristics",setup(l){const e=H(),t=x(),c=v(!1),o=i=>{t.addCharacteristic(i),c.value=!1,t.selectedCharacteristic=i},u=()=>{c.value=!1},w=async()=>{e.isStepLoading[e.steps[1].number]=!0,e.hasStepLoaded[e.steps[2].number]=!1,await t.loadCharacteristics(!0),await Promise.all(t.cgpt.characteristics.map(i=>t.loadHeuristic(i.name))),e.isStepLoading[e.steps[1].number]=!1},k=A(()=>{const i=[];for(let r of t.cgpt.characteristics)t.cgpt.heuristics[r.name]||i.push(r.name);return i});return F(()=>{e.hasStepLoaded[e.steps[1].number]||e.loadStep(e.steps[1])}),(i,r)=>{const S=V,$=q,m=D,y=j;return n(),d("div",I,[s("div",P,[s("div",W,[h(S,{loading:a(k),modelValue:a(t).selectedCharacteristic,"onUpdate:modelValue":r[0]||(r[0]=_=>a(t).selectedCharacteristic=_)},null,8,["loading","modelValue"]),a(c)?(n(),B($,{key:0,onAdd:o,onClose:u})):g("",!0)]),s("div",G,[s("a",{class:"btn btn-ghost mt-2",onClick:r[1]||(r[1]=_=>c.value=!0)},[h(m,{name:"material-symbols:add"}),f(" Add new ")])])]),J,s("div",K,[a(t).selectedCharacteristic?(n(),d("div",X,[s("h1",Y,L(a(t).selectedCharacteristic),1),h(y,{characteristic:a(t).selectedCharacteristic},null,8,["characteristic"])])):(n(),d("div",O,[h(m,{name:"zondicons:information-outline"}),Q,s("div",null,[s("button",{class:"btn btn-sm",onClick:w},[f(" Reload "),h(m,{name:"ic:round-refresh"})])])]))])])}}});export{ot as default};
